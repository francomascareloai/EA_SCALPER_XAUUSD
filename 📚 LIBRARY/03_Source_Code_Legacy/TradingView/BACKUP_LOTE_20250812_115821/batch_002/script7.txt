

//@version=5
indicator(title="script 7",  format=format.volume, precision=2, timeframe="", timeframe_gaps=true)

ma(source, length, type) =>
    switch type
        "SMA" => ta.sma(source, length)
        "EMA" => ta.ema(source, length)
        "SMMA (RMA)" => ta.rma(source, length)
        "WMA" => ta.wma(source, length)
        "VWMA" => ta.vwma(source, length)
typeMA = input.string(title = "Method", defval = "SMA", options=["SMA", "EMA", "SMMA (RMA)", "WMA", "VWMA"], group="Smoothing")

smoothingLengthShort = input.int(title = "Length Short", defval = 2, minval = 1, maxval = 100, group="Smoothing")
smoothingLengthLong = input.int(title = "Length Long", defval = 14, minval = 1, maxval = 100, group="Smoothing")

smoothingLineShort = ma(ta.obv, smoothingLengthShort, typeMA)
smoothingLineLong = ma(ta.obv, smoothingLengthLong, typeMA)

p1 = plot(smoothingLineShort, style=plot.style_line)
p2 = plot(smoothingLineLong, style=plot.style_line)
fill(p1, p2, color = smoothingLineShort > smoothingLineLong ? color.green : color.red)