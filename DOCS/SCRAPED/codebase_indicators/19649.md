# Pending Order Timer on Closed Market - script for MetaTrader 4

Source: https://www.mql5.com/en/code/19649

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/19649) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Pending Order Timer on Closed Market - script for MetaTrader 4

[Mehmet Cak](/en/users/doktorcak)

Views:
:   17256

Rating:
:   (7)

Published:
:   7 September 2019, 14:42

Updated:
:   19 March 2020, 10:40
:   [Pending Order Timer.mq4](/en/code/download/19649/pending_order_timer.mq4 "Pending Order Timer.mq4")
    (12.37 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/19649.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

You can send pending order on closed market between StartTime and EndTime at specific minumum and maximum price.

You can also use it on open market to setup time and price of your choice.

Parameters

[![](https://c.mql5.com/18/85/Parameters1__3.jpg)](https://c.mql5.com/18/85/Parameters1__2.jpg "https://c.mql5.com/18/85/Parameters1__2.jpg")

Comments on Screen

[![](https://c.mql5.com/18/85/ShowonScreen__3.jpg)](https://c.mql5.com/18/85/ShowonScreen__2.jpg "https://c.mql5.com/18/85/ShowonScreen__2.jpg")

You can check my other work here [Average Trailing Stop](/en/market/product/46855# "Average Trailing Stop")

**Last comments |
[Go to discussion](/en/forum/321766)**
(6)

![Mehmet Cak](https://c.mql5.com/avatar/2019/10/5D96B4D4-1913.jpg "Mehmet Cak")

**[Mehmet Cak](/en/users/doktorcak)**
|
11 Sep 2019 at 14:02

**Amynwa:**  

I will appreciate some clarification on this [pending
order](/en/docs/constants/tradingconstants/orderproperties#enum_order_type "MQL5 documentation:") script.

Please kindly r

**Amynwa:**  

I will appreciate some clarification on this [pending
order](/en/docs/constants/tradingconstants/orderproperties#enum_order_type "MQL5 documentation:") script.

Please kindly reply

When you put the script on a chart whether the market is open or closed.  Between the starttime and endtime it will open a buy or a sell order
between two price level.

For example you wanna send a buy limit order between 2 timeframes at the price of your choice on a closed market or open market. Set Starttime and
Endtime, set maximum price and minumum price

you are willing to buy. Script do the rest.

![Mdabulkalam Azad](https://c.mql5.com/avatar/2019/9/5D760D25-5C0C.jpg "Mdabulkalam Azad")

**[Mdabulkalam Azad](/en/users/260211875)**
|
11 Sep 2019 at 15:26

very nice

![Amynwa](https://c.mql5.com/avatar/avatar_na2.png "Amynwa")

**[Amynwa](/en/users/amynwa)**
|
12 Sep 2019 at 12:04

Thank you bro for your reply.Appreciate it. Please kindly clarify the following :

1. Minimum Price---  Does this mean the price you want to set your stop orders? and if so does it mean the actual market price you wish to
set the stop orders or the pips size where you would want to set the order (especially for a closed market)

2. [Maximum price](https://www.mql5.com/en/docs/constants/indicatorconstants/prices#enum_applied_price_enum "MQL5 documentation: Price Constants") --- how does this from the ''Minimum price'' above

3. Stop Loss--- does it mean the actual market price you want to place your stop loss or just the pips size you are willing to use as a stop loss

4. Take Profit---does it mean the actual market price you want to place your Take profit or just the pips size you are willing to use as a Take
profit

5. TrailingStop--- what does this mean with respect to stop orders (buy stop and sell stop)

6. TrailingStopStart--- what does this mean with respect to stop orders (buy stop and sell stop)

7. TrailingStep----what does this mean with respect to stop orders (buy stop and sell stop)

8. TimeStart---does this represent the time you want the order to trigger? and if so does it represent one's local time or brokers time? How
does this relate to closed market?

9. TimeEnd--- How does this differ from ''TimeStart" above?

10. Magic Number--- do you need to change this if one put both buy and sell stop orders for same pair? also do you need to change the number for
different pairs/

I am eagely waiting for your answers

![Pipmenow](https://c.mql5.com/avatar/avatar_na2.png "Pipmenow")

**[Pipmenow](/en/users/pipmenow)**
|
19 Mar 2020 at 02:57

Where do I download this EA from?

![iemad98](https://c.mql5.com/avatar/avatar_na2.png "iemad98")

**[iemad98](/en/users/iemad98)**
|
29 May 2021 at 08:31

if i have [placed pending order](/en/docs/constants/tradingconstants/enum_trade_request_actions "MQL5 documentation: Trade Operation Types") using this script, how do i cancel the script. Thanks in advance

![FolowLineEA](https://c.mql5.com/i/code/expert.png)
[FolowLineEA](/en/code/26516)

Expert works only with FolowLine indicator.

![DoubleChannelEA](https://c.mql5.com/i/code/expert.png)
[DoubleChannelEA](/en/code/26469)

This expert uses iDoubleChannel indicator.

![5MinutesScalpingEA](https://c.mql5.com/i/code/expert.png)
[5MinutesScalpingEA](/en/code/26618)

5MinutesScalpingEA uses indicators (5) from 5MinutesScalpingSystem.

![iRSI_Advanced_Histo](https://c.mql5.com/i/code/indicator.png)
[iRSI\_Advanced\_Histo](/en/code/26622)

The indicator is shown in a histogram the RSI up and downtrend uses a different way.