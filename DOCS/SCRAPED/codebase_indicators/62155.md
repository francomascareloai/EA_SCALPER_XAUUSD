# Adaptive CCI - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/62155

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/62155) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Adaptive CCI - indicator for MetaTrader 5

[Josemir Da Silva Dias](/en/users/jhoe125)  |
[English](javascript:void(false);)

[Русский](/ru/code/62155) [中文](/zh/code/62155) [Español](/es/code/62155) [Deutsch](/de/code/62155) [日本語](/ja/code/62155) [Português](/pt/code/62155) [한국어](/ko/code/62155) [Français](/fr/code/62155) [Italiano](/it/code/62155) [Türkçe](/tr/code/62155)

Views:
:   2636

Rating:
:   (5)

Published:
:   31 August 2025, 12:41
:   [CCI Adaptative.mq5](/en/code/download/62155/cci_adaptative.mq5 "CCI Adaptative.mq5")
    (14.78 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/62155.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Adaptive CCI - Dynamic Commodity Channel Index**

[![](https://c.mql5.com/18/166/CCI_Adaptative_001__2.png)](https://c.mql5.com/18/166/CCI_Adaptative_001__1.png "https://c.mql5.com/18/166/CCI_Adaptative_001__1.png") [![](https://c.mql5.com/18/166/CCI_Adaptative_002__2.png)](https://c.mql5.com/18/166/CCI_Adaptative_002__1.png "https://c.mql5.com/18/166/CCI_Adaptative_002__1.png") [![](https://c.mql5.com/18/166/CCI_Adaptative_003__2.png)](https://c.mql5.com/18/166/CCI_Adaptative_003__1.png "https://c.mql5.com/18/166/CCI_Adaptative_003__1.png")

* **Overview**

> The Adaptive CCI indicator revolutionises the traditional Commodity Channel Index by replacing fixed thresholds (100/-100) with dynamically adjusting upper and lower limits that adapt to the current market volatility. Instead of using arbitrary levels that work poorly across different assets and market conditions, this indicator automatically calculates optimal overbought and oversold levels based on the actual price behaviour.

* **Key Features**

> **Dynamic Threshold Adjustment**: Upper and lower limits automatically adapt to market volatility using Exponential Moving Average (EMA) of detected peaks and troughs
>
> **Volatility-Based Smoothing**: Adjusts responsiveness based on ATR (Average True Range), becoming more sensitive during high volatility and more stable during low volatility
>
> **No More False Signals**: Eliminates signals generated during sideways markets where traditional CCI would give false overbought/oversold readings
>
> **Asset-Specific Calibration**: Works optimally for any asset without manual threshold adjustments
>
> **Strategy Tester Compatible**: Functions correctly in both real-time trading and historical backtesting

* **How It Works**

1. **Peak/Trough Monitoring**: Tracks CCI values between threshold crossings
2. **EMA-Based Adaptation**: Uses Exponential Moving Average to smooth the dynamic thresholds
3. **Volatility Adjustment**: Automatically modifies the EMA smoothing factor based on current market volatility
4. **Real-Time Updates**: Thresholds continuously update as new price data arrives

* **How to Use**

> **Overbought Condition**: When CCI crosses above the dynamic upper limit (red line)
>
> **Oversold Condition**: When CCI crosses below the dynamic lower limit (green line)
>
> **Reversal Signals**: Look for price reversals when CCI exits the overbought/oversold zones
>
> **Trend Confirmation**: Use alongside price action for higher probability entries

* **Inputs**

> **CCI\_Period**: CCI calculation period (default: 14) - increase for more smoothing
>
> **BaseThreshold**: Base threshold for peak/trough detection (default: 100)
>
> **EMA\_Smoothing**: EMA smoothing factor (0.1-0.3, default: 0.2) - higher values react faster
>
> **ATR\_Period**: ATR period for volatility measurement (default: 14)
>
> **VolatilityFactor**: Volatility adjustment factor (default: 0.5)

* **Trading Strategies**

> **Reversal Trading**: Enter long when price reverses upward after CCI crosses below dynamic lower limit
>
> **Trend Following**: Use as confirmation - only take trend trades when CCI is not in overbought/oversold territory
>
> **Divergence Detection**: Look for divergences between price and CCI with dynamic thresholds
>
> **Multi-Timeframe Analysis**: Apply on higher timeframe for trend direction, lower timeframe for entries

* **Pro Tips**

> - For \*\*high*volatility assets\*\**(crypto, GBP pairs): Increase BaseThreshold to 110-120
>
> - For \*\*low*volatility assets\*\**(major forex pairs): Decrease BaseThreshold to 90-100
>
> - Combine with *price action* for higher probability signals
>
> - Works best on H1 and higher timeframes but can be used on lower timeframes with adjusted parameters
>
> - The dynamic thresholds provide better signal quality than fixed levels during different market regimes

* **Why It's Better Than Traditional CCI**

> Traditional CCI uses fixed thresholds (100/-100) that work well in some markets but poorly in others. The Adaptive CCI solves this fundamental limitation by:
>
> - Automatically adjusting to each asset's unique volatility profile
>
> - Reducing false signals during sideways markets
>
> - Maintaining sensitivity during trending markets
>
> - Providing statistically relevant overbought/oversold levels

This indicator is the result of extensive research and testing to create a more intelligent version of the classic CCI that actually adapts to changing market conditions rather than forcing markets to fit arbitrary thresholds.

Translated from Portuguese by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/pt/code/62155](/pt/code/62155)

![Logify - Library for log management](https://c.mql5.com/i/code/library.png)
[Logify - Library for log management](/en/code/59821)

Logify is a logging library for MQL designed to simplify debugging, tracking, and monitoring of EAs and indicators. It provides structured, customizable, and organized logs directly on the chart or in the terminal, with support for log levels, flexible formats, and multiple handlers. A lightweight, elegant solution that is easy to integrate into your MQL projects.

![Disconnect Alerts for MT5](https://c.mql5.com/i/code/indicator.png)
[Disconnect Alerts for MT5](/en/code/62998)

Trade server disconnect alerts utility for MT5.

![ZigZag WaveSize](https://c.mql5.com/i/code/indicator.png)
[ZigZag WaveSize](/en/code/62147)

Modified standard ZigZag indicator with the addition of information about wavelength in pips, levels and different alerts logic

![Fractal CCI FIlter](https://c.mql5.com/i/code/indicator.png)
[Fractal CCI FIlter](/en/code/62145)

Fractal with CCI Filter - Indicator that combines traditional fractals with the CCI filter to reduce false signals. Shows red arrows above the candles for bullish fractals (sell) when the CCI is above the configured threshold and green arrows below the candles for bearish fractals (buy) when the CCI is below the negative threshold. Perfect for identifying reversal points with greater reliability.