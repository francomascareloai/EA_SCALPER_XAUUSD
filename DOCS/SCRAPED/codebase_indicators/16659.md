# Binary Options Strategy Library - library for MetaTrader 4

Source: https://www.mql5.com/en/code/16659

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16659) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Binary Options Strategy Library - library for MetaTrader 4

[Martin Amiri](/en/users/__martin__)

Views:
:   27072

Rating:
:   (17)

Published:
:   22 December 2016, 14:38

Updated:
:   23 January 2017, 09:03
:   \MQL4\Include\

    [BinaryOptionsStrategyLibrary.mqh](/en/code/download/16659/binaryoptionsstrategylibrary.mqh "BinaryOptionsStrategyLibrary.mqh")
    (4.75 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16659.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This library provides input parameters and functions to build your Binary Options strategy stored in an indicator to test and improve your strategy in the Strategy Tester of MetaTrader 4 with the [Binary Options Strategy Tester](/en/market/product/19164) utility from Marketplace.

### Installation:

Download this library (**BinaryOptionsStrategyLibrary.mqh)**and place it into**\Include**folder ([path to your MetaTrader 4]\MQL4\Include). After that you are able to use the functions by including the file (see Usage).

### Usage:

If you have downloaded and stored the libary into \Include folder ([path to your MetaTrader 4]\MQL4\Include), you are able to include it like this:

#include <BinaryOptionsStrategyLibrary.mqh>

The library will be available like described in the example above if it is placed in \Include folder of your MetaTrader 4.  
**Changing the content of the library is not needed!**

### Provided input parameters:

The library provides the following input parameters to use in your indicator which contains your Binary Options strategy:

//---- Input parameters  
input YesNo oneTradePerCandle                   = YES;      //Just one SELL/BUY Trade per candle  
input YesNo shouldCheckOnlyAtBeginningOfCandle  = YES;      //Check only at beginning of new candles (not on every tick)

![Binary Options Strategy Library Input Parameters](https://c.mql5.com/18/55/BinaryOptionsStrategyLibraryInputParameters__1.png "Binary Options Strategy Library Input Parameters")

![Binary Options Strategy Library Input Parameters](https://c.mql5.com/18/55/BinaryOptionsStrategyLibraryInputParameters.png "Binary Options Strategy Library Input Parameters")

### Provided functions:

The library provides the following functions to use in your indicator which contains your Binary Options strategy.

**PlaceTrade()**

Place a trade (OP\_SELL or OP\_BUY) in Binary-Options-Strategy-Tester.

//+------------------------------------------------------------------+  
//| Function to place orders for Strategy-Tester.                    |  
//| Input parameter: OP\_SELL or OP\_BUY                               |  
//+------------------------------------------------------------------+  
void PlaceTrade(  
   int \_tradeOperation //Trade operation OP\_SELL or OP\_BUY  
   );

**Parameters:**

*\_tradeOperation* - [in] Trade operation type. It can be OP\_SELL or OP\_BUY of Trade operation enumeration.

**Return value:**

  No return value.

**PrintDebugValue()**

Prints out debug values while Binary-Options-Strategy-Tester is running.

//+------------------------------------------------------------------+  
//| Function to print out debug-values                               |  
//+------------------------------------------------------------------+  
void PrintDebugValue(  
   string \_labelText="", //Text for the label  
   string \_valueText="", //Value to print out  
   int    \_row=0         //Row of the message, starting with 0  
   );

**Parameters:**

*\_labelText* - [in] Text of the label.

*\_valueText* - [in] Value to print out.

*\_row* - [in] Row of the message, starting with 0.

**Return value:**

  No return value.

**CallStrategy()**

Function will decide if tester has to check for the strategy rules. Call this function in OnCalculate event of your indicator which contains your Binary Options strategy.

//+------------------------------------------------------------------+  
//| Function to decide if we have to check for our rules or not.     |  
//| Call this function in OnCalculate-event of your indicator.       |  
//+------------------------------------------------------------------+  
void CallStrategy();

**Parameters:**

  No parameters.

**Return value:**

  No return value.

**Note:**

CallStrategy() function in the library will call a function named CheckMyRules() in your indicator where you have to place your conditions of your Binary Option strategy.  
Therefore **you have to implement the function CheckMyRules() in your Binary Options strategy indicator**.

### Example:

See "**[How to build and test a Binary Options strategy with the MetaTrader 4 Strategy Tester](/en/articles/2820)**" for an example how to use this library and implement CheckMyRules() in combination with Binary Options Strategy Tester utility from marketplace.

### FAQ:

* Question: I can not compile the library without errors. What is going wrong?
* Answer: You do not need to compile the library (this mqh file). It will be included in your Binary Options strategy.

* Question: Why you did not show a complete example how to use the library on this page to go the next steps?
* Answer: A complete example is shown in the article "[How to build and test a Binary Options strategy with the MetaTrader 4 Strategy Tester](/en/articles/2820)".

* Question: Do I need to rent the Binary-Options-Strategy Tester in Marketplace to test and improve my Binary Options strategies?
* Answer: Yes. To use the utility "Binary-Options-Strategy Tester" from Marketplace you have to rent it.

* Question: I got errors like "Cannot call .. BinaryOptionsStrategyTester.ex4::PrintDebugValue" or "Cannot load .. \Experts\Market\BinaryOptionsStrategyTester.ex4" in the log of MetaTrader 4. What can I do?
* Answer: Make sure to use the latest version (greater than v1.00) of the library. Check the version tag in code of your library and see changelog [v1.01](/en/code/16659#v101) for more information.

### Further informations:

* [Binary Options Strategy Tester](/en/market/product/19164) — Binary Options Test Framework utility from marketplace to test and improve your Binary Options strategy with Strategy Tester of MetaTrader 4.
* [How to build and test a Binary Options strategy with the MetaTrader 4 Strategy Tester](/en/articles/2820) — Article with an example of a Binary Options strategy stored in an indicator to use with Binary-Options-Strategy-Tester.

### Changelog:

**v1.01**

* Fixed "Cannot load.." and "Cannot call.." errors by changing the import filename from "..\\Experts\\Market\\BinaryOptionsStrategyTester.ex4" to "..\\Experts\\Market\\Binary Options Strategy Tester.ex4". Filename of Binary Options Strategy Tester from Marketplace is "Binary Options Strategy Tester.ex4" instead of assumed "BinaryOptionsStrategyTester.ex4". Therefore the import of the file did not match the correct filename of Binary Options Strategy Tester utility which causes in errors like "Cannot call .. BinaryOptionsStrategyTester.ex4::PrintDebugValue" or "Cannot load .. \Experts\Market\BinaryOptionsStrategyTester.ex4".

**[Go to discussion](/en/forum/164523)**

![Custom Moving Average Indicator](https://c.mql5.com/i/code/indicator.png)
[Custom Moving Average Indicator](/en/code/16606)

Code based on MetaTrader 4 Moving Average indicator.

![Ichimoku Kinko Hyo System](https://c.mql5.com/i/code/expert.png)
[Ichimoku Kinko Hyo System](/en/code/16972)

An EA fully based on the Ichimoku Kinko Hyo system.

![LB & SB using RSI & Momentum](https://c.mql5.com/i/code/expert.png)
[LB & SB using RSI & Momentum](/en/code/16575)

The same EA's as previously released. The additional code allows the user to set parameters on RSI and Momentum.

![Ultimate Moving Average](https://c.mql5.com/i/code/indicator.png)
[Ultimate Moving Average](/en/code/17215)

Moving Average based on Ultimate Oscillator. It calculates weighted average of three moving averages (Simple, Exponential, Smoothed or Linear Weighted).