# Quantile bands - generalized - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/16911

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16911) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Quantile bands - generalized - indicator for MetaTrader 5

[Mladen Rakic](/en/users/mladen)  |
[English](javascript:void(false);)

[Русский](/ru/code/16911) [中文](/zh/code/16911) [Español](/es/code/16911) [Deutsch](/de/code/16911) [日本語](/ja/code/16911) [Português](/pt/code/16911)

Views:
:   9732

Rating:
:   (22)

Published:
:   15 November 2016, 14:31

Updated:
:   2 May 2017, 17:18
:   [Quantile\_bands\_-\_generalized.mq5](/en/code/download/16911/quantile_bands_-_generalized.mq5 "Quantile_bands_-_generalized.mq5")
    (10.49 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16911.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Quantile bands - that are using the following quantile(s) for calculation.

In statistics and the theory of probability, **quantiles** are cutpoints dividing the range of a [probability distribution](https://en.wikipedia.org/wiki/Probability_distribution "Probability distribution")
into contiguous intervals with equal probabilities, or dividing the
observations in a sample in the same way. There is one less quantile
than the number of groups created. Thus [quartiles](https://en.wikipedia.org/wiki/Quartiles "Quartiles")
are the three cut points that will divide a dataset into four
equal-size groups (cf. depicted example). Common quantiles have special
names: for instance quartile, decile (creating 10 groups: see below for
more). The groups created are termed halves, thirds, quarters, etc.,
though sometimes the terms for the quantile are used for the groups
created, rather than for the cut points.

*q*-**Quantiles** are values that partition a finite set of values into *q* subsets of (nearly) equal sizes. There are *q* − 1 of the *q*-quantiles, one for each integer *k* satisfying 0 < *k* < *q*. In some cases the value of a quantile may not be uniquely determined, as can be the case for the [median](https://en.wikipedia.org/wiki/Median "Median")
(2-quantile) of a uniform probability distribution on a set of even
size. Quantiles can also be applied to continuous distributions,
providing a way to generalize [rank statistics](https://en.wikipedia.org/wiki/Rank_statistics "Rank statistics") to continuous variables. When the [cumulative distribution function](https://en.wikipedia.org/wiki/Cumulative_distribution_function "Cumulative distribution function") of a [random variable](https://en.wikipedia.org/wiki/Random_variable "Random variable") is known, the *q*-quantiles are the application of the [quantile function](https://en.wikipedia.org/wiki/Quantile_function "Quantile function") (the [inverse function](https://en.wikipedia.org/wiki/Inverse_function "Inverse function") of the [cumulative distribution function](https://en.wikipedia.org/wiki/Cumulative_distribution_function "Cumulative distribution function")) to the values {1/*q*, 2/*q*, …, (*q* − 1)/*q*}.

But wit a deviation and "generalized".

All the "bands" version of quantile
bands are using 3 prices. This version is not. It is suing only one
price, and for having an option to make a (substantial) difference
between high and low, you can chose the period for finding out high and
low value(s). But even without that (when the high/low period is set to
<=1) the bands calculation itself does the job OK, and in most of the
cases there is no need at all to have high/low period activated at all.

![](https://c.mql5.com/18/55/quantile_bands.png)

The reason for the "generalized in the name:

This
indicator can be applied to any other indicator too. So, it does not
necessarily need to be applied to prices. And some of the usage like
that (just a quick example of quantile bands applied to rsi and
stochastic) can give quite interesting results.

**[Go to discussion](/en/forum/160991)**

![Double smoothed stochastic](https://c.mql5.com/i/code/indicator.png)
[Double smoothed stochastic](/en/code/16889)

Double smoothed stochastic - extended

![Swing line - extended version](https://c.mql5.com/i/code/indicator.png)
[Swing line - extended version](/en/code/16879)

Extended swing line indicator

![MACD using QWMA](https://c.mql5.com/i/code/indicator.png)
[MACD using QWMA](/en/code/16912)

MACD that uses QWMA for calculation

![QWMA - quadratic weighted moving average](https://c.mql5.com/i/code/indicator.png)
[QWMA - quadratic weighted moving average](/en/code/16913)

QWMA - "quadratic weighet moving average" new generation