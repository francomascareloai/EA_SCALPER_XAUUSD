# RRS Impulse - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/58462

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/58462) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# RRS Impulse - expert for MetaTrader 4

[Rajeev Ranjan Sharma](/en/users/rajeevrrs)  |
[English](javascript:void(false);)

[–†—É—Å—Å–∫–∏–π](/ru/code/58462) [‰∏≠Êñá](/zh/code/58462) [Espa√±ol](/es/code/58462) [Deutsch](/de/code/58462) [Êó•Êú¨Ë™û](/ja/code/58462) [Portugu√™s](/pt/code/58462) [ÌïúÍµ≠Ïñ¥](/ko/code/58462) [Fran√ßais](/fr/code/58462) [Italiano](/it/code/58462) [T√ºrk√ße](/tr/code/58462)

Views:
:   7937

Rating:
:   (11)

Published:
:   20 April 2025, 07:31
:   [RRS Impulse EA - V1.mq4](/en/code/download/58462/rrs_impulse_ea_-_v1.mq4 "RRS Impulse EA - V1.mq4")
    (70.64 KB)
    [view](# "view")

    [RRS Impulse EA - V2.mq4](/en/code/download/58462/rrs_impulse_ea_-_v2.mq4 "RRS Impulse EA - V2.mq4")
    (71.71 KB)
    [view](# "view")

    [RRS Impulse Plus EA.mq4](/en/code/download/58462/rrs_impulse_plus_ea.mq4 "RRS Impulse Plus EA.mq4")
    (167.83 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/58462.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This EA scalps using the **Relative Strength Index (RSI) Indicator, Stochastic Oscillator Indicator,** and **Bollinger Bands Indicator** to identify **trend** or **counter-trend** opportunities. As a **multi-pair EA**, it scans multiple currency pairs for signals.

This EA comes with a variety of features, including **Trailing, Risk Management, Money Management, Restriction Mode,** and more. With the right settings, it has the potential to generate significant profits.

**Impulse :**

| **Variable** | **Values** | **Description** |
| --- | --- | --- |
| **Trading\_Indicator** | RSI, Stochastic, BollingerBands, RSI\_Stochastic\_BollingerBands | **RSI:** Uses the RSI indicator to analyze the market and open trades.   **Stochastic:** Uses the Stochastic indicator to analyze the market and trade.   **BollingerBands:** Uses the Bollinger Bands indicator to analyze the market and trade.   **RSI\_Stochastic\_BollingerBands:** Uses all three indicators (RSI, Stochastic, and Bollinger Bands) together for more accurate market analysis before taking a trade. |
| **TradeDirection** | Trend, CounterTrend | **Trend:** Opens a trade in the direction of the trend. For example, if the RSI touches the overbought line, it will take a buy trade; if the RSI touches the oversold line, it will take a sell trade.   **CounterTrend:** Trades against the trend, waiting for a trend reversal. For example, if the RSI touches the overbought line, it will take a sell trade; if the RSI touches the oversold line, it will take a buy trade. |
| **SignalStrength** | NormalSignal, NormalMultiTimeFrame, StrongSignal, VeryStrongSignal | **NormalSignal:** Analyzes the indicator (RSI, Stochastic, or Bollinger Bands) based on a single timeframe specified in the EA settings.    **NormalMultiTimeFrameSignal:** Analyzes the indicator (RSI, Stochastic, or Bollinger Bands) based on a single timeframe at a time (M1, M5, M15, M30, H1, H4), checking them one by one.   **StrongSignal:** Analyzes multiple timeframes (M1, M5, M15, M30) for a stronger confirmation before trading.  **VeryStrongSignal:** Analyzes multiple timeframes (M1, M5, M15, M30, H1, H4) for a stronger confirmation before trading. |
| **minLot\_Size** | Double Value | Minimum lot size to ensure lot size randomness does not go below this value. |
| **maxLot\_Size** | Double Value | Maximum lot size to ensure lot size randomness does not exceed this value. |
| **StopLoss** | Int Value | Set your stop loss value in points/pips (the smallest price movement unit for your asset).   Set Stop Loss to **0** to disable it. |
| **TakeProfit** | Int Value | Set your take profit value in points/pips.   Set Take Profit to **0** to disable it. |
| **Trailing\_Start** | Int Value (Points/Pips) | Specify the number of pips from the open trade price at which trailing should begin.   Set **0** to disable the trailing operation. |
| **Trailing\_Gap** | Int Value (Points/Pips) | Set the gap in pips between the current market price and the trailing stop loss.   Set **0** to disable the trailing operation. |
| **Risk\_In\_Money\_Type** | FixedMoney, BalancePercentage | **FixedMoney:** Closes all open trades when the negative floating reaches your specified amount.   **BalancePercentage:** Automatically calculates based on your account balance and closes all trades once this limit is reached. |
| **Money\_In\_Risk** | Int Value | If **Risk\_In\_Money\_Type** is set to **FixedMoney**, enter the amount of money you can afford to lose.   If set to **BalancePercentage**, the EA will automatically calculate the risk based on your account balance and close all trades when that limit is reached. |
| **Max\_Spread** | Int Value (Points/Pips) | Sets the maximum acceptable spread. If the current spread exceeds this value, the EA will not take a trade and will wait for the spread to return within the specified limit. |
| **Slippage** | Int Value (Points/Pips) | Set the maximum allowed slippage for order execution. |
| **MaxOpenTrade** | Int Value | Maximum number of open trades allowed. |
| **Trade\_Currencies** | String Value | List of all currency symbols (not currency pairs) that the EA should analyze and trade. |

### Impulse Plus :

**RRS Impulse Plus EA** is an **advanced** version of [**RRS Impulse EA**](/en/market/product/135031 "https://www.mql5.com/en/market/product/135031"). This upgraded version provides more flexibility with several new options. The EA scalps using the **Relative Strength Index (RSI), Stochastic Oscillator, Moving Average (MA),** and **Bollinger Bands** indicators to identify trend and counter-trend opportunities. As a **multi-pair EA**, it scans multiple currency pairs for signals.

This EA includes various features such as **Trailing, Risk Management, Money Management, Restriction Mode,** and more. With the right settings, it has the potential to generate significant profits.

### **Signal Descriptions:**

| **Indicator** | **BUY** | **SELL** |
| --- | --- | --- |
| **RSI** | **Trend:** When RSI touches the overbought line.   **CounterTrend:** When RSI touches the oversold line. | **Trend:** When RSI touches the oversold line.   **CounterTrend:** When RSI touches the overbought line. |
| **Stochastic** | **Trend:** When both the Main & Signal lines touch the overbought level.   **CounterTrend:** When both the Main & Signal lines touch the oversold level. | **Trend:** When both the Main & Signal lines touch the oversold level.   **CounterTrend:** When both the Main & Signal lines touch the overbought level. |
| **Bollinger Bands** | **Trend:** When the current market price touches the Bollinger Bands' resistance line (Upper Band).   **CounterTrend:** When the current market price touches the Bollinger Bands' Support line (Lower Band). | **Trend:** When the current market price touches the Bollinger Bands' Support line (Lower Band).   **CounterTrend:** When the current market price touches the Bollinger Bands' resistance line (Upper Band). |
| **Moving Average** | **Trend/CounterTrend:** When the current market price is above the Moving Average. | **Trend/CounterTrend:** When the current market price is below the Moving Average. |

### 

### **Signal Scenarios (Inverse : False)**

| RSI | Stochastic | Bollinger Bands | Moving Average | Signal |
| --- | --- | --- | --- | --- |
| Above | Above | Above | Below | CounterTrend Sell ‚úÖ |
| Below | Below | Below | Above | CounterTrend Buy¬† ‚úÖ |
| Above | Above | Above | Above | Trend Buy ‚úÖ |
| Below | Below | Below | Below | Trend Sell ‚úÖ |

### 

### **Signal Scenarios (Inverse : True)**

| RSI | Stochastic | Bollinger Bands | Moving Average | Signal |
| --- | --- | --- | --- | --- |
| Above | Above | Above | Below | CounterTrend Buy ‚úÖ |
| Below | Below | Below | Above | CounterTrend Sell ‚úÖ |
| Above | Above | Above | Above | Trend Sell ‚úÖ |
| Below | Below | Below | Below | Trend Buy ‚úÖ |

### **Variable Descriptions:**

| Variable | Values | Description |
| --- | --- | --- |
| **RSI, Stochastic, Bollinger Bands, Moving Average** | Bool (True/False) | **RSI**: Enable to use the RSI indicator for market analysis and trade execution.  **Stochastic**: Enable to use the Stochastic indicator for market analysis and trade execution.  **Bollinger Bands**: Enable to use the Bollinger Bands indicator for market analysis and trade execution. **Moving Average**: Enable to use the Moving Average indicator for market analysis and trade execution.   You can enable multiple indicators together. At least one indicator must be enabled for EA operation. |
| **Timeframe** | M1, M5, M15, M30, H1, H4, D1 | Bool (True/False) |
| **TradeDirection** | Trend, CounterTrend | **Trend**: Opens trades in the direction of the trend (e.g., if RSI touches the overbought line, it takes a **buy** trade; if RSI touches the oversold line, it takes a **sell** trade).  **CounterTrend**: Trades against the trend, waiting for a trend reversal (e.g., if RSI touches the overbought line, it takes a **sell** trade; if RSI touches the oversold line, it takes a **buy** trade). |
| **SignalStrength** | SingleTF, MultiTF | **SingleTF**: The EA checks timeframes one by one. For example, if RSI and Bollinger Bands are enabled and the selected timeframes are M1 & M15, the EA will first check signals for both indicators on M1, then on M15, and open a trade if any condition is met.  **MultiTF**: The EA checks all selected timeframes together. For example, if RSI and Stochastic are enabled with timeframes M1, M5 & M15, the EA will confirm signals across all timeframes simultaneously before executing a trade.   **SingleTF** follows **OR logic**, while **MultiTF** follows **AND logic** for timeframes. |
| **Inverse** | Bool True/false | By using Inverse Mode, it will reverse the order type. This means a buy trade will become a sell trade, and a sell trade will become a buy trade. |
| **LotMode** | Random\_Lot, Lot\_Percentage | **Random Lot**: Trades with a **random** lot size between minLot\_Size and maxLot\_Size .  **Lot\_Percentage**: Trades based on the **risk percentage per trade** and ensures that the lot size does not go below minLot\_Size or exceed maxLot\_Size .   If you want to use a **fixed** lot size, set minLot\_Size and maxLot\_Size to the same value. |
| **StopLoss\_Type** | Virtual\_SL, Classic\_SL | **Virtual SL:** The EA will close the trade when your specified stop loss is reached, but the stop loss level will not be visible to the broker‚Äôs server (remains on your local PC).   **Classic SL:** The EA will place a visible stop loss that reflects on the broker‚Äôs server.   *This feature is useful if your broker does not support hyperactive EAs, has a limit on modification quotas per day, or if you suspect your broker is hunting your stop loss.* |
| **StopLoss** | Int Value | Set your **Stop Loss** value in points/pips. Set **0** to disable Stop Loss. |
| **TakeProfit\_Type** | Virtual\_TP, Classic\_TP | **Virtual TP:** The take profit level is not visible to the broker‚Äôs server.   **Classic TP:** The take profit level is visible to the broker‚Äôs server. |
| **TakeProfit** | Int Value | Set your **Take Profit** value in points/pips. Set **0** to disable Take Profit. |
| **Trailing\_Type** | Classic\_Trailing, Virtual\_Trailing | **Virtual Trailing:** The trailing stop loss is hidden from the broker‚Äôs server (remains on your local PC).   **Classic Trailing:** A visible trailing stop loss is placed and reflects on the broker‚Äôs server.   **Note:** This feature is useful if your broker does not support hyperactive EAs, has modification limits per day, or if you suspect stop-loss hunting.   **Recommendation:** Martingale relies on strict calculations, so it's better to use **Classic Trailing**. |
| **Trailing\_Start** | Int Value (Points/Pips) | Number of pips from the open trade price at which trailing should begin. Set **0** to disable trailing. |
| **Trailing\_Gap** | Int Value (Points/Pips) | Set the gap (in pips) between the market price and the trailing stop loss. Set **0** to disable trailing. |
| **CandleExit** | Int Value | Once the trade is opened, after X number of candles from the opened trade, it will close the trade. Set 0 to disable Candle Exit. |

### **Risk Management:**

| Variable | Values | Description |
| --- | --- | --- |
| **RiskManagement\_Action** | StopEA, CloseAndContinue | **StopEA**: If the negative floating loss reaches Money\_In\_Risk , all trades are closed, and the EA stops trading (requires manual restart).  **CloseAndContinue**: If the negative floating loss reaches Money\_In\_Risk , all trades are closed, but the EA continues trading. |
| **Risk\_In\_Money\_Type** | FixedMoney, BalancePercentage | **FixedMoney**: Closes trades when the floating loss reaches a set monetary value.  **BalancePercentage**: Calculates risk based on the account balance and closes trades when the defined percentage loss is reached. |
| **Money\_In\_Risk** | Int Value | If Risk\_In\_Money\_Type is **FixedMoney**, enter the maximum money you can afford to lose. If **BalancePercentage**, the EA will calculate the value based on your account balance. |

### **Money Management:**

| Variable | Values | Description |
| --- | --- | --- |
| **MoneyManagement\_Action** | Stop\_EA, Close\_And\_Continue | **Stop\_EA**: When equity reaches Target\_Revenue , all trades close, and the EA stops (manual restart required).  **Close\_And\_Continue**: When equity reaches Target\_Revenue , all trades close, and the EA continues trading. |
| **MoneyManagement\_Type** | Fixed\_Money, Balance\_Percentage | **Fixed\_Money**: Closes trades when equity reaches a set amount.  **Balance\_Percentage**: Closes trades when a certain percentage of the account balance is reached. |
| **Target\_Revenue** | Int Value | If MoneyManagement\_Type is **Fixed\_Money**, enter the target equity value. If **Balance\_Percentage**, the EA will calculate the value based on your account balance. |

### **Restriction Mode:**

| Variable | Values | Description |
| --- | --- | --- |
| **Max\_Spread** | Int Value (Points/Pips) | Maximum spread allowed for trade execution. The EA will wait if the spread exceeds this value. |
| **Slippage** | Int Value (Points/Pips) | Maximum allowed slippage for trade execution. |
| **MaxOpenTrade** | Int Value | Maximum number of open trades allowed at a time. |
| **TradeMode** | Bool (True/False) | **True**: The EA can open new trades.  **False**: The EA will not open new trades but will manage existing ones. |

### **News Management:**

| Variable | Values | Description |
| --- | --- | --- |
| **NewsManagement** | NewsDeactivated, HighImpactNews, ImportantNews | **NewsDeactivated**: No news filter applied.  **HighImpactNews**: Filters out high-impact news events.  **ImportantNews**: Only filters out important news events listed in Important\_News . |
| **BeforeNews\_Minutes** | Int Value (Minutes) | Time before news events when trading should pause. (e.g., 120 for **2 hours**) |
| **AfterNews\_Minutes** | Int Value (Minutes) | Time after news events when trading should pause. (e.g., 180 for **3 hours**) |
| **News\_CutLoss** | Int Value | If a trade has a floating loss equal to or worse than this value during news time, it will be closed. |
| **News\_ReCheckMinutes** | Int Value | Frequency at which the EA should update news data from ForexFactory. |
| **Important\_News** | String Value | List of important news events that should pause trading (comma-separated). |

### **Currency Selection:**

| Variable | Values | Description |
| --- | --- | --- |
| **Trade\_Currencies** | String Value | List of currency symbols (not pairs) that the EA should analyze and trade (comma-separated). |

### **Important Notes:**

1. **Enable web requests** in **MT4/MT5**:

   * Navigate to **Tools ‚Üí Options ‚Üí Expert Advisor ‚Üí Allow Web Request**, then add:  
      **[http://nfs.faireconomy.media/](/go?link=https://www.forexfactory.com/ "https://www.forexfactory.com/")**
   * (This service is provided by **ForexFactory** and retrieves news data from their platform.)
2. **Recommended Testing:**

   * It is **highly recommended** to test this EA on a **demo account for at least 45 days** before using it on a real account.

**Please share your experience, feedback, and trading reports.**

**Good Luck & Happy Trading! üöÄ**

### 

### **Important Note:**

It is **highly recommended** to test this EA on a **demo account for at least 45 days** before using it on a real account.

Please share your **experience, feedback,** and **account report.**

You can also check out the advanced version of this EA, [RRS Impulse Plus](/en/market/product/135353 "https://www.mql5.com/en/market/product/135353"). It offers more flexibility to choose timeframes, indicators of your choice, news filters, and more.

**Good Luck & Happy Trading!** üöÄ

**Last comments |
[Go to discussion](/en/forum/485205)**
(3)

![ReyPal2k72 PEREZ](https://c.mql5.com/avatar/avatar_na2.png "ReyPal2k72 PEREZ")

**[ReyPal2k72 PEREZ](/en/users/reypal2k72)**
|
28 Apr 2025 at 00:54

**Automated-Trading:**  

[RRS Impulse](/en/code/58462):

Author: [Rajeev Ranjan Sharma](/en/users/rajeevrrs "rajeevrrs")

DID YOU COMPILE THE SCRIPT? 8 ERRORS AND MULTIPLE WARNINGS

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
28 Apr 2025 at 04:01

a mash up of very old code and new code. OrderSelect lines will not work due to their decade old syntax.

The website should have detected this crap before it is posted.

![Zakia Lehlohonolo Nkhata](https://c.mql5.com/avatar/avatar_na2.png "Zakia Lehlohonolo Nkhata")

**[Zakia Lehlohonolo Nkhata](/en/users/0722080184)**
|
16 Jul 2025 at 09:06

Can we have for MT5

![Adjustable Moving Average EA](https://c.mql5.com/i/code/expert.png)
[Adjustable Moving Average EA](/en/code/58250)

This Expert Advisor opens trades based on the crossover of two adjustable moving averages. You can fully customize the periods, type (e.g., EMA, SMA), and direction (long-only, short-only, or both). It includes optional Stop Loss, Take Profit, and Trailing Stop settings.

![ZigZag Fibo](https://c.mql5.com/i/code/indicator.png)
[ZigZag Fibo](/en/code/58239)

Original ZigZag MT4 with added automatic fibonacci

![Fair Value Gaps](https://c.mql5.com/i/code/indicator.png)
[Fair Value Gaps](/en/code/58677)

Fair Value Gaps indicator or 'imbalance areas' where markets often move back to.

![EA Stochastic  Bollinger Bands Multi - Timeframe](https://c.mql5.com/i/code/expert.png)
[EA Stochastic Bollinger Bands Multi - Timeframe](/en/code/58746)

This MQL4 code implements an Expert Advisor (EA) that trades based on the Stochastic Oscillator and Bollinger Bands indicators across multiple timeframes (M1, M5, and M15).