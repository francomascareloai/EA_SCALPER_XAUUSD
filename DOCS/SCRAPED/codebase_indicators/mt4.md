# MQL4 Source Code Library for MetaTrader 4

Source: https://www.mql5.com/en/code/mt4

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Access the CodeBase from your [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

Couldn't find the right code? Order it in the [Freelance](https://www.mql5.com/en/job) section

[How to Write](https://www.mql5.com/en/articles/100) an Expert Advisor or an Indicator

# MQL4 Source Code Library for MetaTrader 4

![icon](https://c.mql5.com/i/code/code-icon.png)

The largest library features codes of free trading Expert Advisors, technical indicators and scripts. With the available applications you can trade in automated mode and analyze price dynamics. Use the library of codes to learn more about financial market sentiments.

Download free applications, test them and run in your MetaTrader 4. You can access them from the MetaTrader 4 platform and the MetaEditor development environment.

[Submit your code](/en/code/new)

![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

You are missing trading opportunities:

* Free trading apps
* Over 8,000 signals for copying
* Economic news for exploring financial markets

Registration
Log in

latin characters without spaces

a password will be sent to this email

An error occurred

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

Allow the use of cookies to log in to the MQL5.com website.

Please enable the necessary setting in your browser, otherwise you will not be able to log in.

 

[Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)

[1](/en/code/mt4)[2](/en/code/mt4/page2)[3](/en/code/mt4/page3)[4](/en/code/mt4/page4)[5](/en/code/mt4/page5)[6](/en/code/mt4/page6)[7](/en/code/mt4/page7)[8](/en/code/mt4/page8)[...](/en/code/mt4/page56)[104](/en/code/mt4/page104)

latest |

[best](/en/code/mt4/best)

[MACD-v](/en/code/66221 "MACD-v")

MACD-v is a volatility-normalised variation of the classic MACD. It provides momentum, crossover and expansion/contraction signals with enhanced stability across multiple market conditions.

[Strategy Schedule](/en/code/66175 "Strategy Schedule")

Советник создан для помощи трейдеру в ручной торговле.

[ZigZag HH HL LH LL Pattern Label Indicator (MT4)](/en/code/66106 "ZigZag HH HL LH LL Pattern Label Indicator (MT4)")

This indicator is an enhanced version of the standard ZigZag used in MetaTrader 4.
It automatically detects and labels structural price points: Higher High (HH),
Higher Low (HL), Lower High (LH), and Lower Low (LL). The indicator draws trend
lines between ZigZag points and prints the market structure on the chart in real time.
Useful for:
• Market structure analysis (HH, HL, LH, LL)
• Pattern recognition (Head & Shoulders, Quasimodo, Break of Structure)
• Trend continuation / reversal confirmation
• Dashboard scanners and multi-timeframe systems
The code has been optimized to remove warnings, uses only MQL4-compatible
functions, and ensures clean object management with timeframe tagging.
Suitable for manual traders, system builders, and EA developers.

[Data collector (profit/equity)](/en/code/65634 "Data collector (profit/equity)")

I wrote this indicator to compare two modes, timeframes and analyze the settings of my EA. You can make adjustments to suit your requirements or add something. The data collected is saved to a file every 5 minutes (one file per instance).

[SAR\_MACD\_EA](/en/code/65407 "SAR_MACD_EA")

Macd is the first to indicate bearish or bullish direction, secondly SAR in correlation with price indicates a swing in direction (Sar Flip above or below price), third conformation is the sma 40 shifted 3 and the closed price above or below the sma.

[Heikin Ashi MT4 EA](/en/code/64833 "Heikin Ashi MT4 EA")

Designed to trade using Heikin Ashi candles. By smoothing price action and filtering out market noise, this EA creates a clear map of market direction, allowing traders to catch strong trends, avoid false reversals, and manage trades with confidence.

[Reverse Engineered RSI (MT4)](/en/code/64759 "Reverse Engineered RSI (MT4)")

Reverse Engineered RSI projects traditional RSI levels — 30, 50, and 70 — directly onto the price chart instead of the oscillator window.
This lets traders see where RSI overbought, oversold, and equilibrium zones align with actual market prices, making it easier to spot precise support, resistance, and potential reversal levels without switching views or relying on hidden momentum data.

[TakeStop](/en/code/64734 "TakeStop")

Displays price levels for simulated trades, including the set Take Profit (TP) and Stop Loss (SL) values, for the selected trading direction. It also shows brief statistics, including an hourly breakdown for entry.

[Ichimoku Edge MT4 EA](/en/code/64492 "Ichimoku Edge MT4 EA")

Ichimoku Edge is based on the standard Ichimoku Kinko Hyo indicator with default settings. It generates Buy and Sell signals from the cross of the Chikou Span with the price, confirmed by the position of price and Chikou Span relative to the Kumo (cloud).

[CrossFire Alert - Fast alerts. Smarter entries.](/en/code/64331 "CrossFire Alert - Fast alerts. Smarter entries.")

It’s a powerful moving average crossover indicator that instantly notifies you when two MAs cross, so you never miss a signal.

[Trade By Retail Sentiment](/en/code/62627 "Trade By Retail Sentiment")

This Expert Advisor uses retail trader sentiment from the Ziwox API to implement a contrarian trading strategy, taking trades opposite to the majority of retail positions. By combining sentiment data with a moving average trend filter, it identifies potential market reversals and avoids crowded trades. The EA automatically fetches and parses sentiment in real-time, executes buy or sell orders based on contrarian logic, and displays clear visual indicators of retail long and short ratios directly on the chart, providing traders with both actionable signals and market insight.

[Dollar Index Tracker - See the Dollar Index right below your chart.](/en/code/64246 "Dollar Index Tracker - See the Dollar Index right below your chart.")

Dollar Index Tracker displays the US Dollar Index (USDX / DXY) directly below the chart of your current trading pair. This makes it easy to compare the strength of the US Dollar against a basket of major currencies while analyzing your pair at the same time.

[Stochastic Eclipse - MT4 EA](/en/code/64117 "Stochastic Eclipse - MT4 EA")

By identifying overbought and oversold conditions, it helps traders catch early reversals, ride strong momentum shifts, and filter false signals.

[Trend Vision MT4 Indicator](/en/code/64055 "Trend Vision MT4 Indicator")

Trend Vision is a custom MT4 indicator that combines MACD momentum with Bollinger Bands volatility to give clear, reliable trading signals.
MACD shows momentum shifts, divergence, and trend strength.
Bollinger Bands measure volatility, expansion, and squeezes.
By fusing these two, Trend Vision filters out false moves and highlights only the high-probability moments when both momentum and volatility agree.

[MA Cross Alert MT4 Indicator](/en/code/64027 "MA Cross Alert MT4 Indicator")

MA Cross Alert is a custom MT4 indicator that solves one key problem: MetaTrader’s built-in Moving Average shows the line but has no way to alert you when price crosses it.

[MT4-BuildYourGridEA](/en/code/62249 "MT4-BuildYourGridEA")

The expert is a system to help any trader to make a grid of orders.

[Viral MACD Strategy (3.5M+ Views) — Recreated and Automated](/en/code/62000 "Viral MACD Strategy (3.5M+ Views) — Recreated and Automated")

This Expert Advisor implements a well-known MACD strategy made popular through a viral video. It combines MACD signals with trend and support/resistance filters.

[LotSize Calculation](/en/code/61681 "LotSize Calculation")

This is a simple script file to compute lot size either using risk percentage approach or the actual amount to risk.

[Eliot Waves](/en/code/25287 "Eliot Waves")

"Eliot Waves" EA draws 2 Trend Lines with "zigzag" on chart and trades When a Eliot retracement is formed,has Trailing Stop Loss &Take Profit works with all time frames major forex pairs and stocks NASDAQ.

[2 Moving Averages with Bollinger Bands](/en/code/61518 "2 Moving Averages with Bollinger Bands")

"2 Moving Averages with Bollinger Bands" is a custom MT5 indicator that combines two configurable moving averages and optional Bollinger Bands. It generates real-time Buy and Sell arrows when crossovers occur, with optional alerts, sound, and email notifications. Suitable for all timeframes and symbols.

[HLPeak\_Trend](/en/code/60969 "HLPeak_Trend")

High/Low Peak Trend

[Auto Tp](/en/code/60955 "Auto Tp")

Set Auto TP and SL:
Automatically setting Take Profit (TP) and Stop Loss (SL) helps manage risk and lock in profits without manual intervention. This feature ensures each trade has predefined exit levels, reducing emotional decision-making and improving trading discipline. Ideal for both beginners and experienced traders, it provides consistency and protection in volatile markets.

[Pending tread EA.](/en/code/60295 "Pending tread EA.")

Pending\_tread EA
This Expert Advisor automatically places a grid of pending orders above and below the current market price. It supports both buy and sell pending orders with user-configurable distance (in pips), lot size, and take profit levels. The EA maintains up to 10 pending orders per side, placing sell stop orders below the market and buy stop orders above, ideal for scalping strategies on any timeframe. Includes order management by MagicNumber to avoid conflicts with other EAs or manual trades.

[Double Moving Averages With Fibonacci](/en/code/60016 "Double Moving Averages With Fibonacci")

This indicator combines two moving averages to generate buy/sell signals based on crossovers.
It also plots Fibonacci retracement levels using recent swing highs and lows for support/resistance.
Visual arrows mark trade signals, and optional alerts notify users in real-time.
Works on all timeframes for flexible technical analysis.

[SniperJaw EA](/en/code/60015 "SniperJaw EA")

SniperJaw EA is a one-trade-at-a-time robot that uses the Alligator indicator (Jaw, Teeth, Lips) to follow the trend. You can control the trade size with LotSize, choose to close trades on opposite signal with UseEntryToExit, or use TakeProfit and StopLoss in pips if set. Slippage is managed by Slippage, and trading can be turned on or off using TradeEnabled. Alligator settings like JawPeriod, JawShift, TeethPeriod, TeethShift, LipsPeriod, and LipsShift let you adjust how the indicator works.

[2 Moving Averages](/en/code/59976 "2 Moving Averages")

2 Moving Averages is a custom MQL4 indicator that uses two moving averages (fast and slow) to identify potential trend changes and generate buy or sell signals based on crossover points. It enhances signal reliability by optionally integrating support and resistance levels, helping traders confirm entry and exit zones. This tool is suitable for trend-following strategies and works across multiple time frames.

[MA2CCI](/en/code/10363 "MA2CCI")

Sample Trading Sistem for cross 2MA &amp; CCI

[Market Status Info](/en/code/59280 "Market Status Info")

A script that displays the useful information about the broker, the account and the full specifications of the instrument.

[BBMA - Bollinger Band Moving Average](/en/code/59228 "BBMA - Bollinger Band Moving Average")

All indicators required by BBMA Strategy in a single indicator.

[Range Breakout Indicator - Indicator Buffer Only](/en/code/59210 "Range Breakout Indicator - Indicator Buffer Only")

This indicator for Breakout Strategy. It doesn't print objects on the chart.

[RSI Timeframe Analyzer](/en/code/58822 "RSI Timeframe Analyzer")

A powerful multi-timeframe RSI dashboard that visually displays the overbought, oversold, and neutral RSI status across 9 different timeframes — from M1 to MN1.

[EA Stochastic Bollinger Bands Multi - Timeframe](/en/code/58746 "EA Stochastic  Bollinger Bands Multi - Timeframe")

This MQL4 code implements an Expert Advisor (EA) that trades based on the Stochastic Oscillator and Bollinger Bands indicators across multiple timeframes (M1, M5, and M15).

[Fair Value Gaps](/en/code/58677 "Fair Value Gaps")

Fair Value Gaps indicator or 'imbalance areas' where markets often move back to.

[RRS Impulse](/en/code/58462 "RRS Impulse")

This EA scalps using the Relative Strength Index (RSI) Indicator, Stochastic Oscillator Indicator, and Bollinger Bands Indicator to identify trend or counter-trend opportunities. As a multi-pair EA, it scans multiple currency pairs for signals.
This EA comes with a variety of features, including Trailing, Risk Management, Money Management, Restriction Mode, and more. With the right settings, it has the potential to generate significant profits.

[Adjustable Moving Average EA](/en/code/58250 "Adjustable Moving Average EA")

This Expert Advisor opens trades based on the crossover of two adjustable moving averages. You can fully customize the periods, type (e.g., EMA, SMA), and direction (long-only, short-only, or both). It includes optional Stop Loss, Take Profit, and Trailing Stop settings.

[ZigZag Fibo](/en/code/58239 "ZigZag Fibo")

Original ZigZag MT4 with added automatic fibonacci

[Average Pip Movement based on Tick And Seconds](/en/code/57788 "Average Pip Movement based on Tick And Seconds")

This Expert Advisor (EA) analyzes market movement by calculating the average pip movement per tick and the average spread over a user-defined number of ticks (MAX\_TICKS). It also evaluates the average pip movement and spread over a specified time interval (CHECK\_SECONDS).
The EA dynamically tracks price changes and spread values, printing the results in the terminal and displaying them on the chart using the Comment() function. This helps traders gauge market volatility and spread fluctuations in real time.

[Withdrawal Tracking](/en/code/57675 "Withdrawal Tracking")

This is a piece of code to add to an existing Expert advisor to track withdrawals from your account where the EA is running. It helps the user to monitor his or her withdrawals from a particular account.

[RRS Tangled EA](/en/code/57409 "RRS Tangled EA")

RRS Tangled EA randomly selects currency symbols, lot sizes, and order types for trading. It does not rely on technical indicators or fundamental analysis. Instead, it uses a Randomness in Nature approach to open trades. With proper settings such as Take Profit, Stop Loss, Trailing, and Risk Management, this EA can generate significant profits.

[RRS Chaotic EA](/en/code/57246 "RRS Chaotic EA")

This EA is a cleaned and minimized version of the RRS Randomness in Nature EA. It opens trades randomly with random currency pairs, random lot sizes, and random order types. This EA does not rely on any technical skillset such as indicators, price action, news calendar events, or candlestick patterns. It offers multiple trading strategies, risk management plans, and other customizable settings.

[1](/en/code/mt4)[2](/en/code/mt4/page2)[3](/en/code/mt4/page3)[4](/en/code/mt4/page4)[5](/en/code/mt4/page5)[6](/en/code/mt4/page6)[7](/en/code/mt4/page7)[8](/en/code/mt4/page8)[...](/en/code/mt4/page56)[104](/en/code/mt4/page104)