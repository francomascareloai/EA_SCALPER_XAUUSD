# Basket Chart Creator - script for MetaTrader 4

Source: https://www.mql5.com/en/code/16779

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16779) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Basket Chart Creator - script for MetaTrader 4

[Khalil Abokwaik](/en/users/abokwaik)

Views:
:   20310

Rating:
:   (14)

Published:
:   9 November 2016, 16:01

Updated:
:   22 November 2016, 07:32
:   [BasketChartCreator.mq4](/en/code/download/16779/basketchartcreator.mq4 "BasketChartCreator.mq4")
    (18.89 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16779.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Real author:** [MetaQuotes Software Corp](https://www.metaquotes.net/)., [Khalil Abokwaik](/en/users/abokwaik)

The script creates user defined basket of pairs as an offline MetaTrader 4 chart on the desired time frame, and continues to update the chart on new ticks until it is manually stopped.

The basket chart can be used for analysis or even traded via an expert advisor.

Basket price calculation is based on the [Geometric Mean](https://en.wikipedia.org/wiki/Geometric_mean "https://en.wikipedia.org/wiki/Geometric_mean") method.

As long as it is meaningful to the trader, a basket can contain any type of instruments (currency pairs, stocks, metals, indexes ... etc).

Weights can be applied to basket contents in order to normalize is price.

**Inputs:**

* **Basket\_Name** : Basket Chart Name (example : #COM#)
* **Time\_Frame** : Time frame of the basket offline chart (example : H1)
* **Pairs** : Basket instruments separated by commas (example : AUDUSD,NZDUSD,USDCAD,EURAUD,EURNZD,EURCAD,GBPAUD,GBPNZD,GBPCAD)
* **Pairs\_DW** : Directional Weights of basket instruments seperated by commas (example : +1 , +1 , -1 , -1 , -1 , -1 , -1 , -1 , -1).

+ **+** is used if the direction of the instrument is the same as the basket direction. The plus sign is optional
+ **-** is used if the direction of the instrument is opposite to the basket direction
+ weights can be fractions (0.25, 6.5 ... etc)

* **Template\_Name** : Name of the template that you like to be automatically applied to the basket chart. (example : ADX)

**Sample Baskets:**

* Commodity Currencies basket containing all pairs of AUD, NZD and CAD
* Precious Metals (Gold, Silver, Platinum, Palladium)
* Yen Index (USDJPY, GBPJPY, EURJPY ... )
* Technology Stocks (AAPL, IBM ...)

About:

![About](https://c.mql5.com/18/55/BasketChartCreator_Heading.PNG "About")

Inputs:

![](https://c.mql5.com/18/55/2016-11-09_17h51_31.png)

**Recommendations:**

* It is recommended to apply the script on M1 chart (any currency pair).
* The quality of the basket chart history is highly dependent on the history data quality of its instruments.

**Last comments |
[Go to discussion](/en/forum/160661)**
(3)

![t10000](https://c.mql5.com/avatar/avatar_na2.png "t10000")

**[t10000](/en/users/t10000)**
|
15 May 2019 at 13:45

Hi

Is this script still available ?

Thanks

![Keith Watford](https://c.mql5.com/avatar/avatar_na2.png "Keith Watford")

**[Keith Watford](/en/users/forexample)**
|
15 May 2019 at 14:01

**t10000:**  

Hi

Is this script still available ?

Thanks

Yes, click on the link.

![Mahan Movaghar](https://c.mql5.com/avatar/2020/8/5F314188-0401.jpg "Mahan Movaghar")

**[Mahan Movaghar](/en/users/fxtrender)**
|
23 Sep 2019 at 13:07

Hi

it seems that directional weights multipliers doesn't work

![News EA Template without DLL](https://c.mql5.com/i/code/expert.png)
[News EA Template without DLL](/en/code/16308)

Template EA that downloads news without the use of DLL.

![TypeToBytes](https://c.mql5.com/i/code/library.png)
[TypeToBytes](/en/code/16282)

Byte-wise operation with structures and standard data types.

![PA adaptive MACD](https://c.mql5.com/i/code/indicator.png)
[PA adaptive MACD](/en/code/17068)

Phase accumulation adaptive MACD - completely adaptive MACD

![TimeToNextCandle](https://c.mql5.com/i/code/indicator.png)
[TimeToNextCandle](/en/code/16729)

This indicator shows how much time remaining to the next bar opening.