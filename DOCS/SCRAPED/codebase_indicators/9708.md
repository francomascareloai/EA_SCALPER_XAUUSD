# Drag and Drop Support and Resistance "segment lines" with color differentiation  - script for MetaTrader 4

Source: https://www.mql5.com/en/code/9708

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9708) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Drag and Drop Support and Resistance "segment lines" with color differentiation - script for MetaTrader 4

[blackhawk](/en/users/blackhawk)

Views:
:   36960

Rating:
:   (8)

Published:
:   8 June 2010, 09:24

Updated:
:   21 April 2014, 14:54
:   [DROP\_RESISTANCE\_SEGMENT\_LINE.mq4](/en/code/download/9708/DROP_RESISTANCE_SEGMENT_LINE.mq4 "DROP_RESISTANCE_SEGMENT_LINE.mq4")
    (1.71 KB)
    [view](# "view")

    [DROP\_RESISTANCE\_SEGMENT\_LINE\_Rev1.mq4](/en/code/download/9708/DROP_RESISTANCE_SEGMENT_LINE_Rev1.mq4 "DROP_RESISTANCE_SEGMENT_LINE_Rev1.mq4")
    (1.83 KB)
    [view](# "view")

    [DROP\_SUPPORT\_SEGMENT\_LINE.mq4](/en/code/download/9708/DROP_SUPPORT_SEGMENT_LINE.mq4 "DROP_SUPPORT_SEGMENT_LINE.mq4")
    (1.66 KB)
    [view](# "view")

    [DROP\_SUPPORT\_SEGMENT\_LINE\_Rev1.mq4](/en/code/download/9708/DROP_SUPPORT_SEGMENT_LINE_Rev1.mq4 "DROP_SUPPORT_SEGMENT_LINE_Rev1.mq4")
    (1.77 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9708.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

NEW REVISION:

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

**DROP\_RESISTANCE\_SEGMENT\_LINE\_Rev1 and DROP\_SUPPORT\_SEGMENT\_LINE\_Rev1: Both scripts have been revised. With the new revision the scripts will work also when MT4 is not connected to server. The old version could only work when the platform was connected to server.**

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

If you want to draw several resistance and support lines as a "little segment line", differentiating the color of both types of line. (example, all Resistance Lines: Magenta color // all Support Lines: Blue color) but you don’t want to change the color of the horizontal line using the “properties button”, each time a new line has been created, you can use these scripts:

**DROP\_RESISTANCE\_SEGMENT\_LINE.mq4**: You just need to drag and drop this script in the place of the chart where you want to draw a resistance line. The horizontal line will be drawn with the color and the width wanted.

**DROP\_SUPPORT\_SEGMENT\_LINE.mq4**: You just need to drag and drop this script in the place of the chart where you want to draw a support line. The horizontal line will be drawn with the color and the width wanted.

Parameters that you can modify on both scripts:

You can easily change the following parameters by editing the script code:

- Color of the Segment Line.  
- Width of the Segment line   
- Length of the Segment line.

- Change Segment Line to Ray (full Horizontal Line)

![](https://c.mql5.com/18/22/segment_line3.png)

**Last comments |
[Go to discussion](/en/forum/27462)**
(13)

![blackhawk](https://c.mql5.com/avatar/avatar_na2.png "blackhawk")

**[blackhawk](/en/users/blackhawk)**
|
10 Jun 2010 at 11:49

I suggest to all people having downloaded that script to download the new version ([http://codebase.mql4.com/en/code/9711](/en/code/9711)) because I think it's much better.

The new script is specially good for "scalpers" who need to draw levels in a fast way and need to know the exact value of each level.

Have a good trading day.

Blackhawk.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
3 Jun 2013 at 10:20

Excellent for Updating daily lines with new values. Thank you so much.

![Tankarotrader](https://c.mql5.com/avatar/2020/9/5F50B632-537D.jpg "Tankarotrader")

**[Tankarotrader](/en/users/tankarotrader)**
|
25 Dec 2019 at 16:57

Great scripts. Do you planing to make the scripts for mt5 too?

![londonandy](https://c.mql5.com/avatar/avatar_na2.png "londonandy")

**[londonandy](/en/users/londonandy)**
|
1 May 2020 at 16:12

I'm new to MT4.  I can't work out how to use this.  I've [imported](https://www.mql5.com/en/economic-calendar/united-states/imports "US Economic Calendar: Imports") to my indicators and inserted into my chart but I can't get it to show up on the chart.

Can anyone advise please?

![Behzad Mohebali](https://c.mql5.com/avatar/2015/12/567BD66E-8046.jpg "Behzad Mohebali")

**[Behzad Mohebali](/en/users/behzadma8)**
|
5 Jan 2021 at 10:06

Hi

Please add the description item of the line as well

For example, the price at which the line is drawn should be included in the description

Or the user's desired name, which is later defined by him in the code, should be inserted in the description

Thankful

![!_Spread_Hi_Lo.mq4](https://c.mql5.com/i/code/indicator.png)
[!\_Spread\_Hi\_Lo.mq4](/en/code/9692)

A day Hi Lo

![iTrendLinesBreak](https://c.mql5.com/i/code/indicator.png)
[iTrendLinesBreak](/en/code/9694)

Прорыв трендовых линий

![Progressive Grid Positionning System (Entry and Exit)](https://c.mql5.com/i/code/expert.png)
[Progressive Grid Positionning System (Entry and Exit)](/en/code/9713)

This systems allows you to progressively enter and exit the market. You define the amount you want to risk (%) and it calculates automatically the different levels of entering and exiting the market according to the amount of levels you have defined.

![Higher timeframe candles on your chart](https://c.mql5.com/i/code/indicator.png)
[Higher timeframe candles on your chart](/en/code/9712)

This indicator allows you to draw candles of an higher timeframe on your chart. Example: Draw H1 candles on your M1 chart.