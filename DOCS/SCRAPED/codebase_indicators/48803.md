# Error_Break_Script_V2  - This script is a general example of using error brake in any strategy - Break on Code Error Sample Strategy - script for MetaTrader 4

Source: https://www.mql5.com/en/code/48803

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/48803) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Error\_Break\_Script\_V2 - This script is a general example of using error brake in any strategy - Break on Code Error Sample Strategy - script for MetaTrader 4

[Deleted]

Views:
:   2757

Rating:
:   (3)

Published:
:   24 March 2024, 08:20

Updated:
:   6 April 2024, 20:01
:   [Error\_Break\_Script\_V2.mq4](/en/code/download/48803/error_break_script_v2.mq4 "Error_Break_Script_V2.mq4")
    (10.56 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/48803.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Error\_Break\_Script\_V2 revised

Version 1 - Error\_Break\_Script\_V1 Deleted

Fixed implementation in Version2:

//+------------------------------------------------------------------+

//| Break\_On\_Error                                                        |

//+------------------------------------------------------------------+

int Break\_On\_Error(){

    int error\_code = GetLastError();

    string error\_string = ErrorDescription(error\_code);

    Print("Error : ", error\_string," ",error\_code);

    return error\_code;

}

//+------------------------------------------------------------------+

Tested successfully:

![](https://c.mql5.com/18/154/Screenshot_2024-04-06_110008.png)

![](https://c.mql5.com/18/154/Screenshot_2024-04-06_104315.png)

**Last comments |
[Go to discussion](/en/forum/464518)**
(2)

![Dominik Egert](https://c.mql5.com/avatar/2024/2/65db1363-e44b.jpg "Dominik Egert")

**[Dominik Egert](/en/users/dominik_egert)**
|
24 Mar 2024 at 13:25

**Automated-Trading:**  

[Error\_Break\_Script\_V1 - Error\_Break\_Script\_V1](/en/code/48803):

Author: [Iulian Persinaru](https://www.mql5.com/en/users/Persinaru "Persinaru")

That code is incomplete, and it is not well coded.

Please take a look at other code base implementations on how to do it properly.

Also, take a look at MQL4/Include directory and find the file that actually lists all error codes from MQL4.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
24 Mar 2024 at 19:06

**Dominik Egert [#](/en/forum/464518#comment_52823178):**  

That code is incomplete, and it is not well coded.

Please take a look at other code base implementations on how to do it properly.

Also, take a look at MQL4/Include directory and find the file that actually lists all error codes from MQL4.

Thank you for your message and bringing the errors to my attention!

We can work together to make it better!

Since market is closed now the script informs me "Market Is Closed" and stops the order order from execution repetitively  in the message board. I had this problem with other strategies, so at lest this one works, for now!

Further updates will be implemented to make in perfect!

This is just an example, an idea that I had over the weekend!

Thank You again!

Cheers :)

[https://book.mql4.com/appendix/errors](https://book.mql4.com/appendix/errors "https://book.mql4.com/appendix/errors")

![Trail SL](https://c.mql5.com/i/code/expert.png)
[Trail SL](/en/code/48773)

simple trail stop loss code example.

![Moving Averages-14 different types](https://c.mql5.com/i/code/indicator.png)
[Moving Averages-14 different types](/en/code/48621)

This is an indicator to calculate 14 types of moving averages based on close price.

![Hedge_Dollar_Index_Against_Forex_Pairs_V1](https://c.mql5.com/i/code/script.png)
[Hedge\_Dollar\_Index\_Against\_Forex\_Pairs\_V1](/en/code/48817)

Hedge Dollar index USIDX against its constitutive FOREX pairs EURUSD GBPUSD USDJPY USDCAD USDSEK USDCHF

![Close_on_PROFIT_or_LOSS_inAccont_Currency](https://c.mql5.com/i/code/expert.png)
[Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency](/en/code/48818)

Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency