# Checking the server time changes due to the daylight saving time (DST) changeover - script for MetaTrader 5

Source: https://www.mql5.com/en/code/55056

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/55056) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Checking the server time changes due to the daylight saving time (DST) changeover - script for MetaTrader 5

[Carl Schreiber](/en/users/gooly)  |
[English](javascript:void(false);)

[Русский](/ru/code/55056) [中文](/zh/code/55056) [Español](/es/code/55056) [Deutsch](/de/code/55056) [日本語](/ja/code/55056) [Português](/pt/code/55056) [한국어](/ko/code/55056) [Français](/fr/code/55056) [Italiano](/it/code/55056) [Türkçe](/tr/code/55056)

Views:
:   2700

Rating:
:   (4)

Published:
:   20 January 2025, 09:01
:   [test\_WeekendData.mq5](/en/code/download/55056/test_weekenddata.mq5 "test_WeekendData.mq5")
    (26.73 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/55056.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Unfortunately, I discovered that some brokers are a bit sloppy with the server time  
change due to the daylight saving time (DST), which I did not expect and which surprised me a lot.

Leider musste ich feststellen, dass manche Broker bei der  
Serverzeitumstellung etwas nachlässig sind, was ich nicht erwartet  
hatte und was mich sehr überrascht hat.  
  
Die FOREX-Sitzung dauert genau 120 Stunden:  
von Sonntag 17:00 Uhr Eastern Standard Time (Nordamerika) bzw. EST  
bis Freitag 17:00 Uhr EST.  
  
Das Problem entsteht durch die Zeitumstellungen auf Sommerzeit und Winterzeit,  
die in den verschiedenen Regionen der Welt nicht an denselben Sonntagen stattfinden.  
  
Die USA stellen beispielsweise am 2. Sonntag im März und am 1. Sonntag im November um,  
was auch den Beginn und das Ende der FOREX-Sitzung beeinflusst.  
  
Die EU stellt am letzten Sonntag im März, also nach den USA, und am  
letzten Sonntag im Oktober, also vor den USA, um (siehe obige Timeline).  
  
Dadurch entsteht eine Übergangszeit, in der die USA und die EU eine andere  
Zeitdifferenzen haben als die normalen Differenzen von 5  
Stunden (London), 6 Stunden (Frankfurt, MEZ) oder 7 Stunden (Zypern, EET).  
  
In dieser Zwischenzeit sollte sich diese Änderung der Zeitdifferenz in den  
geänderten Zeitstempeln der ersten und letzten Stunde der FOREX-Sitzung widerspiegeln.  
Wenn die FOREX-Sitzung also am Montag um 00:00 (EET, MQ-Zeit) beginnt, sollte sie  
nach der Änderung in den USA eine Stunde früher beginnen, also am Sonntag um 23:00 Uhr,  
und am Freitag eine Stunde früher enden, also um 23:00 Uhr (oder 22:59:59 Uhr).  
  
Aber leider musste ich feststellen (und mit diesem Script kann das jeder bei seinem  
Broker überprüfen), dass auf einem MQ Demokonto und auf Konten einiger echter Broker  
die erste Stunde immer(!) am Montag um 00:00 erscheint, die letzte Stunde aber erwartungsgemäß  
am Freitag um 23:00 (bzw. 22:59) oder eine Stunde früher. Damit fehlt die erste Stunde  
der FOREX Session, in der der Händler oder ein EA auf Ereignisse am Wochenende reagieren könnte.  
Auch kann das Ende der FOREX Session nicht mehr dadurch bestimmt werden, indem einfach120 zur  
ersten Stunde der FOREX Session hinzuaddiert wird, um z.B. alle Positionen vor dem Wochenende zu schließen.  
  
Dieses Script prüft nun die Zeitänderungen des Brokers in der Vergangenheit und loggt alle  
FOREX Sessions mit, die offensichtlich falsch (odd) oder nicht 120 Stunden sind. Wenn zwischen  
erster und letzter Stunde einer FOREX-Session 120 Stunden liegen, erfolgt kein Ausdruck im Log.  
  
Am Ende druckt das Skript den zuletzt abgerufenen Zeitstempel, die Anzahl der gefundenen  
verkürzten Sitzungen und die ungefähre Anzahl der überprüften Jahre.

**[Go to discussion](/en/forum/479921)**

![Symbol Swap Panel Utility](https://c.mql5.com/i/code/expert.png)
[Symbol Swap Panel Utility](/en/code/55006)

Symbol Swap Panel: Effortlessly switch the active symbol on your chart while simultaneously adding the new symbol to Market Watch. This tool ensures seamless integration and access to real-time market data, optimizing your trading workflow.

![Trend Equilibrium Indicator TrendEQ](https://c.mql5.com/i/code/indicator.png)
[Trend Equilibrium Indicator TrendEQ](/en/code/54846)

The Trend Equilibrium Indicator TrendEQ dynamically analyzes market movements by combining momentum and volatility. By scaling momentum with the market’s volatility, the TrendEQ provides a reliable measure of trend strength and direction.

![Zigzag fibo oscillator](https://c.mql5.com/i/code/indicator.png)
[Zigzag fibo oscillator](/en/code/55071)

An advancement of the MetaQuotes zigzag with an oscillator mode, current bar leg tracking, fib levels, and dynamic scaling

![Forex news events reaction EA: An mql5 calendar introduction.](https://c.mql5.com/i/code/expert.png)
[Forex news events reaction EA: An mql5 calendar introduction.](/en/code/55064)

An MQL5 Expert Advisor that reacts to high-impact forex news events using the MQL5 Calendar. It identifies news related to inflation (CPI/PPI) and interest rate decisions, placing breakout trades with pending orders. Ideal for traders looking to automate news-based strategies. (This is just a starting point)