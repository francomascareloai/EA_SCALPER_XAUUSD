# JSON - library for MetaTrader 5

Source: https://www.mql5.com/en/code/53107

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/53107) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# JSON - library for MetaTrader 5

[Kuzma Shevelev](/en/users/senails)  |
[English](javascript:void(false);)

[Русский](/ru/code/53107) [中文](/zh/code/53107) [Español](/es/code/53107) [Deutsch](/de/code/53107) [日本語](/ja/code/53107) [Português](/pt/code/53107) [한국어](/ko/code/53107) [Français](/fr/code/53107) [Italiano](/it/code/53107) [Türkçe](/tr/code/53107)

Views:
:   6862

Rating:
:   (5)

Published:
:   11 March 2025, 14:59
:   [index.mq5](/en/code/download/53107/index.mq5 "index.mq5")
    (2.16 KB)
    [view](# "view")

    [index.mqh](/en/code/download/53107/index.mqh "index.mqh")
    (19.47 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/53107.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is my implementation of the possibility of serialization and deserialization of json in the mql5 language   
You can also [use the npm package manager to download](/go?link=https://www.npmjs.com/package/mql5-json?activeTab=readme "https://www.npmjs.com/package/mql5-json?activeTab=readme")  

```mql5
npm i mql5-json
```

example:  

```mql5
#include "node_modules/mql5-json/index.mqh"

void OnStart() {
    JSON::Object* json1 = new JSON::Object()
        .setProperty("number", 123456)
        .setProperty("string", "text")
        .setProperty("boolean", true)
        .setProperty("object", new JSON::Object()
            .setProperty("number", 123456)
            .setProperty("string", "text")
            .setProperty("boolean", true)
            .setProperty("array", new JSON::Array())
        )
        .setProperty("array", new JSON::Array()
            .add(true) // boolean
            .add(123456) // number
            .add("string") // string
            .add(new JSON::Object()
                .setProperty("number", 123456)
                .setProperty("string", "text")
            )
            .add(new JSON::Array()
                .add(true)
                .add(123456)
                .add("string")
            )
        );

    string exampleText = json1.toString();
    Print(exampleText);

    JSON::Object* json2 = new JSON::Object(exampleText);
    string objectKeys[];
    json2.getKeysToArray(objectKeys);

    if (
        json2.hasValue("array")
        && json2.isArray("array")
        && json2.getArray("array").getLength() > 4
        && json2.getArray("array").isBoolean(0)
        && json2.getArray("array").getBoolean(0) == true
        && json2.getArray("array").isObject(3)
        && json2.getArray("array").getObject(3).isString("string")
        && json2.getArray("array").getObject(3).getString("string") == "text"
        && json2.getArray("array").getObject(3).isNumber("number")
        && json2.getArray("array").getObject(3).getNumber("number") == double(123456)
    ) {
        Print(json2.toString());
        Print(json2.toString() == json1.toString());
    }

    delete json1;
    delete json2;
}
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/53107](/ru/code/53107)

**Last comments |
[Go to discussion](/en/forum/482787)**
(15)

![Edgar Akhmadeev](https://c.mql5.com/avatar/avatar_na2.png "Edgar Akhmadeev")

**[Edgar Akhmadeev](/en/users/dali)**
|
13 Oct 2025 at 10:28

**Sergey Gridnev [#](/ru/forum/475531#comment_58255104):**  
 I haven't looked at the library code, but judging by the fragment you presented, the setProperty and Add methods return a reference to the object (this), so you can refer to the class method again via a dot. This allows you to collect such chains of calls.

I understand that:

```mql5
....add().add()
```

But I haven't seen how a method call is attached to a constructor. And how it corresponds with new.

![Sergey Gridnev](https://c.mql5.com/avatar/2014/5/53726F63-E57D.jpg "Sergey Gridnev")

**[Sergey Gridnev](/en/users/contender)**
|
13 Oct 2025 at 10:44

**Edgar Akhmadeev [#](/ru/forum/475531/page2#comment_58255350):**  

I understand that:

but I haven't seen how a method call is attached to a constructor. And how that fits with new.

new returns a reference.   

The constructor has nothing to do with it.

![Edgar Akhmadeev](https://c.mql5.com/avatar/avatar_na2.png "Edgar Akhmadeev")

**[Edgar Akhmadeev](/en/users/dali)**
|
13 Oct 2025 at 11:51

**Sergey Gridnev [#](/ru/forum/475531/page2#comment_58255403):**  
 The designer had nothing to do with it

I see it this way

```mql5
= new JSON::Object().setProperty()
```

Okay, it seems like it can't be explained in a nutshell, and no one wants to be more thorough.

![Sergey Gridnev](https://c.mql5.com/avatar/2014/5/53726F63-E57D.jpg "Sergey Gridnev")

**[Sergey Gridnev](/en/users/contender)**
|
13 Oct 2025 at 11:56

**Edgar Akhmadeev [#](/ru/forum/475531/page2#comment_58255776):**  
 I see it like this

Okay, it seems like it can't be explained in a nutshell, and no one wants to be more thorough.

Look at it this way:

= (new JSON::Object()).setProperty())

![Edgar Akhmadeev](https://c.mql5.com/avatar/avatar_na2.png "Edgar Akhmadeev")

**[Edgar Akhmadeev](/en/users/dali)**
|
13 Oct 2025 at 13:18

**Sergey Gridnev [#](/ru/forum/475531/page2#comment_58255808):**  
 Look at it this way:

= (new JSON::Object()).setProperty()

Well, yes, by the result it is, there are no options. But I don't break this particular syntax rule. Although I know the basics of OOP. I apply it, except for the most sophisticated ones. I remember C++ (40 years ago). Actually, my first language was assembler.

![Timer](https://c.mql5.com/i/code/library.png)
[Timer](/en/code/53101)

Callback interface for timer

![T3 Moving Average](https://c.mql5.com/i/code/indicator.png)
[T3 Moving Average](/en/code/56927)

The T3 Indicator is an advanced moving average that combines six exponential moving averages to provide smoother price action with reduced lag compared to traditional moving averages.

![MeanReversionTrendEA](https://c.mql5.com/i/code/expert.png)
[MeanReversionTrendEA](/en/code/57020)

The EA automatically trades based on trend and mean reversion signals with validated parameters.

![BarDuration](https://c.mql5.com/i/code/indicator.png)
[BarDuration](/en/code/57038)

This is a simple indicator to display histogram of custom bars' durations in minutes. Applicable for renko boxes, PnF, equivolume bars, etc.