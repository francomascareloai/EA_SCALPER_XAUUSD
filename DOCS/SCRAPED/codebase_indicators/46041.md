# AllAverages v4.9 MT5 - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/46041

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/46041) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# AllAverages v4.9 MT5 - indicator for MetaTrader 5

TrendLaboratory

Published by:
:   [IVAN ASTAFUROV](/en/users/inokoast)

Views:
:   12224

Rating:
:   (15)

Published:
:   22 August 2023, 17:50
:   [AllAverages\_v4.9\_MT5.mq5](/en/code/download/46041/allaverages_v4.9_mt5.mq5 "AllAverages_v4.9_MT5.mq5")
    (81.66 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/46041.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

You can see other analytical tools on my profile page. The AllAverages v4.9 version for MT4 [here.](/en/code/43879) This indicator is not mine, it is in the public domain, but it is not available on the MQL5 forum. That is why I decided to post it here. I am currently using some modifications of moving averages in my strategies. Previous version is [here](/ru/code/9933).

Available formulas (MA\_Method)

1. SMA                      Simple Moving Average
2. EMA                      Exponential Moving Average
3. Wilder                  Wilder Exponential Moving Average
4. LWMA                   Linear Weighted Moving Average
5. SineWMA              Sine Weighted Moving Average
6. TriMA                   Triangular Moving Average
7. LSMA                    Least Square Moving Average (or EPMA, Linear Regression Line)
8. SMMA                   Smoothed Moving Average
9. HMA                     Hull Moving Average by A.Hull
10. ZeroLagEMA          Zero-Lag Exponential Moving Average
11. DEMA                    Double Exponential Moving Average by P.Mulloy
12. T3\_basic               T3 by T.Tillson (original version)
13. ITrend                   Instantaneous Trendline by J.Ehlers
14. Median                  Moving Median
15. GeoMean               Geometric Mean
16. REMA                     Regularized EMA by C.Satchwell
17. ILRS                       Integral of Linear Regression Slope
18. IE\_2                       Combination of LSMA and ILRS
19. TriMAgen                Triangular Moving Average generalized by J.Ehlers
20. VWMA                    Volume Weighted Moving Average
21. JSmooth                 M.Jurik's Smoothing
22. SMA\_eq                  Simplified SMA
23. ALMA                     Arnaud Legoux Moving Average
24. TEMA                     Triple Exponential Moving Average by P.Mulloy
25. T3                         T3 by T.Tillson (correct version)
26. Laguerre                Laguerre filter by J.Ehlers
27. MD                         McGinley Dynamic
28. BF2P                      Two-pole modified Butterworth filter by J.Ehlers
29. BF3P                      Three-pole modified Butterworth filter by J.Ehlers
30. SuperSmu               SuperSmoother by J.Ehlers
31. Decycler                 Simple Decycler by J.Ehlers
32. eVWMA                   Modified eVWMA
33. EWMA                     Exponential Weighted Moving Average
34. DsEMA                    Double Smoothed EMA
35. TsEMA                     Triple Smoothed EMA
36. VEMA                      Volume-weighted Exponential Moving Average(V-EMA)

The choice of prices used to build moving averages:

1. close                       Close
2. open                        Open
3. high                         High
4. low                          Low
5. median                    Median
6. typical                     Typical
7. weightedClose          Weighted Close
8. medianBody             Median Body (Open+Close)/2
9. average                    Average (High+Low+Open+Close)/4
10. trendBiased              Trend Biased
11. trendBiasedExt         Trend Biased(extreme)
12. haClose                    Heiken Ashi Close
13. haOpen                    Heiken Ashi Open
14. haHigh                     Heiken Ashi High
15. haLow                      Heiken Ashi Low
16. haMedian                  Heiken Ashi Median
17. haTypical                  Heiken Ashi Typical
18. haWeighted               Heiken Ashi Weighted Close
19. haMedianBody           Heiken Ashi Median Body
20. haAverage                 Heiken Ashi Average
21. haTrendBiased           Heiken Ashi Trend Biased
22. haTrendBiasedExt      Heiken Ashi Trend Biased(extreme)

---

TimeFrame                            = 0                   Selecting the timeframe  
Price                                     = 0                   Choice of prices used  
MA\_Period                             = 14                 Averaging period of the moving average  
MA\_Shift                               = 0                   Shift the moving average by a specified number of periods

**Last comments |
[Go to discussion](/en/forum/452829)**
(8)

![Camilo Mora](https://c.mql5.com/avatar/avatar_na2.png "Camilo Mora")

**[Camilo Mora](/en/users/2022cmora)**
|
28 Oct 2023 at 04:47

Could you please help me with something?

If I load your indicator, in say 1m chart, and then I change the Timaframe to 5min, then the lines dissapear.

The figure to the left is 1 minTF with current timeframe in your indicator. The one to the right is also the 1m chart but changing the tf to 5 minutes in your indicator.

[![](https://c.mql5.com/3/421/5003464965390__1.png)](https://c.mql5.com/3/421/5003464965390.png "https://c.mql5.com/3/421/5003464965390.png")

![dawsonsg](https://c.mql5.com/avatar/avatar_na2.png "dawsonsg")

**[dawsonsg](/en/users/dawsonsg)**
|
28 Oct 2023 at 10:09

This indicator is fantastic however this thief isn't the author at all. Do yourself a favour. Go to Trendlaboratory.net where it is available and you will be supporting the legitimate author.

![TheQuiteUnknown](https://c.mql5.com/avatar/avatar_na2.png "TheQuiteUnknown")

**[TheQuiteUnknown](/en/users/thequiteunknown)**
|
18 Nov 2023 at 00:20

Hi, ty for your sharing, There is a problem with this indicator when trying to read its buffers in an EA.
When reading with CopyBuffer, the value at [0] is = 0.0, then the rest is fine.
On the next bar, the value[0] is fine, [1] is 0.0 (logically) and the rest is fine, and so on at each subsequent bar.
I'm quite new to coding and I can't find the reason why in the code of this indicator, any way to fix that ? MB

![Thiago Duarte](https://c.mql5.com/avatar/2019/5/5CCB0EAE-0909.jpg "Thiago Duarte")

**[Thiago Duarte](/en/users/thiagoduarte)**
|
13 Jan 2025 at 14:51

**dawsonsg [#](/en/forum/452829#comment_50195358):**  
 This indicator is fantastic however this thief isn't the author at all. Do yourself a favour. Go to Trendlaboratory.net where it is available and you will be supporting the legitimate author.

Before accusing him of being a thief, read the entire post. He himself said he is not the author.

![Sonia888](https://c.mql5.com/avatar/avatar_na2.png "Sonia888")

**[Sonia888](/en/users/sonia888)**
|
16 Jun 2025 at 16:00

Thanks so much. Perfect. Great to have such a choice of [moving averages](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "MetaTrader 5 Help: Moving Average indicator") and the colour change and sound alert when the MA changes direction is exactly what I was looking for.

![Reporting Memory Leaks in Strategy Tester](https://c.mql5.com/i/code/library.png)
[Reporting Memory Leaks in Strategy Tester](/en/code/45873)

Monitoring of memory leaks in the strategy tester

![Trend Dashboard Indicator](https://c.mql5.com/i/code/indicator.png)
[Trend Dashboard Indicator](/en/code/45797)

Trend Dashboard Indicator MetaTrader 5 indicator — a multi-timeframe indicator that is based on three standard indicators: Stochastic oscillator, RSI (Relative Strength Index), and CCI (Commodity Channel Index). It displays current trend directions for M1, M5, M15, M30, H1, H4, D1, W1, and MN1 timeframes. When you follow such an indicator you have a clear picture of the trends across all important timeframes. It doesn't matter which timeframe you attach this indicator to. The indicator can be downloaded for MT4 and MT5.

![Ima() very simply.](https://c.mql5.com/i/code/indicator.png)
[Ima() very simply.](/en/code/46062)

A multi timeframe version is available with colors for orientation, for developers or profitable traders for free.
Offer under conditions.
Other multi timeframe indicators are also available.

![iRSI Very Simple](https://c.mql5.com/i/code/indicator.png)
[iRSI Very Simple](/en/code/46158)

iRSI Very Simple
A multi timeframe version is available with colors for orientation, for developers or profitable traders for free.
Offer under conditions.
Other multi timeframe indicators are also available.