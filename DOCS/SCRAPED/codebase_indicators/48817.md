# Hedge_Dollar_Index_Against_Forex_Pairs_V1 - script for MetaTrader 4

Source: https://www.mql5.com/en/code/48817

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/48817) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Hedge\_Dollar\_Index\_Against\_Forex\_Pairs\_V1 - script for MetaTrader 4

[Deleted]

Views:
:   4296

Rating:
:   (4)

Published:
:   24 March 2024, 17:50
:   [Hedge\_Dollar\_Index\_Against\_Forex\_Pairs\_V1.mq4](/en/code/download/48817/hedge_dollar_index_against_forex_pairs_v1.mq4 "Hedge_Dollar_Index_Against_Forex_Pairs_V1.mq4")
    (8.83 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/48817.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Hedge\_Dollar\_Index\_Against\_Forex\_Pairs\_V1.mq4 |

Hedging DOLLAR.IDX/USD - USIDX

Euro – 57.6%

Japanese yen – 13.6%

Great Britain pound – 11.9%

Canadian dollar – 9.1%

Swedish krona – 4.2%

Swiss franc – 3.6%

Buy USDIDX 100%       Value 100 point = 100$  Position size = 10000   10000 contracts Dukascopy = 100 TMGM

Hedge 100% in Forex Pairs

Buy EURUSD  –  57.6%  Value 1 pip = 57.6$   Position size = 576000  Lots 5.76

Buy GBPUSD  –  11.9%  Value 1 pip = 11.9$   Position size = 119000  Lots 1.19

Sell USDJPY –  13.6%  Value 1 pip = 13.6$   Position size = 206060  Lots 2.06

Sell USDCAD –   9.1%  Value 1 pip =  9.1$   Position size = 123809  Lots 1.238

Sell USDSEK –   4.2%  Value 1 pip =  4.2$   Position size = 444000  Lots 4.44

Sell USDCHF –   3.6%  Value 1 pip =  3.6$   Position size =  32300  Lots 0.323

Lot\_Multiplier increases or decreases lot proportions. Example: x2 or x0.1

Be aware of Dollar Index closing times when using this strategy!

#property copyright     "Copyright 2024, MetaQuotes Ltd."

#property link          "https://www.mql5.com"

#property version       "1.01"

#property description   "persinaru@gmail.com"

#property description   "IP 2024 - free open source"

#property description   "This Script Hedge Dollar index against its constitutive FOREX pairs."

#property description   ""

#property description   "WARNING: Use this software at your own risk."

#property description   "The creator of this script cannot be held responsible for any damage or loss."

**Last comments |
[Go to discussion](/en/forum/464552)**
(3)

![HyungCheol Cho](https://c.mql5.com/avatar/2021/8/610795B1-2550.jpg "HyungCheol Cho")

**[HyungCheol Cho](/en/users/hyungcheolcho)**
|
26 Mar 2024 at 06:29

How to calculate the position size of the red box in the picture below?

![](https://c.mql5.com/3/432/2387585150617.png)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
26 Mar 2024 at 12:00

**HyungCheol Cho [#](/en/forum/464552#comment_52840283):**  

How to calculate the position size of the red box in the picture below?

Hello, Mr. Cho

Thank you for your message.

These Positions were calculated using Dukascopy Pip Calculator and JForex 4.2.9 demo trading platform. MT4 and my FOREX provider do not offer this kind of calculations.

Let me know if you have other questions!

Cheers :) Julian

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
1 Apr 2024 at 14:42

**Iulian Persinaru [#](/en/forum/464552#comment_52842836):**  

Hello, Mr. Cho

Thank you for your message.

These Positions were calculated using Dukascopy Pip Calculator and JForex 4.2.9 demo trading platform. MT4 and my FOREX provider do not offer this kind of calculations.

Let me know if you have other questions!

Cheers :) Julian

To create an MQL4 position size calculator, you need to consider various factors such as risk percentage, stop loss distance, account balance, and currency pair volatility. Here's a basic example of an MQL4 function to calculate position size based on these inputs:

In this example:

* CalculatePositionSize function calculates the position size based on the risk percentage, stop loss distance, and account balance.
* riskPercentage is the percentage of the account balance that you're willing to risk on a single trade.
* stopLossDistance is the distance in pips from the entry price to the stop loss price.
* accountBalance is the current account balance.

Make sure to verify the pip value calculation for the specific currency pair being traded, as it can vary. Also, consider additional factors such as leverage and margin requirements based on your broker's specifications. This example is a basic one and may need modifications to suit your specific trading strategy and requirements.

// Function to calculate position size

double CalculatePositionSize(double riskPercentage, double stopLossDistance, double accountBalance)

{

// Calculate position size based on risk percentage, stop loss distance, and account balance

double riskAmount = accountBalance \* (riskPercentage / 100.0);

double pipValue = MarketInfo(Symbol(), MODE\_POINT); // Get pip value for the current symbol

double positionSize = riskAmount / (pipValue \* stopLossDistance);

return positionSize;

}

// Example usage

void OnStart()

{

double riskPercentage = 2.0; // Risk percentage (e.g., 2%)

double stopLossDistance = 50.0; // Stop loss distance in pips

double accountBalance = AccountBalance(); // Get account balance

double positionSize = CalculatePositionSize(riskPercentage, stopLossDistance, accountBalance);

Print("Position size: ", positionSize);

}

![Error_Break_Script_V2  - This script is a general example of using error brake in any strategy - Break on Code Error Sample Strategy](https://c.mql5.com/i/code/script.png)
[Error\_Break\_Script\_V2 - This script is a general example of using error brake in any strategy - Break on Code Error Sample Strategy](/en/code/48803)

Break on Code Error !
This script is a general example of using error brake in any strategy.

![Trail SL](https://c.mql5.com/i/code/expert.png)
[Trail SL](/en/code/48773)

simple trail stop loss code example.

![Close_on_PROFIT_or_LOSS_inAccont_Currency](https://c.mql5.com/i/code/expert.png)
[Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency](/en/code/48818)

Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency

![Correlation Gaps Trading AUDJPY CADJPY NZDJPY](https://c.mql5.com/i/code/script.png)
[Correlation Gaps Trading AUDJPY CADJPY NZDJPY](/en/code/48848)

Short description.