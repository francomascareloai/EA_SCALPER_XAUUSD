# Averager on BUY and SELL simultaneously - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/1156

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/1156) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Averager on BUY and SELL simultaneously - expert for MetaTrader 5

[Ivan Ivanov](/en/users/ivanbg)  |
[English](javascript:void(false);)

[Русский](/ru/code/1156) [中文](/zh/code/1156) [Español](/es/code/1156) [Deutsch](/de/code/1156) [日本語](/ja/code/1156) [Português](/pt/code/1156)

Views:
:   9863

Rating:
:   (21)

Published:
:   10 December 2012, 09:36

Updated:
:   4 February 2013, 11:52
:   [twodirectionmartin-stylized.mq5](/en/code/download/1156/twodirectionmartin-stylized.mq5 "twodirectionmartin-stylized.mq5")
    (11 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/1156.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The Expert Advisor operates on the principle of the Moving Average. Simultaneously in both directions. It calculates volume for BUY and SELL separately.  
It divides the volume received in accordance with the given "save percentage".

Then it sends one order.

This program does not use any indicators.

The Expert Advisor is represented on Automated Trading Championship 2012 <https://championship.mql5.com/2012/en/users/IvanBG>

![The result on September_2012.](https://c.mql5.com/18/8/2012-september.png "The result on September_2012.")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/1156](/ru/code/1156)

**[Go to discussion](/en/forum/9273)**

![Breakout Bars Trend](https://c.mql5.com/i/code/indicator.png)
[Breakout Bars Trend](/en/code/1144)

The alternative indicator for trend definition based on the breakthrough bars and distance from extremums.

![MultiMaRsiSignal](https://c.mql5.com/i/code/indicator.png)
[MultiMaRsiSignal](/en/code/1127)

The MultiMaRsiSignal indicator displays the information about the active trends using the five MaRsi-Trigger indicators' value from different timeframes.

![Exp_CenterOfGravity](https://c.mql5.com/i/code/expert.png)
[Exp\_CenterOfGravity](/en/code/1140)

The Exp\_CenterOfGravity Expert Advisor is based on the CenterOfGravity indicator. The signal is formed when a bar is closing if there is crossing of indicator and its signal line.

![Exp_CoeffofLine_true](https://c.mql5.com/i/code/expert.png)
[Exp\_CoeffofLine\_true](/en/code/1151)

The Exp\_CoeffofLine\_true Expert Advisor based on the CoeffofLine\_true indicator. A signal to perform a deal is formed at bar closing, if the histogram breakthroughs its zero level