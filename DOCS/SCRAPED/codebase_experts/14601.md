# Lossless MA - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/14601

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/14601) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Lossless MA - expert for MetaTrader 4

[Vladimir Tkach](/en/users/net)  |
[English](javascript:void(false);)

[Русский](/ru/code/14601) [Español](/es/code/14601) [Deutsch](/de/code/14601) [日本語](/ja/code/14601)

Views:
:   26365

Rating:
:   (47)

Published:
:   8 February 2016, 12:37
:   [lossless\_ma.mq4](/en/code/download/14601/lossless_ma.mq4 "lossless_ma.mq4")
    (4.91 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/14601.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The EA opens trades at the intersection of the fast and the slow MAs. Closes trades if there is a reverse signal.

If the function of outstaying the losses is enabled, the EA does not close the unprofitable trades by the reverse signal, but opens new ones (see Fig. - EURUSD, H1, every tick, from 1.09.2015 to 8.01.2016). The Stop Loss order of these unprofitable trades is moved to their opening prices.

The maximum amount of opened trades during the outstaying is limited by the 'Maximum deals' parameter.

![](https://c.mql5.com/18/45/1__2.PNG)

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/14601](/ru/code/14601)

**Last comments |
[Go to discussion](/en/forum/72936)**
(23)

![manfredkg1](https://c.mql5.com/avatar/avatar_na2.png "manfredkg1")

**[manfredkg1](/en/users/manfredkg1)**
|
7 Oct 2019 at 09:43

Hi Vladimir,

I know it's been some time since you created this EA. Are you able to add a "time to trade" [function](https://www.mql5.com/en/docs/constants/namedconstants/compilemacros "MQL5 documentation: Predefined Macrosubstitutions")? that is I only want to trade the 'London
session' not the US or Asian, or I only want to trade the London and US, but not the Asian. If it were platform dependant as per the time to trade,
that would allow others to adjust their times independent of daylight saving/summertime.

Thanks in advance.

Manfred.

![founu ohiokhai](https://c.mql5.com/avatar/avatar_na2.png "founu ohiokhai")

**[founu ohiokhai](/en/users/founu)**
|
26 May 2020 at 19:14

**Vladimir Tkach:**  
 To add a function wich will be checking [stop loss](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders") setting.

Dear Sir,

i download your product yesterday. and uptill now it has not pick a trade.Please tell me what to do as i see your product to be great one.

looking forward to hear from you.  i want to text the free version on demo so as to enable me see ite performance

yours faithfully,

isaac founu ohiokhai

![Tuanatm](https://c.mql5.com/avatar/avatar_na2.png "Tuanatm")

**[Tuanatm](/en/users/tuanatm)**
|
23 Dec 2020 at 18:23

Hello. I thank you very much, after revising MA5> MA10 it runs very well.

![Pappathi Murugesan](https://c.mql5.com/avatar/2021/12/61B0EDA8-2A63.jpg "Pappathi Murugesan")

**[Pappathi Murugesan](/en/users/tamil_forex_crypto)**
|
19 Sep 2022 at 20:44

Add SL TP

![Ahmet Metin Yilmaz](https://c.mql5.com/avatar/2020/6/5EF19BBE-AF73.jpg "Ahmet Metin Yilmaz")

**[Ahmet Metin Yilmaz](/en/users/assassin)**
|
19 Sep 2022 at 21:34

**Pappathi Murugesan [#](/en/forum/72936/page3#comment_42158666):**  
 Add SL TP

Right away?!

![Zakryvator](https://c.mql5.com/i/code/expert.png)
[Zakryvator](/en/code/14597)

The EA closes orders when certain loss is reached by them in the account currency. It is possible to vary the loss by the volume of the order.

![CM Open 2 Stop Orders](https://c.mql5.com/i/code/script.png)
[CM Open 2 Stop Orders](/en/code/14590)

Script for opening opposite stop orders at a specified time. Once one of them triggers, the other one is deleted.

![Quantum](https://c.mql5.com/i/code/expert.png)
[Quantum](/en/code/14604)

One of the implementation variants of the Quantum trading system.

![Heiken Ashi in Subwindow](https://c.mql5.com/i/code/indicator.png)
[Heiken Ashi in Subwindow](/en/code/14611)

Display of the Heiken Ashi candlestick indicator in a subwindow.