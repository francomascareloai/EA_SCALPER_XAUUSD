# Renko-Fractals-Grid - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/21760

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/21760) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Renko-Fractals-Grid - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

Views:
:   38229

Rating:
:   (19)

Published:
:   6 August 2018, 13:44

Updated:
:   21 November 2025, 02:09
:   [RENKO FRACTALS GRID.mq4](/en/code/download/21760/RENKO_FRACTALS_GRID.mq4 "RENKO FRACTALS GRID.mq4")
    (95.02 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/21760.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This EA uses "Renko" box size on MetaTrader 4 chart. When a Renko box is created (not visible, only calculated in pips) and price reaches the level where there was a fractal, the EA enters a trade, has Trailing Stop Loss &Take Profit works on all time frames major forex pairs and stocks NASDAQ.

### 

* Try it on demo first.
* This EA trades only with the price of open candle!
* If you do not want to trade with increasing lot size when you lose  a trade set:"IncreaseFactor=0"

Inputs

+ Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
+ TP\_In\_Money- Take Profit In Money   (values: 10-100).
+ Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
+ TP\_In\_Percent- Take Profit In Percent (values: 10-100).
+ ------------[Money Trailing Stop For Multiple Trades]----------------------
+ Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
+ Take Profit In Money (in current currency) (values: 25-200).
+ Stop Loss In Money(in current currency) (values: 1-20).
+ --------------------------------------------------------------------------------------
+ Atr - Enable ATR indicator value as Renko box size (values: 0-1).
+ BOX1 - Renko box size in pips (values: 5-100).
+ CandlesToRetrace - Number of candles to wait for Renko box (values: 10-100).
+ Exit= Close trades if the trend is against you and control draw dwon (values:true/false).
+ Lots - Lots size (values: 0.01-1).
+ Lots size Exponent  (values: 1.01-2).
+ IncreaseFactor -how much to increase lots from total margin if you lose a trade (values: 0.001-0.1).
+ Stop\_Loss - Stop Loss (values: 30-500).  /set value 600 for  Multiple Trades
+ MagicNumber - Magic number (values: 1-100000).
+ TakeProfit - Take Profit (values: 50-200).  /set value 600 for  Multiple Trades
+ FastMA - Fast Moving Average (values: 1-20).
+ SlowMA - Slow Moving Average (values: 50-200).
+ Mom\_Sell-Momentum\_Sell trigger(values: 0.1-0.9).
+ Mom\_Buy-Momentum\_Buy trigger(values: 0.1-0.9).
+ ---------------------CONTROL DRAW DOWN-----------------------------
+ UseEquityStop -  (values:true/false).
+ TotalEquityRisk- (values: 0.01-20).
+ -------------------------------------------------------------------------------
+ Max\_Trades(1-12).
+ ----------------IF YOU USE ONLY 1 TRADE:-----------------------
+ //////////////////////////////////////////////////
+ TrailingStop-set a value from 40 to 100 to activate trailing stop loss & take profit, "0" will not activate trailing stop loss.
+ Enable "Break Even" -(values:true/false).
+ When move "Break Even"- (values: 5-30).
+ How much pips move- "Break Even" (values:5-30).

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.  
-How to perform back test:[https://bit.ly/2CD7XWD](/go?link=https://bit.ly/2CD7XWD "https://bit.ly/2CD7XWD")

[![Renko-Fractals-Grid](https://c.mql5.com/18/163/6rv9lla_u77_825o.png "Renko-Fractals-Grid")](https://c.mql5.com/18/163/7pjb779_6a5_q251.png "https://c.mql5.com/18/90/7pjb779_6a5_q251.png")

**Last comments |
[Go to discussion](/en/forum/270978)**
(47)

![Fabio Cavalloni](https://c.mql5.com/avatar/2022/2/62191C69-D16B.png "Fabio Cavalloni")

**[Fabio Cavalloni](/en/users/kava93)**
|
28 Dec 2018 at 13:34

**Aharon Tzadik:**

  

I understand your point... In your example you have also used different TF, Spread and input parameters of EA... it is obvious that they will produce different result...

I've tried a lot of systems in different platforms and yes, result can be different, but in a negligible way... with same environment parameters results MUST be similar, a system that work only with adjusted parameters and only on specific historical data is a ultra-optmized system that will never performs good in the future, I'm not right?

I really like the logic of your system but I cannot test it in a good way... Profit factor is always under 1.00 and i'm very sad about it

Yes, I can try to [optimize parameters](/en/articles/341 "Article \"Speed Up Calculations with the MQL5 Cloud Network\"") to make it work good, but this is defeating the robustness of the trading system to make it looks good in report but not in the reality!

Also, testing systems that use breakeven, stop loss and take profit with OPEN PRICES ONLY is not a good way, it is always better to use CONTROL POINTS also if you use only HLOC informations.

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
28 Dec 2018 at 16:04

**kava93:**

Again

You make a mistake and do not test in the right way

Take a look at all the screenshots

In the first screenshot appears profit factor :2.10

And in the second screenshot appears profit factor :1.87

You said yourself that the results should be similar.

Check that you are not working with an ECN broker.

 Use "[OPEN PRICES ONLY](https://www.mql5.com/en/articles/239 "Article \"The Fundamentals of Testing in MetaTrader 5\"")" option .

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
5 Mar 2019 at 17:22

**Aharon Tzadik:**  

Again

You make a mistake and do not test in the right way

Take a look at all the screenshots

In the first screenshot appears profit factor :2.10

And in the second screenshot appears profit factor :1.87

You said yourself that the results should be similar.

Check that you are not working with an ECN broker.

 Use "[OPEN PRICES ONLY](/en/articles/239 "Article \"The Fundamentals of Testing in MetaTrader 5\"")" option .

[![Renko-Fractals-Grid](https://c.mql5.com/3/271/ernkljb_27v_s29o.png "Renko-Fractals-Grid")](https://c.mql5.com/3/271/siivilw_9p2_c290.png "https://c.mql5.com/3/271/siivilw_9p2_c290.png")

All traders who do not know how to perform back tests have a training video that explains how to perform back tests,

Many people turn to me on the grounds that they performed tests when they actually run the EA with default data,

There is no reason not to perform the back tests correctly when there is a training video !

I'm sure you're not lying and say it does not work when there are good results,

If you need to learn to perform back tests,watch the video !

![jjangchan](https://c.mql5.com/avatar/2020/10/5F83E937-D0C4.png "jjangchan")

**[jjangchan](/en/users/jjangchan)**
|
23 Mar 2021 at 04:21

hello,

thank you for your useful ea code.

Please find something weird in the ea code and [check](/en/docs/integration/python_metatrader5/mt5ordercalcmargin_py "MQL5 Documentation: order_calc_margin function") if it's correct.

**Source code**

```mql5
372 : if (CheckStopLoss_Takeprofit(OP_SELL, OrderOpenPrice() + (PIPSTOMOVESL * pips), OrderTakeProfit()))
387 : if (CheckStopLoss_Takeprofit(OP_SELL, OrderOpenPrice() - (PIPSTOMOVESL * pips), OrderTakeProfit()))
```

**Modified Code**

```mql5
372 : if (CheckStopLoss_Takeprofit(OP_BUY, OrderOpenPrice() - (PIPSTOMOVESL * pips), OrderTakeProfit()))
387 : if (CheckStopLoss_Takeprofit(OP_SELL, OrderOpenPrice() + (PIPSTOMOVESL * pips), OrderTakeProfit()))
```

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
23 Mar 2021 at 13:51

**Kyoung chan:**

Thank you for your comment, fixed.

![RSI MA EA](https://c.mql5.com/i/code/expert.png)
[RSI MA EA](/en/code/21624)

EA purposes to always win with cumulative profit and to manage volume.

![KeyboardTrade](https://c.mql5.com/i/code/library.png)
[KeyboardTrade](/en/code/21360)

This tool is for trading with keyboard input, it supports "Send order", "Set Stop Loss", "Set Take Profit", and "Close order".

![Tap4Fibs](https://c.mql5.com/i/code/indicator.png)
[Tap4Fibs](/en/code/21705)

Creates Fibonacci Retracement on the chart based on the ZigZag indicator. Tap the "X" or "Z" key to scroll through each swing in the ZigZag, to the right or to the left. For those who do not like clutter on their charts. The indicator can scroll to the right until it disappears from the chart, but it is still there. Scroll left to bring it back. This is one of the most useful tools in my trading toolbox!

![PlannedPendingOrders](https://c.mql5.com/i/code/script.png)
[PlannedPendingOrders](/en/code/21804)

Execute pending order(s) according to lines in the chart you have drawn before.