# VR System Test MT5 - script for MetaTrader 5

Source: https://www.mql5.com/en/code/14179

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/14179) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# VR System Test MT5 - script for MetaTrader 5

[Vladimir Pastushak](/en/users/voldemar)  |
[English](javascript:void(false);)

[Русский](/ru/code/14179) [中文](/zh/code/14179) [Español](/es/code/14179) [Deutsch](/de/code/14179) [日本語](/ja/code/14179) [Português](/pt/code/14179)

Views:
:   7408

Rating:
:   (25)

Published:
:   4 December 2015, 10:05
:   [vr\_system\_test\_mt5.mq5](/en/code/download/14179/vr_system_test_mt5.mq5 "vr_system_test_mt5.mq5")
    (56.78 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/14179.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

I often wondered and asked questions on the forum: "Which computer to choose for maximum performance of the MetaTrader 4 and MetaTrader 5 Terminals?" This question is interesting to many at the time of an upgrade or a purchase of a new PC with a focus on the performance of the MetaTrader, which is better to buy? Intel-based or AMD? How many and what kind of RAM should there be? Which motherboard? Which drive to select for data storage: SSD or HDD ?

Developers praise the performance and super speeds of the МetaТrader 5 Terminal, but how does a usual trader or an amateur programmer check the developers' words himself? Write some code? But which? What to check with? How to compare the performances of МetaТrader 4 and МetaТrader 5 at all?

Anyway, I thought about it for a while and decided to write a tester script to check the performance of the PC and the MetaTrader 4 and MetaTrader 5 terminals.

Part of the code is taken from the [Testing the new MQL5 compiler for x64 platforms - speed up calculations from 2 to 10 times!](/en/forum/68087) topic.

All I did was combine the codes of all the tests into a single script and add all these codes via a class, i.e. the script tests the PC and the terminals in two types of programming: procedural and OOP. I also added a few tests related to rendering of graphical objects, their displacement and deletion, plus handling CCanvas class test, plus the measurement of CopyRates function operation speed when copying 1 000 000 minute bars. 45 tests in total.

Additionally, honesty of VPS and VDS hosters can be checked using the script (by comparing performance on test periods).

You are welcome to take part in testing your PC by my example. I ran this test on my PC at maximum performance with empty startup.

The principle of operation of the script: once started, the script runs tests step by step, creates and deletes everything needed for the test, and finally opens a results table by itself.

My work PC:

* OS name:     Windows 10 Pro
* Type:           Computer based on x64
* CPU: AMD Phenom(tm) II X6 1100T Processor, 3311 MHz, cores: 6, logical processors: 6
* RAM:          8,00 ГБ
* Drive:         SSD Model OCZ-AGILITY3 90 GB

This is the result:

|  | MT4 | MT5 |  | How many times МТ5 is faster |
| --- | --- | --- | --- | --- |
| ===TERMINAL INFO=== | 0 | 0 |  |  |
| TERMINAL\_BUILD | 902 | 1210 | Build |  |
| TERMINAL\_CPU\_CORES | 6 | 6 | Cores |  |
| TERMINAL\_DISK\_SPACE | 14228 | 14134 | Mb |  |
| TERMINAL\_MEMORY\_PHYSICAL | 8107 | 8107 | Mb |  |
| TERMINAL\_MEMORY\_TOTAL | 4095 | 16214 | Mb |  |
| TERMINAL\_MEMORY\_AVAILABLE | 3737 | 0 | Mb |  |
| TERMINAL\_MEMORY\_USED | 358 | 33245 | Mb |  |
| ===TEST=== | 0 | 0 |  |  |
| Test Ackermann | 2406 | 0 | MilSek | Absolute \* |
| Test Ackermann OOP | 2969 | 0 | MilSek | Absolute |
| Test Arrays | 21422 | 297 | MilSek | 72,13 |
| Test Arrays OOP | 7312 | 437 | MilSek | 16,73 |
| Test BubbleSort | 13422 | 672 | MilSek | 19,97 |
| Test BubbleSort OOP | 4297 | 656 | MilSek | 6,55 |
| Test Call | 969 | 0 | MilSek | Absolute |
| Test Call OOP | 906 | 0 | MilSek | Absolute |
| Test Fibo | 2594 | 0 | MilSek | Absolute |
| Test Fibo OOP | 2656 | 0 | MilSek | Absolute |
| Test Float | 2359 | 0 | MilSek | Absolute |
| Test Float OOP | 2516 | 0 | MilSek | Absolute |
| Test Matrix | 20969 | 672 | MilSek | 31,20 |
| Test Matrix OOP | 7984 | 656 | MilSek | 12,17 |
| Test Moments | 7578 | 5578 | MilSek | 1,36 |
| Test Moments OOP | 7266 | 5594 | MilSek | 1,30 |
| Test NestedLoop | 5672 | 0 | MilSek | Absolute |
| Test NestedLoop OOP | 6015 | 0 | MilSek | Absolute |
| Test PiCalculate | 12000 | 3515 | MilSek | 3,41 |
| Test PiCalculate OOP | 11953 | 3500 | MilSek | 3,42 |
| Test QuickSort | 11734 | 2110 | MilSek | 5,56 |
| Test QuickSort OOP | 12782 | 1234 | MilSek | 10,36 |
| Test Random | 3297 | 516 | MilSek | 6,39 |
| Test Random OOP | 3203 | 531 | MilSek | 6,03 |
| Test Sieve | 18828 | 1078 | MilSek | 17,47 |
| Test Sieve OOP | 18890 | 1094 | MilSek | 17,27 |
| Test StrCat | 47 | 1578 | MilSek | 0,03 |
| Test StrCat OOP | 47 | 1766 | MilSek | 0,03 |
| Test String | 250 | 437 | MilSek | 0,57 |
| Test String OOP | 235 | 453 | MilSek | 0,52 |
| Test StrPrep | 5406 | 1922 | MilSek | 2,81 |
| Test StrPrep OOP | 5500 | 1938 | MilSek | 2,84 |
| Test StrRev | 6719 | 4265 | MilSek | 1,58 |
| Test StrRev OOP | 7125 | 4297 | MilSek | 1,66 |
| Test StrSum | 5843 | 3922 | MilSek | 1,49 |
| Test StrSum OOP | 5844 | 3984 | MilSek | 1,47 |
| Test ObjectCreate | 63 | 157 | MilSek | 0,40 |
| Test ObjectMove | 46 | 343 | MilSek | 0,13 |
| Test ObjectDelete | 579 | 0 | MilSek | Absolute |
| Test ObjectCreate OOP | 46 | 125 | MilSek | 0,37 |
| Test ObjectMove OOP | 63 | 328 | MilSek | 0,19 |
| Test ObjectDelete OOP | 547 | 0 | MilSek | Absolute |
| Test CopyRates | 94 | 0 | MilSek | Absolute |
| Test Canvas | 30078 | 28047 | MilSek | 1,07 |
| Test Print(Hello, world!!!) | 1047 | 7453 | MilSek | 0,14 |
| Test Final | 281594 | 89609 | MilSek | 3,14 |

\* Absolute — absolute superiority of MetaTrader 5.

[Version for МetaТrader 4](/en/code/14178)

```mql5
// Important!!! It is not recommended to make changes to the script without understanding the consequences.
// The script is designed to evaluate the performance of the computer (Tablet, Desktop/Stationary, VPS/VDS servers, Servers).
// The script evaluated the computer in 45 tests of different focus in the two types of programming: OOP and procedural.
// Part of the codes was taken from open sources https://www.mql5.com/en/forum/68087   Author: Renat Fatkhullin
// Program put together by Vladimir Pastushak     https://www.mql5.com/en/users/voldemar
// Main performance indicator - time. The less time calculations required, the more productive are the computer and the МetaТrader Terminal.
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/14179](/ru/code/14179)

**Last comments |
[Go to discussion](/en/forum/68230)**
(6)

![Fast235](https://c.mql5.com/avatar/2019/11/5DDBA4DA-BF3F.png "Fast235")

**[Fast235](/en/users/igann)**
|
15 Jun 2018 at 02:04

Xeon E-3 1230v2 3500MHz 4/8 cores

a new chart is opened before the test, it is obligatory to close the Market Watch panel

would like to see i7 8700 (Coffe Lake) and i7 4770 (Haswell) test

and the Ryzen 2600.

![](https://c.mql5.com/3/199/image__1.png)

![Aleksey Vyazmikin](https://c.mql5.com/avatar/2024/6/6678986f-2caa.png "Aleksey Vyazmikin")

**[Aleksey Vyazmikin](/en/users/-aleks-)**
|
15 Jun 2018 at 02:21

Did a full screen test (F11) 1920\*1080.

|  |  |  |  |  |
| --- | --- | --- | --- | --- |
| ===TERMINAL INFO=== | 0 | 0 | Info | Delta |
| TERMINAL\_BUILD | 1816 | 1816 | Build | 0,00% |
| TERMINAL\_CPU\_CORES | 5 | 5 | Cores | 0,00% |
| TERMINAL\_DISK\_SPACE | 6183 | 6163 | Mb | -0,32% |
| TERMINAL\_MEMORY\_PHYSICAL | 16357 | 16357 | Mb | 0,00% |
| TERMINAL\_MEMORY\_TOTAL | 32714 | 32714 | Mb | 0,00% |
| TERMINAL\_MEMORY\_AVAILABLE | 29642 | 29635 | Mb | -0,02% |
| TERMINAL\_MEMORY\_USED | 3072 | 3079 | Mb | 0,23% |
| ===TEST=== | 0 | 0 |  | 0,00% |
| Test Ackermann | 0 | 0 | MilSek | 0,00% |
| Test Ackermann OOP | 0 | 0 | MilSek | 0,00% |
| Test Arrays | 312 | 327 | MilSek | 4,81% |
| Test Arrays OOP | 452 | 453 | MilSek | 0,22% |
| Test BubbleSort | 764 | 749 | MilSek | -1,96% |
| Test BubbleSort OOP | 812 | 827 | MilSek | 1,85% |
| Test Call | 0 | 0 | MilSek | 0,00% |
| Test Call OOP | 0 | 0 | MilSek | 0,00% |
| Test Fibo | 0 | 0 | MilSek | 0,00% |
| Test Fibo OOP | 0 | 0 | MilSek | 0,00% |
| Test Float | 0 | 0 | MilSek | 0,00% |
| Test Float OOP | 0 | 0 | MilSek | 0,00% |
| Test Matrix | 702 | 702 | MilSek | 0,00% |
| Test Matrix OOP | 687 | 702 | MilSek | 2,18% |
| Test Moments | 93 | 78 | MilSek | -16,13% |
| Test Moments OOP | 63 | 78 | MilSek | 23,81% |
| Test NestedLoop | 0 | 0 | MilSek | 0,00% |
| Test NestedLoop OOP | 0 | 0 | MilSek | 0,00% |
| Test PiCalculate | 3697 | 3697 | MilSek | 0,00% |
| Test PiCalculate OOP | 3697 | 3713 | MilSek | 0,43% |
| Test QuickSort | 2184 | 2184 | MilSek | 0,00% |
| Test QuickSort OOP | 1357 | 1388 | MilSek | 2,28% |
| Test Random | 531 | 546 | MilSek | 2,82% |
| Test Random OOP | 561 | 546 | MilSek | -2,67% |
| Test Sieve | 1155 | 1154 | MilSek | -0,09% |
| Test Sieve OOP | 1139 | 1170 | MilSek | 2,72% |
| Test StrCat | 1138 | 1155 | MilSek | 1,49% |
| Test StrCat OOP | 1108 | 1139 | MilSek | 2,80% |
| Test String | 577 | 561 | MilSek | -2,77% |
| Test String OOP | 546 | 546 | MilSek | 0,00% |
| Test StrPrep | 858 | 858 | MilSek | 0,00% |
| Test StrPrep OOP | 858 | 874 | MilSek | 1,86% |
| Test StrRev | 4321 | 4259 | MilSek | -1,43% |
| Test StrRev OOP | 4244 | 4243 | MilSek | -0,02% |
| Test StrSum | 3291 | 3307 | MilSek | 0,49% |
| Test StrSum OOP | 3386 | 3370 | MilSek | -0,47% |
| Test ObjectCreate | 187 | 218 | MilSek | 16,58% |
| Test ObjectMove | 265 | 171 | MilSek | -35,47% |
| Test [ObjectDelete](https://www.mql5.com/en/docs/objects/objectdelete "MQL5 documentation: ObjectDelete function") | 0 | 219 | MilSek | 0,00% |
| Test ObjectCreate OOP | 187 | 187 | MilSek | 0,00% |
| Test ObjectMove OOP | 16 | 187 | MilSek | 1068,75% |
| Test ObjectDelete OOP | 546 | 0 | MilSek | -100,00% |
| Test CopyRates | 46 | 31 | MilSek | -32,61% |
| Test Canvas | 20234 | 41434 | MilSek | 104,77% |
| Test Print(Hello, world!!!) | 15225 | 16068 | MilSek | 5,54% |
| Test Final | 75457 | 97750 | MilSek | 29,54% |

It turns out that the test depends significantly on the screen resolution, which is not very good.

![Fast235](https://c.mql5.com/avatar/2019/11/5DDBA4DA-BF3F.png "Fast235")

**[Fast235](/en/users/igann)**
|
15 Jun 2018 at 02:57

the test with Objects should be removed in such a case.

![Aleksey Vyazmikin](https://c.mql5.com/avatar/2024/6/6678986f-2caa.png "Aleksey Vyazmikin")

**[Aleksey Vyazmikin](/en/users/-aleks-)**
|
15 Jun 2018 at 03:09

**Fast528:**  
 the test with Objects should be removed in this case.

Yeah, and there's a chance their readings are GPU related.

![Fast235](https://c.mql5.com/avatar/2019/11/5DDBA4DA-BF3F.png "Fast235")

**[Fast235](/en/users/igann)**
|
15 Jun 2018 at 03:15

**Aleksey Vyazmikin:**  

Yeah, and there is a possibility that their readings are GPU related.

the load on the card and just on the [open graph](/en/docs/chart_operations/chartopen "MQL5 documentation: ChartOpen function") with indicators is there, the load jumps back and forth, during the test on the graph 2W video power increases, it is not known whether all cards with such graphics equally cope with it

in any case, you can learn something from the test, it is for example a sharp increase between proces worship (new instructions), I already asked Renat a question - what technologies are actively used by MQL for example AVX2, etc., the answer was take any fresh) or a pack of stones from eBay to build a farm).

![TriXCandleSign](https://c.mql5.com/i/code/indicator.png)
[TriXCandleSign](/en/code/14176)

A semaphore signal indicator that uses two TriX indicators, based on Open and Close values of the price series.

![EMVCandleSign](https://c.mql5.com/i/code/indicator.png)
[EMVCandleSign](/en/code/14175)

A semaphore signal indicator that uses two EMV indicators, based on Open and Close values of the price series.

![OsMACandleSign](https://c.mql5.com/i/code/indicator.png)
[OsMACandleSign](/en/code/14182)

A semaphore signal indicator that uses two OsMA indicators, based on Open and Close values of the price series.

![CCICandleSign](https://c.mql5.com/i/code/indicator.png)
[CCICandleSign](/en/code/14183)

A semaphore signal indicator that uses two CCI indicators, based on Open and Close values of the price series.