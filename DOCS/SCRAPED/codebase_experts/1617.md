# Demo_FileIsEnding - script for MetaTrader 5

Source: https://www.mql5.com/en/code/1617

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/1617) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Demo\_FileIsEnding - script for MetaTrader 5

[Automated-Trading](/en/users/automated-trading)  |
[English](javascript:void(false);)

[Русский](/ru/code/1617) [中文](/zh/code/1617) [Español](/es/code/1617) [Deutsch](/de/code/1617) [日本語](/ja/code/1617) [Português](/pt/code/1617)

Views:
:   4920

Rating:
:   (28)

Published:
:   29 March 2013, 11:55

Updated:
:   22 November 2016, 07:32
:   [demo\_fileisending.mq5](/en/code/download/1617/demo_fileisending.mq5 "demo_fileisending.mq5")
    (1.74 KB)
    [view](# "view")

    \MQL5\Files\Data\

    [file.txt](/en/code/download/1617/file.txt "file.txt")
    (0.1 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/1617.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The script reads and prints data from a file which is located in the terminal local folder. Reading performs in the loop by the [FileReadString](/en/docs/files/filereadstring)() function until the end of the file. The [FileIsEnding](/en/docs/files/fileisending)() function is used to check, if the end of the file is reached.

It should be noted that to define the end of the file, the function tries to read the next string from the file. If it doesn't exist, the function will return true, otherwise it will return false.

**Code:**

```mql5
//--- show the window of input parameters when launching the script
#property script_show_inputs
//--- input parameters
input string InpFileName="file.txt";    // file name
input string InpDirectoryName="Data";   // directory name
input int    InpEncodingType=FILE_ANSI; // ANSI=32 or UNICODE=64
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//--- print the path to the file we are going to use
   PrintFormat("Working %s\\Files\\ folder",TerminalInfoString(TERMINAL_DATA_PATH));
//--- reset the error value
   ResetLastError();
//--- open the file for reading (if the file does not exist, the error will occur)
   int file_handle=FileOpen(InpDirectoryName+"//"+InpFileName,FILE_READ|FILE_TXT|InpEncodingType);
   if(file_handle!=INVALID_HANDLE)
     {
      //--- print the file contents
      while(!FileIsEnding(file_handle))
         Print(FileReadString(file_handle));
      //--- close the file
      FileClose(file_handle);
     }
   else
      PrintFormat("Error, code = %d",GetLastError());
  }
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/1617](/ru/code/1617)

**[Go to discussion](/en/forum/11370)**

![i-IntradayFibonacci](https://c.mql5.com/i/code/indicator.png)
[i-IntradayFibonacci](/en/code/1613)

Intraday Fibonacci levels

![Demo_FileFlush](https://c.mql5.com/i/code/script.png)
[Demo\_FileFlush](/en/code/1615)

The script demonstrates the example of using the FileFlush() function

![Demo_FileGetInteger](https://c.mql5.com/i/code/script.png)
[Demo\_FileGetInteger](/en/code/1618)

The script demonstrates the example of using the FileGetInteger() function

![Demo_FileWriteArray](https://c.mql5.com/i/code/expert.png)
[Demo\_FileWriteArray](/en/code/1620)

The script demonstrates the example of using the FileWriteArray() function