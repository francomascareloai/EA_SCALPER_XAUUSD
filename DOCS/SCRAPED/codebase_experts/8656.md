# Doubler - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/8656

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/8656) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Doubler - expert for MetaTrader 4

[Deleted]  |
[English](javascript:void(false);)

[Русский](/ru/code/8656)

Views:
:   23944

Rating:
:   (11)

Published:
:   1 July 2016, 09:49

Updated:
:   22 November 2016, 07:32
:   [Doubler.mq4](/en/code/download/8656/Doubler.mq4 "Doubler.mq4")
    (2.27 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/8656.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Simple Expert Advisor (more like a draft with an idea) that simultaneously opens two positions in different directions, provided that the stop loss of the losing position triggers 5 points earlier than the take profit of the profitable one. All the necessary parameters can be optimized.

**Testing Results:**

[![](https://c.mql5.com/18/19/Doubler_small.gif)](https://c.mql5.com/18/19/Doubler.gif)

**Strategy Tester Report**

**Doubler**

  

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| Symbol | | EURJPY (Euro vs Japanese Yen) | | | |
| Period | | 1 Minute (M1) 2008.10.28 13:25 - 2009.01.07 19:12 (2008.01.30 - 2009.12.30) | | | |
| Model | | **Open prices only (fastest method to analyze the bar just completed, only for EAs that explicitly control bar opening)** | | | |
| Parameters | | StopLoss=87; TakeProfit=133; lots=0.1; Ext1=5; Ext2=14; AutoLotChanging=false; | | | |
|  | |
| Bars in test | 65643 | Ticks modelled | 129935 | Modelling quality | n/a |
| Mismatched chart errors | 0 |  |  |  |  |
|  | | | | | |
| Initial deposit | 100000.00 |  |  |  |  |
| Net profit | 1014.70 | Gross profit | 20956.27 | Gross loss | -19941.56 |
| Profit factor | 1.05 | Expected payoff | 3.04 |  |  |
| Absolute drawdown | 921.43 | Maximum drawdown | 1230.43 (1.23%) | Relative drawdown | 1.23% (1230.43) |
|  | | | | | |
| Total trades | 334 | Short positions (won %) | 167 (37.72%) | Long positions (won %) | 167 (44.31%) |
|  | | Profit trades (% of total) | 137 (41.02%) | Loss Trades (% of total) | 197 (58.98%) |
| Largest | | profit trade | 216.00 | loss trade | -150.12 |
| Average | | profit trade | 152.97 | loss trade | -101.23 |
| Maximum | | consecutive wins (profit in money) | 3 (479.32) | consecutive losses (loss in money) | 7 (-668.63) |
| Maximal | | consecutive profit (count of wins) | 479.32 (3) | consecutive loss (count) | -668.63 (7) |
| Average | | consecutive wins | 1 | consecutive losses | 2 |

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/8656](/ru/code/8656)

**[Go to discussion](/en/forum/90334)**

![Stochastic Divergence](https://c.mql5.com/i/code/indicator.png)
[Stochastic Divergence](/en/code/8655)

Divergence based on a standard Stochastic with Alert and language selection.

![Future___](https://c.mql5.com/i/code/expert.png)
[Future\_\_\_](/en/code/8654)

It can be combined with any indicator to get an expert

![Opening Positions](https://c.mql5.com/i/code/script.png)
[Opening Positions](/en/code/8657)

Attempt to more or less fully automate the opening of Buy and Sell orders

![#MarketPrice](https://c.mql5.com/i/code/indicator.png)
[#MarketPrice](/en/code/8661)

Really helps in trading