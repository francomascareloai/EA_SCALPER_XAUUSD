# Ergodic Mean Deviation Index Oscillator Ergodic_MDI - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/374

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/374) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Ergodic Mean Deviation Index Oscillator Ergodic\_MDI - indicator for MetaTrader 5

[Andrey F. Zelinsky](/en/users/abolk)  |
[English](javascript:void(false);)

[Русский](/ru/code/374) [中文](/zh/code/374) [Español](/es/code/374) [Deutsch](/de/code/374) [日本語](/ja/code/374) [Português](/pt/code/374) [한국어](/ko/code/374) [Français](/fr/code/374) [Italiano](/it/code/374) [Türkçe](/tr/code/374)

Views:
:   7357

Rating:
:   (20)

Published:
:   28 June 2011, 19:21

Updated:
:   22 November 2016, 07:32
:   [blau\_ergodic\_mdi.mq5](/en/code/download/374/blau_ergodic_mdi.mq5 "blau_ergodic_mdi.mq5")
    (7.85 KB)
    [view](# "view")

    \MQL5\Include\

    [williamblau.mqh](/en/code/download/374/williamblau.mqh "williamblau.mqh")
    (4.52 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/374.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Author: [Andrey N. Bolkonsky](/en/users/abolk)

Ergodic MDI-Oscillator by William  Blau is based on [Mean Deviation Index](/en/code/373) (see [Momentum, Direction, and Divergence: Applying the Latest Momentum Indicators for Technical Analysis](/go?link=https://www.amazon.com/Momentum-Direction-Divergence-Indicators-Technical/dp/0471027294 "http://www.amazon.com/Momentum-Direction-Divergence-Indicators-Technical/dp/0471027294")).

**Usage:**

* WilliamBlau.mqh must be placed in **terminal\_data\_folder**\MQL5\Include\
* Blau\_Ergodic\_MDI.mq5 must be placed in **terminal\_data\_folder**\MQL5\Indicators\

![Ergodic MDI-Indicator by William Blau](https://c.mql5.com/18/3/Blau_Ergodic_MDI__1.png "Ergodic MDI-Indicator by William Blau")

Ergodic MDI-Indicator by William Blau

**Calculation:**

Ergodic Mean Deviation Oscillator is calculated as follows:

Ergodic\_MDI(price,r,s,u) = MDI(price,r,s,u)  
SignalLine(price,r,s,u,ul) = EMA( Ergodic\_MDI(price,r,s,u) ,ul)

where:

* Ergodic\_MDI() - Ergodic (mean deviation indicator MDI(price,r,s,u));
* SignalLine() - Signal Line - [exponentially smoothed moving average](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") of a period ul, applied to ergodic;
* ul - period of EMA of a Signal Line.

**Input paramters**:

* graphic plot #0 - Ergodic (Mean Deviation Indicator):

+ r - period of the 1st EMA, applied to price (by default r=20);
+ s - period of the 2nd EMA, applied to mean deviation (by default s=5);
+ u - period of the 3rd EMA, applied to result of the 2nd smoothing (by default u=3);

* graphic plot #1 - Signal Line:

+ ul - EMA period of a Signal Line, applied to ergodic (by default ul=3);

* AppliedPrice - [price type](/en/docs/constants/indicatorconstants/prices) (by default AppliedPrice=PRICE\_CLOSE).

**Note**:

* r>1;
* s>0, u>0. If r, s or u =1, smoothing is not used;
* ul>0. If ul=1, the Signal Line and Mean Deviation Index are the same;
* Min. rates=(r+s+u+ul-4+1).

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/374](/ru/code/374)

**Last comments |
[Go to discussion](/en/forum/4044)**
(3)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
29 Jun 2011 at 09:25

IMHO it would be good to replace the histogram with a line to better see the intersections.

And maybe even mark these intersections with icons (disable sound would also be nice), because the values of lines are quite close (often even almost co-directional at intersection) and at small scale "merge" - often without using the [data window](https://www.metatrader5.com/ru/terminal/help/charts_analysis/charts#datawindow "Article: Data Window in MetaTrader 5 Client Terminal") it is difficult to compare them and easy to miss.

IMHO this levelling out the advantages of Ergodic-a, and MDI itself is good.

PS: perhaps a better option would be to colour the histogram values in a different colour when it is smaller than the main MDI line (abs). Especially important for people with vision problems. And just comfort of use.

![Andrey F. Zelinsky](https://c.mql5.com/avatar/2016/3/56DBD57F-0B0E.jpg "Andrey F. Zelinsky")

**[Andrey F. Zelinsky](/en/users/abolk)**
|
29 Jun 2011 at 20:12

**VladMih:**  

IMHO it would be good to replace the histogram with a line to better see the intersections.

The histogram was chosen deliberately to better see the intersections - see the picture with the histogram.

[![](https://c.mql5.com/3/4/5bgdnsmdbtdbd.PNG)](https://c.mql5.com/3/4/iy2zyuf4qeaod.PNG "https://c.mql5.com/3/4/iy2zyuf4qeaod.PNG")

and without

[![](https://c.mql5.com/3/4/zokvdhy2462m4.PNG)](https://c.mql5.com/3/4/eqyxsnas6a0yv.PNG "https://c.mql5.com/3/4/eqyxsnas6a0yv.PNG")

My opinion is that since price bars are discrete, not continuous, the diagram shows (or confirms) the crossover more clearly.

However, "to taste and colour" - the article [https://www.mql5.com/en/articles/190](/en/articles/190) explains in detail enough for a beginner how to build an indicator.  
 Any attentive beginner reading the article can change the histogram to a line by himself according to the description in the article (at least I want to believe it and I strived for a clear educational presentation).

Besides, the diagram was chosen for educational purposes - to show that there are other types of drawing besides lines.  
 The article was written primarily for beginners  
.

![Andrey F. Zelinsky](https://c.mql5.com/avatar/2016/3/56DBD57F-0B0E.jpg "Andrey F. Zelinsky")

**[Andrey F. Zelinsky](/en/users/abolk)**
|
29 Jun 2011 at 20:15

**VladMih:**  

PS: perhaps a better option would be to colour the histogram values in a different colour when it is smaller than the MDI [main line](/ru/docs/constants/indicatorconstants/lines "MQL5 Documentation: Indicator Lines") (abs). This is especially important for people with vision problems. And just comfort of use.

multicoloured indicators - I put THIRD item - SECOND - second part of the article - I plan to submit it for checking for publication in the nearest week - in the 2nd part will be presented Blau trading systems based on indicators from the 1st part (experts, analysis of their efficiency and additional filters for Blau indicators).

without additional Blau filters - indicators from the 1st part have a number of significant drawbacks - but this will be discussed in the 2nd part.

![Mean Deviation Index Blau_MDI](https://c.mql5.com/i/code/indicator.png)
[Mean Deviation Index Blau\_MDI](/en/code/373)

Mean Deviation Index (MDI) by William Blau.

![Stochastic Momentum Oscillator Blau_SM_Stochastic](https://c.mql5.com/i/code/indicator.png)
[Stochastic Momentum Oscillator Blau\_SM\_Stochastic](/en/code/372)

Stochastic Momentum Oscillator by William Blau.

![Moving Averages Convergence/Divergence Indicator Blau_MACD](https://c.mql5.com/i/code/indicator.png)
[Moving Averages Convergence/Divergence Indicator Blau\_MACD](/en/code/375)

Moving Averages Convergence/Divergence Indicator by William Blau.

![Ergodic MACD Oscillator  Blau_Ergodic_MACD](https://c.mql5.com/i/code/indicator.png)
[Ergodic MACD Oscillator Blau\_Ergodic\_MACD](/en/code/376)

Ergodic MACD Oscillator by William Blau.