# EA_OBJPROP_CHART_ID - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/359

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/359) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# EA\_OBJPROP\_CHART\_ID - expert for MetaTrader 5

[MetaQuotes](/en/users/metaquotes)  |
[English](javascript:void(false);)

[Русский](/ru/code/359) [中文](/zh/code/359) [Español](/es/code/359) [Deutsch](/de/code/359) [日本語](/ja/code/359) [Português](/pt/code/359) [한국어](/ko/code/359) [Français](/fr/code/359) [Italiano](/it/code/359) [Türkçe](/tr/code/359)

Views:
:   6184

Rating:
:   (18)

Published:
:   14 June 2011, 12:41

Updated:
:   22 November 2016, 07:32
:   \MQL5\Indicators\

    [subwindow.mq5](/en/code/download/359/subwindow.mq5 "subwindow.mq5")
    (2.1 KB)
    [view](# "view")

    [ea\_objprop\_chart\_id.mq5](/en/code/download/359/ea_objprop_chart_id.mq5 "ea_objprop_chart_id.mq5")
    (5.46 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/359.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Do you want to place a Chart objects ([OBJ\_CHART](/en/docs/constants/chartconstants/enum_chart_property#enum_chart_property_integer)) on the chart and use it as conventional chart? It's possible.

The only thing you need is the handle of OBJ\_CHART object. Using the [Chart Operations](/en/docs/chart_operations) you may add and delete indicators ([ChartIndicatorAdd()](/en/docs/chart_operations/chartindicatoradd) and [ChartIndicatorDelete()](/en/docs/chart_operations/chartindicatordelete)), set chart [Period, Symbol](/en/docs/chart_operations/chartsetsymbolperiod) etc.

![EA_OBJPROP_CHART_ID](https://c.mql5.com/18/3/OBJPROP_CHART_ID.png "EA_OBJPROP_CHART_ID")

The EA\_OBJPROP\_CHART\_ID Expert Advisor, does the following actions:

* Adds a [PriceChannel](/en/code/44) indicator, included in the standard package of the client terminal (located in **terminal\_data\_folder**\MQL5\Indicators\Examples);
* Creates a subwindow using Subwindow indicator (copy Subwindow.mq5 to **terminal\_data\_folder**\MQL5\Indicators);
* Creates an object (in the subwindow) of OBJ\_CHART type with chart symbol, but D1 and H4 [timeframes](/en/docs/constants/chartconstants/enum_timeframes);
* For each object of OBJ\_CHART type it adds a Price\_Channel indicator with default parameters and changes background color.

When delete from the chart, it deletes all the indicators created:

```mql5
//+------------------------------------------------------------------+
//| Expert deinitialization function                                 |
//+------------------------------------------------------------------+
void OnDeinit(const int reason)
  {
//--- delete objects
//  ObjectDelete(0,D1);
//  ObjectDelete(0,H4);
//--- delete subwindow
   ChartIndicatorDelete(0,subwindow_ID,"Subwindow");
//--- delete PriceChannel indicator from the main window
//--- its short name with default parameters is "Price Channel(22)"
   ChartIndicatorDelete(0,0,"Price Channel(22)");
  }
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/359](/ru/code/359)

**Last comments |
[Go to discussion](/en/forum/3960)**
(11)

![Сергей](https://c.mql5.com/avatar/avatar_na2.png "Сергей")

**[Сергей](/en/users/falkov)**
|
16 Jun 2011 at 09:28

I recently asked a similar question about different colours here : MAs. I set them to the periods I needed.

And hence the question: where in [Alligator](https://www.metatrader5.com/en/terminal/help/indicators/bw_indicators/alligator "MetaTrader 5 Help: Alligator Indicator") are the colours of the lines (displayed buffers) set? Is it possible to access it in some way?

Then I could write my own indicator with the required colouring by analogy.

![Rashid Umarov](https://c.mql5.com/avatar/2012/5/4FC60566-2EEC.jpg "Rashid Umarov")

**[Rashid Umarov](/en/users/rosh)**
|
16 Jun 2011 at 10:42

**falkov:**  
  

And hence the question: where in Alligator are the colours of the lines (displayed buffers) set? Is it possible to access it in some way?

Then it would be possible to write your own indicator with the required colouring by analogy.

When using the [ChartIndicatorAdd()](/en/docs/chart_operations/chartindicatoradd "MQL5 Documentation: ChartIndicatorAdd Function") function, the indicator is overlaid on the chart with default colours. This cannot be controlled (directly).

Theoretically, it is possible to put the line colour into an [external variable of](/ru/docs/basis/variables/inputvariables) the **custom**  indicator and thus set the desired colour.

![---](https://c.mql5.com/avatar/avatar_na2.png "---")

**[---](/en/users/sergeev)**
|
17 Jun 2011 at 07:37

**Rosh:**  
 that possibility wasn't originally considered.

MetaTrader 5 Client Terminal build 468

MQL5: Fixed ChartSaveTemplate function.

**Thank you very much! Everything works.**

![---](https://c.mql5.com/avatar/avatar_na2.png "---")

**[---](/en/users/sergeev)**
|
17 Jun 2011 at 07:40

**Rosh**, on request #98320, can you add the name of the physical file to the indicator handler object ?

I.e. so that you can find out not only the short name of the indicator, but also its full file name?

ChartIndicatorFileName  
  
 Возвращает имя файла индикатора по номеру в списке индикаторов на указанном окна графика.

```mql5
string  ChartIndicatorFileName(
   long  chart_id,      // chart identifier
   int   sub_window     // subwindow number
   int   index          // indicator index in the list of indicators added to this chart subwindow
   );
```

![Brett Luedtke](https://c.mql5.com/avatar/avatar_na2.png "Brett Luedtke")

**[Brett Luedtke](/en/users/lugner)**
|
21 Jun 2011 at 20:24

Thanks. This was just next up on my list for testing, glad to see this [functionality](https://www.mql5.com/en/docs/constants/namedconstants/compilemacros "MQL5 documentation: Predefined Macrosubstitutions") has already been completed and displayed here; I can see a number of nifty uses for this functionality.

![The class of a module of trade signals, on "inner bar breakthrough" in trend direction](https://c.mql5.com/i/code/library.png)
[The class of a module of trade signals, on "inner bar breakthrough" in trend direction](/en/code/358)

The strategy is following: when outer (outside) bar appears, it checks the fact of the inner bar breakthrough in trend direction and generates a signal to open position. A module of trade signals is compatible with the new version of MQL5 Wizard.

![STALIN](https://c.mql5.com/i/code/indicator.png)
[STALIN](/en/code/357)

The Buy/Sell signals of the indicator are based on crossover of two moving averages with different periods.

![Blau_Mtm](https://c.mql5.com/i/code/indicator.png)
[Blau\_Mtm](/en/code/360)

Momentum Indicator by William Blau.

![Blau_TSI](https://c.mql5.com/i/code/indicator.png)
[Blau\_TSI](/en/code/361)

True Strength Index (TSI) indicator by William Blau.