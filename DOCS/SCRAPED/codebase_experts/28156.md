# Copy Tick and History From MT4 to MT5 real time. - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/28156

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/28156) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Copy Tick and History From MT4 to MT5 real time. - expert for MetaTrader 5

Jaffer Wilson

Published by:
:   [jaffer wilson](/en/users/jafferwilson)

Views:
:   11741

Rating:
:   (19)

Published:
:   4 March 2020, 15:28

Updated:
:   4 March 2020, 15:57
:   [socket-library-mt4-mt5.mqh](/en/code/download/28156/socket-library-mt4-mt5.mqh "socket-library-mt4-mt5.mqh")
    (40.6 KB)
    [view](# "view")

    [test.mq5](/en/code/download/28156/test.mq5 "test.mq5")
    (0.13 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/28156.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Thank you @fxsaber for the Symbol library.

**Please Download the Project from Here: [MT4
To MT5 Ticks](/go?link=https://github.com/JafferWilson/MT4-Ticks-To-MT5 "https://drive.google.com/file/d/1ygmPiVw7qmIFWMwMfKKgM2Rx5rNRnE1Q/view?usp=sharing")**

I am not able to publish the code here. Please download it from the Google drive link above.

Lets take a look at the instruction for deployment.

**In MT5:**

1. Copy the complete project in the Experts directory  of the MQL5 as it is.
2. Compile MT5.mq5 once to make sure it is working.

**In MT4:**

1. Copy the complete project in the Experts Directory of the MQL4 as it is.
2. Copy the *sym\_port.txt* in the MQL4 ---> Files Directory. (I could not load the file from the same folder. So I have to
   move it to teh files folder. I was not able to find a method for its inclusion, if someone has idea please share so I can neglect this
   step.)
3. Compile the MT4.mq4 file once to make sure it is working.

---

**Note:**

First apply the MT4.mq4 on the chart.

Then apply the MT5 on the chart of the same symbol. Otherwise it will not work.

---

**Have a look at the image:**

> [![](https://c.mql5.com/18/89/image__1.png)](https://c.mql5.com/18/89/image.png "https://c.mql5.com/18/89/image.png")

**Note:**

> This is free code and I am always open for suggestions to improve it. I will not permit anyone to make a product and sell the code. Please try
> remaining ethical.

**Last comments |
[Go to discussion](/en/forum/334174)**
(8)

![jaffer wilson](https://c.mql5.com/avatar/2018/5/5AFC2828-5318.jpeg "jaffer wilson")

**[jaffer wilson](/en/users/jafferwilson)**
|
22 Oct 2020 at 11:09

**kakolka05:**  

Hi. I can't run on MT4.

Pops up :

2020.10.20 10: 09: 36.157 Expert MT4 EURUSD, H1: removed

2020.10.20 10: 09: 24.228 Expert MT4 EURUSD, H1: loaded successfully

I do as described

2020.10.20 10:42:37.251 Expert MT4 EURUSD,H1: removed

2020.10.20 10:42:37.249 MT4 EURUSD,H1: uninit reason 0

2020.10.20 10:42:37.249 MT4 EURUSD,H1: initialized

2020.10.20 10:42:37.249 MT4 EURUSD,H1: Length Data: 712

2020.10.20 10:42:37.249 MT4 EURUSD,H1: 2020.09.08 19:00:00

2020.10.20 10:42:37.247 MT4 EURUSD,H1: EURUSD is assigned with Port: 0

2020.10.20 10:42:37.247 MT4 EURUSD,H1: [ExpertRemove function](/en/docs/common/expertremove "MQL5 documentation: ExpertRemove function") called

2020.10.20 10:42:37.247 MT4 EURUSD,H1: The Symbol is found

2020.10.20 10:42:37.247 MT4 EURUSD,H1: ExpertRemove function called

2020.10.20 10:42:37.247 MT4 EURUSD,H1: Error Opening File : 5004

2020.10.20 10:42:37.233 MT4 EURUSD,H1 inputs: Hostname=localhost;

2020.10.20 10:42:23.317 Expert MT4 EURUSD,H1: loaded successfully

2020.10.20 10:13:31.558 Expert MT4 EURUSD,H1: removed

2020.10.20 10:13:31.557 MT4 EURUSD,H1: uninit reason 0

2020.10.20 10:13:31.557 MT4 EURUSD,H1: initialized

2020.10.20 10:13:31.557 MT4 EURUSD,H1: Length Data: 712

Please if possible make a video of installation so I will come to know you have followed the procedure. Because I am not understanding why is this happening from the logs, you have shared.

![andrik377](https://c.mql5.com/avatar/avatar_na2.png "andrik377")

**[andrik377](/en/users/andrik377)**
|
16 Nov 2021 at 05:43

Hi, Jaffer.

Problem:  
MT5 Experts log:  
The Symbols EURUSD\_MT4 is not in the file.  
Shutdown server and 0 connections.

MT5 and MT4 brokers are different. It works succesfully when run at the same broker.

Env: Linux, Wine, 1 comp.

![jaffer wilson](https://c.mql5.com/avatar/2018/5/5AFC2828-5318.jpeg "jaffer wilson")

**[jaffer wilson](/en/users/jafferwilson)**
|
19 Nov 2021 at 11:37

**andrik377 [#](/en/forum/334174#comment_25884196):**  

Hi, Jaffer.

Problem:  
MT5 Experts log:  
The Symbols EURUSD\_MT4 is not in the file.  
Shutdown server and 0 connections.

MT5 and MT4 brokers are different. It works succesfully when run at the same broker.

Env: Linux, Wine, 1 comp.

Is there any error you received on any end MT5/MT4? Paste it here please.

![andrik377](https://c.mql5.com/avatar/avatar_na2.png "andrik377")

**[andrik377](/en/users/andrik377)**
|
22 Nov 2021 at 08:07

**jaffer wilson [#](/en/forum/334174#comment_25969605):**  

Is there any error you received on any end MT5/MT4? Paste it here please.

Thank You, now it works. I don't now what was my error.  
Why, do You think, MT4 is very popular and is not dieing?

![jaffer wilson](https://c.mql5.com/avatar/2018/5/5AFC2828-5318.jpeg "jaffer wilson")

**[jaffer wilson](/en/users/jafferwilson)**
|
22 Nov 2021 at 10:32

**andrik377 [#](/en/forum/334174#comment_26010688):**  
 Thank You, now it works. I don't now what was my error.  
Why, do You think, MT4 is very popular and is not dieing?

Good to hear that it is working fine.

Well, most of the brokers are using only MT4 as they had there set ups  already done on it. So, whenever any trader arrives, the broker present them with MT4 as a platform for Auto Trade / Manual Trade.

And MT4 is oldest (almost 20 years) and most trusted one by the brokers and it has more freely available templates and indicators.

There is no other reason I think is responsible for the fame. I like MT5 more as it is advance and far more easy to use and have more facilities then MT4.

![TrendFlex x 2](https://c.mql5.com/i/code/indicator.png)
[TrendFlex x 2](/en/code/28154)

Short description.

![TrendFlex](https://c.mql5.com/i/code/indicator.png)
[TrendFlex](/en/code/28143)

TrendFlex indicator based on February 2020 TASC article published by John Ehlers

![Stochastic MACD](https://c.mql5.com/i/code/indicator.png)
[Stochastic MACD](/en/code/28305)

Stochastic MACD

![Regression Channel with variable polynomial degree](https://c.mql5.com/i/code/indicator.png)
[Regression Channel with variable polynomial degree](/en/code/28375)

Regression Channel with variable polynomial degree - indicator for MetaTrader 5.