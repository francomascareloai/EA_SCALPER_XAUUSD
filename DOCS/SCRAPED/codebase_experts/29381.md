# 4click Trade Opener - script for MetaTrader 5

Source: https://www.mql5.com/en/code/29381

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/29381) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# 4click Trade Opener - script for MetaTrader 5

[Behzad Movaghar](/en/users/behzad.mvr)

Views:
:   11314

Rating:
:   (20)

Published:
:   25 May 2020, 18:57

Updated:
:   8 March 2022, 10:30
:   [4click Trade Opener\_v1.1.mq5](/en/code/download/29381/4click_trade_opener_v1.1.mq5 "4click Trade Opener_v1.1.mq5")
    (12.6 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/29381.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Trade with no need to calculate lot size! This script calculates the proper lot size and opens the position(s) for you.

Set risk percent or risk amount of your equity and other parameters in script source code and compile it, then:

* First click: Open a trade with minimum lot size that broker allows to opening an order (use buy & sell buttons of trade panel on top left corner of charts)
* Second and third clicks: drag SL and TP lines to your wanted prices on the chart
* Forth click: drag and drop script on the chart. Script calculates the lot size and opens position(s) for you.

Parameters:

* Risk Percent (like 2% of equity)
* Risk Amount (like 100$)
* Minimum Lot Allowed by Broker to open Orders (generally 0.01 or 0.1)
* Number of Positions  (You can split your risk between more than one positions to set different TPs for them)
* Max order slippage(deviation)

Script calculates the size of the min lot position that you opened and sets remaining lot size based on SL line that you defined on the chart.

![4click Trade Opener-1](https://c.mql5.com/18/91/4click_Trade_Opener-0.png "4click Trade Opener-1")

[![4click Trade Opener-2](https://c.mql5.com/18/91/4click_Trade_Opener-1__2.png "4click Trade Opener-2")](https://c.mql5.com/18/90/4click_Trade_Opener-1.png "https://c.mql5.com/18/90/4click_Trade_Opener-1.png")

**Last comments |
[Go to discussion](/en/forum/341765)**
(8)

![Abolfazl Najafi](https://c.mql5.com/avatar/2022/9/632b79b4-9237.png "Abolfazl Najafi")

**[Abolfazl Najafi](/en/users/abolfazln)**
|
8 Mar 2022 at 09:03

Hi, Thanks for this wonderful script.

I'm trying to compile it in my MetaEditor, buy I face this error, How can I fix this?

```mql5
cannot convert 0 to enum 'ENUM_TRADE_REQUEST_ACTIONS'
```

The error refers to this line:

```mql5
MqlTradeRequest request= {0};
```

I'm using build 3219 of MT5 (25 Feb 2022).

Thanks.

![Behzad Movaghar](https://c.mql5.com/avatar/2020/6/5EFA6C2A-120B.jpg "Behzad Movaghar")

**[Behzad Movaghar](/en/users/behzad.mvr)**
|
8 Mar 2022 at 10:36

**Abolfazl Najafi [#](/en/forum/341765#comment_28187397):**  

Hi, Thanks for this wonderful script.

I'm trying to compile it in my MetaEditor, buy I face this error, How can I fix this?

The error refers to this line:

I'm using build 3219 of MT5 (25 Feb 2022).

Thanks.

Hi, thanks for your notice.

The script is updated, you can download the new version.

![Abolfazl Najafi](https://c.mql5.com/avatar/2022/9/632b79b4-9237.png "Abolfazl Najafi")

**[Abolfazl Najafi](/en/users/abolfazln)**
|
9 Mar 2022 at 09:35

**Behzad Movaghar [#](/en/forum/341765#comment_28190283):**  

Hi, thanks for your notice.

The script is updated, you can download the new version.

Hi mate, thanks for the update.  
  
  
I have another problem, I wonder if you help me.  
  
I trade with ICMarkets, which is allowing me to trade indices with minimum lot size of 0.1 and volume step of 0.1 lot.  
  
How can I make a change in your script that I can fix this issue? Here's an example of the error in DAX:

```mql5
2022.03.09 11:55:29.002 Trade Opener (DE40,M1)  Alert: DE40 Error in order send: 1 10030 lots= 0.14
```

Thanks a lot. Stay safe.

![Behzad Movaghar](https://c.mql5.com/avatar/2020/6/5EFA6C2A-120B.jpg "Behzad Movaghar")

**[Behzad Movaghar](/en/users/behzad.mvr)**
|
9 Mar 2022 at 10:34

**Abolfazl Najafi [#](/en/forum/341765#comment_28215237):**  

Hi mate, thanks for the update.  
  
  
I have another problem, I wonder if you help me.  
  
I trade with ICMarkets, which is allowing me to trade indices with minimum lot size of 0.1 and volume step of 0.1 lot.  
  
How can I make a change in your script that I can fix this issue? Here's an example of the error in DAX:

Thanks a lot. Stay safe.

Hi, thank you.

Change this lines:

lots=NormalizeDouble((remainedLoss/((ask-sl)\*tick/\_Point)/totalPositions),2);

lots=NormalizeDouble((remainedLoss/((sl-bid)\*tick/\_Point)/totalPositions),2);

to:

lots=NormalizeDouble((remainedLoss/((ask-sl)\*tick/\_Point)/totalPositions),1);

lots=NormalizeDouble((remainedLoss/((sl-bid)\*tick/\_Point)/totalPositions),1);

(number 2 becomes 1 in the lines)

Regards

![Rastko](https://c.mql5.com/avatar/avatar_na2.png "Rastko")

**[Rastko](/en/users/rastko)**
|
6 Oct 2022 at 12:10

i get these errors when trying to use it.

2022.10.06 11:35:42.303 4click Trade Opener\_v1.1 ([USDJPY](https://www.mql5.com/en/quotes/currencies/usdjpy "USDJPY chart: technical analysis"),M3) Alert: USDJPY Error in order send: 1 10030 lots= 0.73

2022.10.06 11:37:31.399 4click Trade Opener\_v1.1 (USDJPY,M3) Alert: USDJPY Error in order send: 0 10030 lots= 0.38

I FIXED IT AND MADE IT EVEN BETTER WITH CLICKABLE INTERFACE BY COMBINING IT WITH ONE MORE PANEL

![Currency Strength Expert v3](https://c.mql5.com/i/code/expert.png)
[Currency Strength Expert v3](/en/code/29362)

This Multicurrency EA is based on Currency Strength Indicator.

![Copy constructor](https://c.mql5.com/i/code/script.png)
[Copy constructor](/en/code/29357)

Have you ever wondered how to safely return automatic objects with functions without memory leaks?

![Fast Pending Orders](https://c.mql5.com/i/code/script.png)
[Fast Pending Orders](/en/code/29385)

Placing pending orders with no need to calculate lot size. Script calculates the proper lot size and opens the pending order(s) for you.

![Shved Supply and Demand](https://c.mql5.com/i/code/indicator.png)
[Shved Supply and Demand](/en/code/29395)

This is MQL5 version of Shved Supply and Demand written by Shved and upgraded by eevviill7 with history mode.