# MACD - Any higher timeframe - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/153

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/153) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# MACD - Any higher timeframe - indicator for MetaTrader 5

[slacktrader](/en/users/navodar)  |
[English](javascript:void(false);)

[Русский](/ru/code/153) [中文](/zh/code/153) [Español](/es/code/153) [Deutsch](/de/code/153) [日本語](/ja/code/153) [Português](/pt/code/153) [한국어](/ko/code/153) [Français](/fr/code/153) [Italiano](/it/code/153) [Türkçe](/tr/code/153)

Views:
:   17729

Rating:
:   (21)

Published:
:   4 August 2010, 10:31

Updated:
:   22 November 2016, 07:32
:   [macd\_anytimeframe.mq5](/en/code/download/153/macd_anytimeframe.mq5 "macd_anytimeframe.mq5")
    (5.05 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/153.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This indicator is based on common [MACD](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/macd). Main idea is to allow trader to choose also timeframe of displayed indocator.

Naturally you have the possibility to choose only current chart timeframe or any higher timeframe.

It is not possible to display MACD with lower timeframe as current chart timeframe.

![MACD - Any higher timeframe](https://c.mql5.com/18/0/MACD_Any_higher_timeframe__3.png "MACD - Any higher timeframe")

**Last comments |
[Go to discussion](/en/forum/1616)**
(2)

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
5 Mar 2014 at 07:36

MACD as an Entry Trigger (based on [dailyfx article](https://www.mql5.com/go?link=https://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/03/05/MACD_Entry_Trigger.html "http://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/03/05/MACD_Entry_Trigger.html"))

* MACD can be helpful as a timing indicator to enter positions, as a ‘trade trigger.’
* MACD can be an entry trigger in many types of strategies.

Having a strong trigger in a trading strategy can be a very important component. After all, to have a bias and to blindly buy or sell to trade on that bias can be categorized as haphazard; and in some cases that may be a bit of an understatement.  
   
 Having a trigger helps with timing the entry into a position. It won’t be perfect, but this is trading an perfection is impossible in the first place. Rather, a strong trigger is a way that traders can look to increase the probabilities of success by allowing the market to begin showing the trader what is wanted before any position is ever entered.  
 Let’s look at a few examples below to illustrate in more detail.  
   
 **Using MACD with a Fundamental Approach**  
   
 Many fundamental traders eschew technical analysis for one reason or the other. This isn’t to say that technical analysis is better or vice versa; these are just two differing ways of analyzing a market. But, the best way is often to try to include them both, and something like a MACD entry trigger can be a best friend to a fundamental trader.  
   
 Let’s say that a trader has a bias on the market. This can be any bias: Perhaps the trader expects the S&P to begin tumbling lower… or maybe the trader is expecting the Aussie to shoot to the moon on the back of a cheap dollar and stronger than expected Chinese data. Whatever the case and whatever the bias, the trader can wait to enter the position until the market appears more primed for their idea to come to fruition.  
   
 The trader can simply watch the 4-hour chart to get a MACD entry signal in the direction that they are looking to trade   
   
 The trader can even look to manage the position via MACD after the first trade is placed.

If a contrarian MACD signal shows up (MACD crosses down and under the signal line while in a long position or vice versa); the trader can look to close the long position until another bullish trigger takes place.

![](https://c.mql5.com/3/30/eurusd-d1-metaquotes-software-corp-temp-file-screenshot-51328.png)

Using this type of approach can allow the fundamentals trader to get potentially higher probabilities of success since they’re waiting for the technical environment to agree with their fundamental bias before triggering into the position.  
   
 **Using MACD as a Scalper/Day-Trader**  
   
 Just as the Fundamental-based trader can use MACD to trigger trades in the direction of their bias, scalpers and day-traders can look to do the same on very short-term charts.  
   
 Shorter-term traders can use the hourly or four-hour chart to look for trends or biases in the marketplace that may be operable for their purposes; and then can look to enter position with MACD crossovers in price movements in that direction.

Scalpers can use longer-term trend analysis and shorter term MACD entries in direction of trend

The MACD trigger can be investigated on the five or fifteen minute charts to look for quick entries in the direction of slightly longer-term swings.  
   
 **MACD Triggers as Part of a Broader-based Technical Strategy**  
   
 Traders can also look to implement a MACD trigger in conjunction of additional technical methods of analysis.  
   
 In the 4-hour trader, we looked specifically at that type of strategy.  
 Traders can use a longer time frame chart, such as the daily chart, to investigate trends and determine any relevant biases that may exist in the marketplace.  
   
 Once the trader has determined the direction that they want to trade in a market given the trend found on the longer-term charts, they can then go down to the shorter time frame chart to wait for a MACD signal in the direction of that trend.  
 Multiple time frame analysis can bring enormous benefit to the trader.  
   
 The longer time frame provides the ‘bigger picture’ view of any biases or trends that may exist in the marketplace; and the MACD trigger on the shorter time frame can allow the trader to focus on high-probability setups in which the longer-term bias may be coming back into the market.

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
21 Mar 2014 at 07:12

[Forum on trading, automated trading systems and testing trading strategies](/en/forum)

[Indicators: Moving Average of Oscillator (OsMA)](/en/forum/265#comment_808943)

[newdigital](https://www.mql5.com/en/users/newdigital "https://www.mql5.com/en/users/newdigital"), 2014.03.21 07:04

Scalping with MACD (based on [dailyfx article](https://www.mql5.com/go?link=https://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/03/20/Scalping-with-MACD.html "http://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/03/20/Scalping-with-MACD.html"))

* Scalpers should look to systematize their approaches and strategies.
* Multiple Time Frame Analysis can help day-traders see ‘the bigger picture.’
* Traders can use MACD to initiate positions in a day-trading approach.

When a scalper begins their day, there are usually quite a few questions that need to be answered before ever placing a trade.  
   
 What’s moving the market this morning?  
 Which markets are most active?  
 What drivers (or news) might come out to push the market further?  
 Is my coffee ready yet?

These are just a few examples… but suffice it to say that those who are day-trading in markets have quite a bit on their mind every single trading day.  
  
**The Setup**  
   
 Before a scalper ever triggers a position they need to first find the appropriate market environment.  
   
 For fundamental-based traders, Multiple Time Frame Analysis can be helpful; but more important is their outlook or opinion and the fact that that outlook or opinion should mesh with the ‘bigger picture’ view of what’s going on at the moment.  
   
 For scalpers, the hourly and 4-hour charts carry special importance, as those are the ideal timeframes for seeing the bigger picture.  
   
 After that, traders should look to diagnose the trend (or lack thereof).

A great indicator for investigating trend strength is the Average Directional Index (ADX). Also popular for investigating trends is the Moving Average Indicator.

![](https://c.mql5.com/3/31/Scalping1.png)

**The Entry**  
   
 After the day-trader has found a promising setup, they then need to decide how to trigger into positions, and MACD can be a very relevant option for such situations.  
   
 Because the trader already knows the direction they want to trade in, they merely need to wait for a corresponding signal via MACD to initiate the position.  
   
 When MACD crosses up and over the signal line, the trader can look to go long.  
   
 After a long position is triggered, the trader can look to close the position when MACD moves down and under the signal line (which is usually looked at as a sell signal, but because you did the ‘bigger picture analysis’ with the longer-term chart, this is merely a ‘close the long signal.’)

Scalpers can trigger positions when MACD Signal takes place in direction of their bias

![](https://c.mql5.com/3/31/Scalping2.png)

On the other side of this equation: If the trader had determined the trend to be down on the longer-term chart or if their fundamental bias is pointing lower, they can look for MACD to cross down and under the signal line to trigger their short position.  
   
 And once MACD crosses up and over the signal line, the trader can look to cover their short position.

Scalpers can close positions when opposing MACD Signal takes place

![](https://c.mql5.com/3/31/Scalping3.png)

**The Context**   
 The aforementioned approach can work phenomenally in a day-trading/scalping approach. But the fact-of-the-matter is that scalping profitably entails a lot more than just a trading plan, and an entry strategy.  
   
 Risk management is the undoing of most new traders; and day-traders and scalpers fall victim to this susceptibility even more so than most.

![spread_on_chart](https://c.mql5.com/i/code/indicator.png)
[spread\_on\_chart](/en/code/152)

The spread\_on\_chart indicator shows the current values of spread, stop and freeze levels.

![Free Fuzzy Logic Library functions](https://c.mql5.com/i/code/library.png)
[Free Fuzzy Logic Library functions](/en/code/151)

The API functions to Free Fuzzy Logic Library.

![Dual Trix UpGrade_1](https://c.mql5.com/i/code/indicator.png)
[Dual Trix UpGrade\_1](/en/code/154)

Dual Trix Upgrade 1.

![MartGreg](https://c.mql5.com/i/code/expert.png)
[MartGreg](/en/code/155)

An Expert Advisor, based on two MACD, it uses the martingale money management system.