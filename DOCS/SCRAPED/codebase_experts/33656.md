# Multi currency library - library for MetaTrader 5

Source: https://www.mql5.com/en/code/33656

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/33656) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Multi currency library - library for MetaTrader 5

[Francesco Danti](/en/users/abbadon1334)

Views:
:   6945

Rating:
:   (20)

Published:
:   22 February 2021, 12:29
:   [multimomentum.mq5](/en/code/download/33656/multimomentum.mq5 "multimomentum.mq5")
    (4.48 KB)
    [view](# "view")

    [symbolcollection.mqh](/en/code/download/33656/symbolcollection.mqh "symbolcollection.mqh")
    (6.26 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/33656.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This library allow an easy control over multiple currencies, on every update it will check for errors, this way you can use it in your indicator or expert to avoid common error and rewrite not needed parts, focusing more on your business and leave hassle away.

How to use it , just include the library and define the CSymbolCollection, add symbols and  Update before calculations :

```mql5
CSymbolCollection *SCollection = new CSymbolCollection(TotalBarsToCalculate);
SCollection.Add("EURUSD");

SCollection.Update();
```

Update() method return a boolean, if false it will print in journal which currency need more history to be processed. After this you can loop for every currencies to get the MqlRates or get the specific price directly ::

```mql5
int collection_length = SCollection.GetCollectionLength(); // get the total number of currency added
for(int s=0;s<collection_length;s++) {
    MqlRates rate_prev = SCollection.GetRateAtPos(s,bar-VariationPeriod);
    MqlRates rate_actual = SCollection.GetRateAtPos(s,bar);

    momentum=(rate_actual.close*100/rate_prev.close);
}
```

```mql5
int collection_length = SCollection.GetCollectionLength(); // get the total number of currency added
for(int s=0;s<collection_length;s++) {

    double close_prev = SCollection.GetCloseAtPos(s,bar-VariationPeriod);
    double close_actual = SCollection.GetCloseAtPos(s,bar);

    momentum=(close_actual*100/close_prev);
}
```

This library is used by my indicator Multi Momentum downloadable from the codebase.

**[Go to discussion](/en/forum/363421)**

![Vinci EA](https://c.mql5.com/i/code/expert.png)
[Vinci EA](/en/code/33625)

It is Diffrent complex Range BreakOut system. Using to Range Breakout system is defined by min number of bars and max width in pips. This robot is can use to volatility instrument.

![INDICATOR Currency Strength Meter - MT5](https://c.mql5.com/i/code/indicator.png)
[INDICATOR Currency Strength Meter - MT5](/en/code/33584)

The currency strength meter is a trading tool that is used to identify trending and consolidating markets based on the percentage rate of change in price from one period to the next.

![Stable Damiani Volatmeter](https://c.mql5.com/i/code/indicator.png)
[Stable Damiani Volatmeter](/en/code/33677)

Volume/Volatility Indicator

![Licensing class and script with 256bit Encryption](https://c.mql5.com/i/code/script.png)
[Licensing class and script with 256bit Encryption](/en/code/33774)

This is a Script and Class for creating, evaluating and adding accounts to an encrypted license file for licensing an MQL EA or Indicator.