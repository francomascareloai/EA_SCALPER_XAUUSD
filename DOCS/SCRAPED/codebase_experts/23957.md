# Fractals and Alligator - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/23957

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/23957) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Fractals and Alligator - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

Views:
:   19255

Rating:
:   (11)

Published:
:   31 December 2018, 23:21

Updated:
:   15 November 2025, 16:14
:   [Fractals & Alligator.mq4](/en/code/download/23957/Fractals_v_Alligator.mq4 "Fractals & Alligator.mq4")
    (95.99 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/23957.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

"Fractals & Alligator" EA trades with a strategy based on Fractals & Alligator indicators and has Trailing Stop Loss &Take Profit works best on 1D time frames major forex pairs  and stocks NASDAQ.

### 

* Try it on demo first.
* This EA trades only with the price of open candle!
* If you do not want to trade with increasing lot size when you lose  a trade set:"IncreaseFactor=0"

### Inputs:

+ Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
+ TP\_In\_Money- Take Profit In Money   (values: 10-100).
+ Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
+ TP\_In\_Percent- Take Profit In Percent (values: 10-100).
+ ------------[Money Trailing Stop For Multiple Trades]----------------------
+ Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
+ Take Profit In Money (in current currency) (values: 25-200).
+ Stop Loss In Money(in current currency) (values: 1-20).
+ --------------------------------------------------------------------------------------
+ Exit= Close trades if the trend is against you and control draw dwon (values:true/false).
+ Lots - Lots size (values: 0.01-1).
+ Lots size Exponent  (values: 1.01-2).
+ IncreaseFactor -how much to increase lots from total margin if you lose a trade (values: 0.001-0.1).
+ CandlesToRetrace= Num.Of Candles For Divergence  (values: 10-100).
+ Stop\_Loss - Stop Loss (values: 30-500).  /set value 600 for  Multiple Trades
+ MagicNumber - Magic number (values: 1-100000).
+ TakeProfit - Take Profit (values: 50-200).  /set value 600 for  Multiple Trades
+ FastMA - Fast Moving Average (values: 1-20).
+ SlowMA - Slow Moving Average (values: 50-200).
+ Mom\_Sell-Momentum\_Sell trigger(values: 0.1-0.9).
+ Mom\_Buy-Momentum\_Buy trigger(values: 0.1-0.9).
+ ---------------------CONTROL DRAW DOWN-----------------------------
+ UseEquityStop -  (values: true).
+ TotalEquityRisk- (values: 0.01-20).
+ -------------------------------------------------------------------------------
+ Max\_Trades(1-12).
+ FractalNum= Number Of High And Low(values: 1-10).
+ ----------------IF YOU USE ONLY 1 TRADE:-----------------------
+ /////////////////////////////////////////////////////////////////////
+ USETRAILINGSTOP-If use trailing stop (values:true/false).
+ WHENTOTRAIL-When to trail (values: 40-100).
+ TRAILAMOUNT-Trail amount (values: 40-100).
+ Distance From Candle -Distance From Candle (values: 1-100).
+ USECANDELTRAIL=If use trailing stop (values:true/false).
+ X=2-number of candles (values: 1-100).
+ USEMOVETOBREAKEVEN-Enable " break even " (values: true/false).
+ WHENTOMOVETOBE-When to move break even (values: 1-30).
+ PIPSTOMOVESL=30-How much pips to move stop loss  (values: 1-30)

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.  
-How to perform back test:[https://bit.ly/2CD7XWD](/go?link=https://bit.ly/2CD7XWD "https://bit.ly/2CD7XWD")

[![fractals& alligator](https://c.mql5.com/18/159/h08jupo_moy_l81z.png "fractals& alligator")](https://c.mql5.com/18/159/6tqbpg0_jk9_i816.png "https://c.mql5.com/18/89/6tqbpg0_jk9_i816.png")

**Last comments |
[Go to discussion](/en/forum/297039)**
(2)

![Balachander Krishnamoorthy](https://c.mql5.com/avatar/avatar_na2.png "Balachander Krishnamoorthy")

**[Balachander Krishnamoorthy](/en/users/kbalachander)**
|
4 Jan 2019 at 15:11

Few Issues:

- Opens and closes orders when changing timeframes. (Switching between Daily and 4H or 1H creates an order and sometime immediately closes it).

- Once the order remains open,the EA works fine with trailing stop.

- Once the stable order gets closed by either SL or TP, new orders are not created, just sits idle for hours.

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
4 Jan 2019 at 18:46

**Balachander Krishnamoorthy:**

Hello

1. You should not switch between time frames, obviously it will close you trades, do not do it

2. Note that within 6 years you have only 206 trades. This is very little. Try to test on a lower time frame and another pair or work with multiple pairs at the same time.

(Eg 20) it will increase the number of trades.

![ZigZag Signal](https://c.mql5.com/i/code/indicator.png)
[ZigZag Signal](/en/code/23938)

Indicator ZigZag System with Signal and Alert
Added Alert and modify by Roberto Jacobs 3rjfx @ 2018/12/29

![Price Movement Degrees](https://c.mql5.com/i/code/indicator.png)
[Price Movement Degrees](/en/code/23926)

Forex Indicator Price Movement Degrees with Trend Alerts.
This indicator will write value degrees of the latest position of price at the current time frames
according to the Daily price movement, and when position and condition of trend status was changed
the indicator will give an alerts.

![Heikin Ashi Trader](https://c.mql5.com/i/code/expert.png)
[Heikin Ashi Trader](/en/code/23959)

"Heikin Ashi Trader" EA trades with a strategy based on Heikin Ashi indicator (not visible) and has Trailing Stop Loss &Take Profit works best on 1D time frames major forex pairs and stocks NASDAQ.

![Easy Object](https://c.mql5.com/i/code/library.png)
[Easy Object](/en/code/23261)

A simple way to manage graphical objects.