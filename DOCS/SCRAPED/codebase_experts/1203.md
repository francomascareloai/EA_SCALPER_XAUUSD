# Exp_MAMA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/1203

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/1203) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Exp\_MAMA - expert for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/1203) [中文](/zh/code/1203) [Español](/es/code/1203) [Deutsch](/de/code/1203) [日本語](/ja/code/1203) [Português](/pt/code/1203)

Views:
:   9752

Rating:
:   (28)

Published:
:   12 December 2012, 12:18

Updated:
:   22 November 2016, 07:32
:   \MQL5\Indicators\

    [mama\_optim.mq5](/en/code/download/1203/mama_optim.mq5 "mama_optim.mq5")
    (9.33 KB)
    [view](# "view")

    [exp\_mama.mq5](/en/code/download/1203/exp_mama.mq5 "exp_mama.mq5")
    (5.79 KB)
    [view](# "view")

    \MQL5\Include\

    [tradealgorithms.mqh](/en/code/download/1203/tradealgorithms.mqh "tradealgorithms.mqh")
    (67.73 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/1203.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The Exp\_MAMA Expert Advisor with the entry by crossing of Moving Averages of the [MAMA](/en/code/400) indicator. A signal to perform a deal is formed at bar closing if there is crossing of Moving Averages of the indicator.

Place MAMA\_Optim.ex5 compiled file to the terminal\_data\_folder\MQL5\Indicators.

Default Expert Advisor's input parameters have been used during the
tests shown below. Stop Loss and Take Profit have not been used during
the tests.

![Fig. 1. The instances of history of deals on the chart.](https://c.mql5.com/18/8/hTesterGraph.png "Fig. 1. The instances of history of deals on the chart.")

**Fig. 1. The instances of history of deals in the chart.**

Testing results for 2011 at USDCHF H4:

![Fig. 2. Charts of testing results](https://c.mql5.com/18/8/tTesterGraphReport.png "Fig. 2. Charts of testing results")

**Fig. 2. Chart of testing results**

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/1203](/ru/code/1203)

**Last comments |
[Go to discussion](/en/forum/9345)**
(7)

![Sergey Gayfutdinov](https://c.mql5.com/avatar/2013/2/510E90F0-DF97.jpg "Sergey Gayfutdinov")

**[Sergey Gayfutdinov](/en/users/fankytime)**
|
2 Nov 2012 at 09:54

the point is that it works better if MAMA has one period and FAMA has another. i have implemented such a variant in TS lab, but with mt5 there are problems....

I guess it is still possible to make an [Expert Advisor](https://www.mql5.com/en/market/mt5/ "A Market of Applications for the MetaTrader 5 and MetaTrader 4") that makes deals when MAMA crosses with one period and FAMA with another period.

![Nikolay Kositsin](https://c.mql5.com/avatar/2014/6/538DE448-E682.jpeg "Nikolay Kositsin")

**[Nikolay Kositsin](/en/users/godzilla)**
|
2 Nov 2012 at 10:04

**Fankytime:**  

the point is that it works better if MAMA has one period and FAMA has another. i have implemented such a variant in TS lab, but with mt5 there is a problem....

probably it is still possible to make an Expert Advisor that makes deals when MAMA crosses with one period and FAMA with another period.

Well, you need to push two MAMAs into one [Expert Advisor](https://www.mql5.com/en/market/mt5/ "A Market of Applications for the MetaTrader 5 and MetaTrader 4") and that's all!

![Sergey Gayfutdinov](https://c.mql5.com/avatar/2013/2/510E90F0-DF97.jpg "Sergey Gayfutdinov")

**[Sergey Gayfutdinov](/en/users/fankytime)**
|
2 Nov 2012 at 10:12

That's the thing.

I don't even know the basics

![Nikolay Kositsin](https://c.mql5.com/avatar/2014/6/538DE448-E682.jpeg "Nikolay Kositsin")

**[Nikolay Kositsin](/en/users/godzilla)**
|
2 Nov 2012 at 10:17

**Fankytime:**  

that's the thing.

I don't even know the [basics of the language](/ru/docs/basis "MQL5 Documentation: Language Basics").

It's just a definite job!

![Sergey Gayfutdinov](https://c.mql5.com/avatar/2013/2/510E90F0-DF97.jpg "Sergey Gayfutdinov")

**[Sergey Gayfutdinov](/en/users/fankytime)**
|
13 Jul 2016 at 12:16

Nikolay, I am trying to run this [Expert Advisor](https://www.mql5.com/en/market/mt5/ "A Market of Applications for the MetaTrader 5 and MetaTrader 4"). I have thrown all the files where they should be, but for some reason trades do not go through. Only the indicator is displayed normally.

Can you tell me what the reason is?

![Dserg - LinRegression Breakout](https://c.mql5.com/i/code/indicator.png)
[Dserg - LinRegression Breakout](/en/code/1205)

The indicator for automatic drawing of consolidation areas and channels on the basis of the linear regression

![Exp_ColorX2MA-Parabolic](https://c.mql5.com/i/code/expert.png)
[Exp\_ColorX2MA-Parabolic](/en/code/1204)

Trading system based on the signals of the parabolic that uses Moving Average values as an input time series.

![EA_MALR](https://c.mql5.com/i/code/expert.png)
[EA\_MALR](/en/code/1198)

The Expert Advisor drawn on the basis of the MALR indicator. Trailing stop, lot increase, averaging and reversal functions are available

![Color RMACD](https://c.mql5.com/i/code/indicator.png)
[Color RMACD](/en/code/1206)

The MACD histogram drawn on the basis of the RVI technical indicator and the TRVI custom indicator.