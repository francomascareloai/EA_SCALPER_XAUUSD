# JMA adaptive average - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/427

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/427) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# JMA adaptive average - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/427) [中文](/zh/code/427) [Español](/es/code/427) [Deutsch](/de/code/427) [日本語](/ja/code/427) [Português](/pt/code/427) [한국어](/ko/code/427) [Français](/fr/code/427) [Italiano](/it/code/427) [Türkçe](/tr/code/427)

Views:
:   20818

Rating:
:   (34)

Published:
:   14 September 2011, 12:47

Updated:
:   29 March 2023, 13:43
:   [jjma.mq5](/en/code/download/427/jjma.mq5 "jjma.mq5")
    (6.71 KB)
    [view](# "view")

    [jma.mq5](/en/code/download/427/jma.mq5 "jma.mq5")
    (22.97 KB)
    [view](# "view")

    [jma\_.mq5](/en/code/download/427/jma_.mq5 "jma_.mq5")
    (19.9 KB)
    [view](# "view")

    \MQL5\Include\

    [smoothalgorithms.mqh](/en/code/download/427/smoothalgorithms.mqh "smoothalgorithms.mqh")
    (133.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/427.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Using this indicator is the best way to smooth price curves with a minimum time lag.

It differs from standard [moving averages](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") by better smoothing, higher sensibility and lesser time lag.

JMA is a form of [AMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama") (Adaptive Moving Average) and is one of the best price filters. JMA curve has good smoothing, minimum lag during strong price moves and minimum overtake after their end. Note that JMA indicator analyses fast trends. Therefore, it is not recommended to set big values for the JMALength\_ parameter.

Indicator is written in three variants that have absolutely similar operation principles. JJMA.mq5 indicator uses the CJJMA class of the SmoothAlgorithms.mqh library. The use of the class was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](/en/articles/180).

JMA.mq5 and JMA\_.mq5 indicators do not use any classes. The difference is that the second one can be applied to other indicators to get their JMA smoothing.

![JMA adaptive average indicator](https://c.mql5.com/18/3/JMA__1.png "JMA adaptive average indicator")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/427](/ru/code/427)

**Last comments |
[Go to discussion](/en/forum/4638)**
(5)

![faruto](https://c.mql5.com/avatar/avatar_na2.png "faruto")

**[faruto](/en/users/faruto)**
|
11 Dec 2013 at 07:18

**Automated-Trading:**  

[JMA Adaptive Mean](/en/code/427).

By [Nikolay Kositsin](https://www.mql5.com/en/users/GODZILLA "GODZILLA")

What is the principle of JMA SMA?

![enbo lu](https://c.mql5.com/avatar/2013/9/52326F50-93D0.jpg "enbo lu")

**[enbo lu](/en/users/luenbo)**
|
11 Dec 2013 at 15:37

It looks like assigning a higher weight to the present value. The exact algorithm has to be studied in the code.

![Pavel Pavlov](https://c.mql5.com/avatar/2012/9/50598931-8D1B.jpg "Pavel Pavlov")

**[Pavel Pavlov](/en/users/treiderix)**
|
3 Apr 2016 at 22:08

great MAs !!! is there one for MT4?

![---](https://c.mql5.com/avatar/avatar_na2.png "---")

**[---](/en/users/sergeev)**
|
4 Apr 2016 at 14:21

**Pavel Pavlov:**  
 great MAs !!! for MT4 is there any of them?

[https://www.mql5.com/en/code/7307](/ru/code/7307)

![Keith Long](https://c.mql5.com/avatar/2019/2/5C6CB8F4-DC90.PNG "Keith Long")

**[Keith Long](/en/users/angelduz)**
|
15 Nov 2020 at 15:59

Hi,

How do i use this jma\_ applied to something like kaufmann volatility within an EA?

How do i pass the kaufmann volatility indicator handle to jma\_ within the EA?

![Go](https://c.mql5.com/i/code/indicator.png)
[Go](/en/code/440)

The simplest trend indicator.

![Extrapolator](https://c.mql5.com/i/code/indicator.png)
[Extrapolator](/en/code/412)

Extrapolator is a result of a long-term research in the field of Timeseries Forecasting. This indicator forecasts future price behavior.

![Stochastic_Cross_Alert_SigOverlayM_cw](https://c.mql5.com/i/code/indicator.png)
[Stochastic\_Cross\_Alert\_SigOverlayM\_cw](/en/code/419)

The indicator generates buy and sell signals and issues alerts in case of the Stochastic Oscillator indicator overbought or oversold levels crossing.

![SATL](https://c.mql5.com/i/code/indicator.png)
[SATL](/en/code/404)

Slow Adaptive Trend Line is used for suppressing market noises and market cycles with longer oscillation periods.