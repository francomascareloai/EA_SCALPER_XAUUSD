# Bollinger Bandwidth 1.0 for MetaTrader 5 - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/105

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/105) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Bollinger Bandwidth 1.0 for MetaTrader 5 - indicator for MetaTrader 5

[Larry](/en/users/lehayes)  |
[English](javascript:void(false);)

[Русский](/ru/code/105) [中文](/zh/code/105) [Español](/es/code/105) [Deutsch](/de/code/105) [日本語](/ja/code/105) [Português](/pt/code/105) [한국어](/ko/code/105) [Français](/fr/code/105) [Italiano](/it/code/105) [Türkçe](/tr/code/105)

Views:
:   23401

Rating:
:   (32)

Published:
:   29 April 2010, 10:19

Updated:
:   22 November 2016, 07:32
:   [bbandwidth.mq5](/en/code/download/105/bbandwidth.mq5 "bbandwidth.mq5")
    (4.1 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/105.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The indicator measures the distance between the [Bollinger Bands ®](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/bb) and providing it as a singular indicator, using the [MetaTrader 5](https://www.metatrader5.com/) techniques to simplify Bollinger calculations.

This new version designed with MetaTrader 5 takes the calculations of [iBands](/en/docs/indicators/ibands) and calls them to perform the calculations needed to get the difference between upper and lower bandwidths.

This version also comes with an attempt to provide a digits offset so that you can drop it on a 2 digit, 3 digit, 4, digit, or 5 digit and the resulting value should be correct.

The digits settings may need to be adjusted, all variants may not have been taken into consideration.  The code is available for you to modify.

![Bollinger Bandwidth for MetaTrader 5](https://c.mql5.com/18/0/BBWidth.png "Bollinger Bandwidth for MetaTrader 5")

**Last comments |
[Go to discussion](/en/forum/880)**
(5)

![Олег](https://c.mql5.com/avatar/2010/5/4BE5E6E9-62C3.jpg "Олег")

**[Олег](/en/users/neoclassic)**
|
1 May 2010 at 16:56

**Automated-Trading писал(а) [#](/ru/forum/881#comment_topic881) :**  

[Bollinger Bandwidth 1.0 for MT5](/en/code/105):

Author: Larry

distance between BBs = 2 \* RMS...

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
3 Sep 2013 at 10:12

[Bollinger Bandwidth Indicator](/go?link=http://www.tradeforextrading.com/index.php/bollinger-bandwidth-indicator "http://www.tradeforextrading.com/index.php/bollinger-bandwidth-indicator")

![Widy Prasetyo](https://c.mql5.com/avatar/2024/3/65e3fad6-466f.jpg "Widy Prasetyo")

**[Widy Prasetyo](/en/users/widhie75)**
|
1 Oct 2020 at 09:11

Finally, after few years trading with BollingerBand... Now I found this simple and [usefull indicator](https://www.mql5.com/en/articles/31 "Article: MQL5 for Newbies: Guide to Using Technical Indicators in Expert Advisors") to calculate Upper-Lower BB Range.....

Works great in major pair but still have bug when attach to JPY (EURJPY & USDJPY) in 4 digit broker,,,,, the width value is wrong.

I hope there will be v2.0 , to correct this issue.

![Niklas Rolf Alexander Schlimm](https://c.mql5.com/avatar/2021/1/6005E158-6DF1.jpeg "Niklas Rolf Alexander Schlimm")

**[Niklas Rolf Alexander Schlimm](/en/users/programminggeek)**
|
28 Jun 2021 at 20:38

Hi Larry, thanks for the indicator. I'd recommend to not copy all the data all the time, as this leads to massive performance drawback.

Here is a revisited copy of your OnCalculate() [method](https://www.mql5.com/en/docs/standardlibrary/technicalindicators/volumeindicators/ciobv "Standard library: CiOBV class"):

```mql5
  {
//--- variables
   double upper_band[];
   double lower_band[];

// --- Turn the arrays into dynamic series arrays 
// ArraySetAsSeries(lower_band,true);
// ArraySetAsSeries(upper_band,true);
// ArraySetAsSeries(BBandwidthBuffer,true);

//--- check if all data calculated
   if(BarsCalculated(BBHandle)<rates_total) return(0);
//--- we can copy all data
   
   int barstocopy = 0;
   if(prev_calculated>rates_total||prev_calculated<=0) {
      barstocopy = rates_total;
   } else {
      barstocopy = rates_total-prev_calculated;
      if(prev_calculated>0) barstocopy++;
   }

   if(IsStopped()) return(0);
   
   if(CopyBuffer(BBHandle,1,0,barstocopy,upper_band) <=0) return(0);
   if(CopyBuffer(BBHandle,2,0,barstocopy,lower_band) <=0) return(0);

   for(int i=0;i<barstocopy-1;i++)
     {
         BBandwidthBuffer[i]=upper_band[i]-lower_band[i];
     }

//--- return value of prev_calculated for next call
   return(rates_total);
  }
```

![Lorenzo Rovai](https://c.mql5.com/avatar/avatar_na2.png "Lorenzo Rovai")

**[Lorenzo Rovai](/en/users/pedale)**
|
12 Aug 2024 at 00:01

Hi i made a version with this formula:  bandwidth = (( upper band - lower band ) / middle band ) \* 100

![Clipboard](https://c.mql5.com/i/code/script.png)
[Clipboard](/en/code/104)

The script gets contents from the Windows Clipboard.

![Simple MA Expert Advisor](https://c.mql5.com/i/code/expert.png)
[Simple MA Expert Advisor](/en/code/103)

Something for those who wants to try out new Strategy Tester and don't have any EA.

![isNewBar](https://c.mql5.com/i/code/indicator.png)
[isNewBar](/en/code/107)

The function allows checking whether a new bar has appeared on the specified timeframe.

![Setka (grid)](https://c.mql5.com/i/code/indicator.png)
[Setka (grid)](/en/code/111)

The purpose of this grid is to replace the standard grid with more convenient, it allows to determine many important points on the chart, the properties of the price movement and checkinh the quotes quality (for the presence of holes).