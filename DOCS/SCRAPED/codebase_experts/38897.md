# RSI_MAonRSI_Dual_EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/38897

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/38897) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# RSI\_MAonRSI\_Dual\_EA - expert for MetaTrader 5

[Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6901

Rating:
:   (36)

Published:
:   6 April 2022, 18:59

Updated:
:   7 April 2022, 06:33
:   [RSI\_MAonRSI\_Dual\_EA.mq5](/en/code/download/38897/rsi_maonrsi_dual_ea.mq5 "RSI_MAonRSI_Dual_EA.mq5")
    (124.95 KB)
    [view](# "view")

    \MQL5\Indicators\

    [RSI\_MAonRSI\_Dual.mq5](/en/code/download/38897/rsi_maonrsi_dual.mq5 "RSI_MAonRSI_Dual.mq5")
    (23.29 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/38897.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Trading strategy

The EA uses a custom indicator [RSI\_MAonRSI\_Dual](/en/code/38890) - the signal is the intersection of two indicator lines. The indicator is created on the specified timeframe '**Working timeframe**' - the same timeframe is used to determine the moment of the birth of a new bar (if it is necessary for the parameters **'Trailing on ...**' and '**Search signals on ...**').

**Trading signals:**

We are waiting for the lines to cross ('Fast' and 'Slow'). If the crossing is below the '50.0' line, it is a signal to open a 'BUY' position, if it is above the '50.0' line , it is a signal to open a 'SELL' position. 

![RSI_MAonRSI_Dual_EA](https://c.mql5.com/18/103/2022-04-06_19h35_48.png "RSI_MAonRSI_Dual_EA")

Rice. 1. RSI\_MAonRSI\_Dual\_EA (BUY signal)

**Peculiarities:**

* The EA can be optimized for the working timeframe ('**Working timeframe**')
* There can be only one 'entry to the market' deal per bar (this is an internal parameter, it is not included in the input parameters and it has nothing to do with the '**Only one positions**' parameter)
* When working in the ' *inside bar* ' mode (parameter '**Search signals on ...**'   equals ' ***bar #0 (at every tick)*** ') the current bar is bar #0, when working in the mode ' *only at the moment of birth of a new bar* '   (parameter '**Search signals on ...**'   equals '***bar #1 (on a new bar)*** )   current bar is bar #1
* '**Trade mode parameter:**' - restriction in which direction to trade. Can take the values '***Allowed only BUY positions***', '***Allowed only SELL positions***' and '***Allowed BUY and SELL positions***'
* '**Use time control**' parameter   - time interval for searching trading signals from '**Start Hour**'::'**Start Minute**' to '**End Hour**'::'**End Minute'** . The time range can be set both within the day and with the transition through the day

Now more about each group of parameters:

**Trading settings:**

> '**Working timeframe**' - working timeframe. The timeframe on which indicators are created and on which a new bar is searched. Stop Loss, Take Profit and Trailing are set in [Points](/ru/articles/9717#chapter1) . Any of the parameters ('**Stop Loss**', '**Take Profit**', '**Trailing Stop**') can be disabled - for this, set the selected parameter to '0.0'. How trailing works is shown in the pictures in the [TrailingStop](/ru/code/17263) code.

**Position size management (lot calculation)**

> The lot can be either permanent ('**Money management**' set to '***Constant lot***' and set the lot size to '**The value for "Money management"**') and dynamic - in percent risk per trade ('**Money management**' set to '**Risk in percent for a deal**' and set the risk percentage in '**The value for "Money management"**'). You can also set a constant lot equal to the minimum lot - '**Money management**' set to '***Lots Min***'.

**time control:**

> This section sets the time range for searching for trading signals. The time range is enabled via '**Use time control**' and sets the time interval for searching for signals from '**Start Hour**'::'**Start Minute**' to '**End Hour**'::'**End Minute**'. The time range can be set both within the day and with the transition through the day. Does not affect trailing.

**Additional features:**

> Flag '**Positions: Only one**' set to '***true***' allows the EA to have no more than one position in the market.

WARNING: '**Positions: Only one**' set to '***true***' does not override '**Positions: Close opposite**' set to '***true***'! In other words: the opposite position(s) will be closed first

![Additional features](https://c.mql5.com/18/103/Additional_features__10.png "Additional features")

The flag '**Positions: Reverse**' is responsible for signal reversal. An interesting flag '**Positions: Close opposite**' - when set to '***true***' before opening a position, it is guaranteed to remove opposite positions. '**Print log**' prints an extended log of all operations. The '**Freeze and StopsLevels Coefficient**' parameter sets the coefficient for stop and freeze levels for cases when these levels for a symbol are equal to zero. The recommended value is '3'.

**Last comments |
[Go to discussion](/en/forum/392895)**
(4)

![Richson Eric Darko](https://c.mql5.com/avatar/2025/7/6883f74c-71ad.jpg "Richson Eric Darko")

**[Richson Eric Darko](/en/users/richsoneric)**
|
11 Apr 2022 at 15:43

can this indicator place buy and sell trades?

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
11 Apr 2022 at 15:49

**Richson Eric [#](/en/forum/392895#comment_28875792) :**  

can this indicator place buy and sell trades?

1. This is not an indicator, this is an adviser.

2. This EA can:

* open only BUY
* open only SELL
* open both BUY and SELL

![2100622109](https://c.mql5.com/avatar/avatar_na2.png "2100622109")

**[2100622109](/en/users/2100622109)**
|
12 Jul 2022 at 02:43

Hi I've been interested in learning code to build ea with rsi and ma. <Deleted>

![Keith Watford](https://c.mql5.com/avatar/avatar_na2.png "Keith Watford")

**[Keith Watford](/en/users/forexample)**
|
12 Jul 2022 at 06:27

**2100622109 [#](/en/forum/392895#comment_40741521):**  
 Hi I've been interested in learning code to build ea with rsi and ma. <Deleted>

Click on the link top left of the first post

[Link](/en/code/38897)

![Multiple dynamic logistic regression first unsuccessful attempt](https://c.mql5.com/i/code/library.png)
[Multiple dynamic logistic regression first unsuccessful attempt](/en/code/38894)

from the logistic regression Article, I welcome all the thoughts on how we can build multiple dynamic Logistic Regression

![RSI_MAonRSI_Dual](https://c.mql5.com/i/code/indicator.png)
[RSI\_MAonRSI\_Dual](/en/code/38890)

Two indicators iRSI (Relative Strength Index, RSI) smoothed using iMA (Moving Average, MA)

![Bollinger and Envelope candle extremes](https://c.mql5.com/i/code/indicator.png)
[Bollinger and Envelope candle extremes](/en/code/38905)

Candle close above/below BB & Envelopes

![Two MA Other TimeFrame Correct Intersection](https://c.mql5.com/i/code/expert.png)
[Two MA Other TimeFrame Correct Intersection](/en/code/38914)

Very simplified code: intersection of two custom indicators 'MA Other TimeFrame Correct'. There is no Stop Loss, Take Profit or Trailing.