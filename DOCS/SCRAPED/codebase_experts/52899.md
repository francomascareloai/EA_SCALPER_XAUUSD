# Push Notification for Opened / Closed Trades (Netting) - library for MetaTrader 5

Source: https://www.mql5.com/en/code/52899

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/52899) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Push Notification for Opened / Closed Trades (Netting) - library for MetaTrader 5

[Kurren James Kidd](/en/users/mrkidd)  |
[English](javascript:void(false);)

[Русский](/ru/code/52899) [中文](/zh/code/52899) [Español](/es/code/52899) [Deutsch](/de/code/52899) [日本語](/ja/code/52899) [Português](/pt/code/52899) [한국어](/ko/code/52899) [Français](/fr/code/52899) [Italiano](/it/code/52899) [Türkçe](/tr/code/52899)

Views:
:   4051

Rating:
:   (7)

Published:
:   19 October 2024, 04:45

Updated:
:   19 October 2024, 04:46
:   \MQL5\Include\

    [TradeNotifications.mqh](/en/code/download/52899/tradenotifications.mqh "TradeNotifications.mqh")
    (3.87 KB)
    [view](# "view")

    [TradeNotifications\_Example.mq5](/en/code/download/52899/tradenotifications_example.mq5 "TradeNotifications_Example.mq5")
    (1.74 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/52899.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

## Features

* Sends notifications for trade opens and closes
* Shows trade type (Buy/Sell) and lot size for new trades
* Displays profit/loss for closed trades
* Works in both live trading and strategy tester (sends to logs in tester)
* Monitors last 2 hours of trading history
* Prevents notification spam through basic throttling

## Installation

1. Add this function to your Expert Advisor (EA) or script
2. Enable push notifications in your MetaTrader platform:
   * Tools → Options → Notifications
   * Check "Enable Push Notifications"
   * Configure MetaTrader mobile app on your phone

## Important Notes

1. **Account Compatibility**:
   * Designed for netting accounts
   * Not suitable for hedging accounts (where multiple positions per symbol are allowed)
   * If you need hedging support, a modified version would be required
2. **History Window**:
   * Monitors the last 2 hours of trading history
   * Can be adjusted by changing the 7200 value (in seconds)
3. **Throttling**:
   * Prevents excessive notifications by limiting checks to once per second
   * Can be removed by deleting the time check if needed
4. **Error Handling**:
   * Includes basic error checking
   * Prints error messages to journal for troubleshooting

## Common Issues and Solutions

1. **No Notifications Received**:
   * Verify push notifications are enabled in MT5
   * Check mobile app is properly configured
   * Ensure your broker allows push notifications
2. **Missing Trades**:
   * Check if the 2-hour history window is sufficient
   * Increase the history window if needed (7200 seconds)
3. **Duplicate Notifications**:
   * This shouldn't occur due to built-in checks
   * If it happens, verify you're not calling the function multiple times

## Best Practices

1. Call this function in your EA's OnTick() function
2. Keep the MetaTrader mobile app installed and configured
3. Test in a demo account first
4. Monitor the Experts log for any error messages

**[Go to discussion](/en/forum/474952)**

![Script to extract Candlesticks data from all time frames to CSV.](https://c.mql5.com/i/code/script.png)
[Script to extract Candlesticks data from all time frames to CSV.](/en/code/52766)

This MQL5 script exports candlestick data for various timeframes into a CSV file, capturing essential market information like open, high, low, and close prices. It analyzes each candlestick's characteristics, including body and wick sizes, while calculating additional metrics such as candle gaps. After processing the latest 21 bars, it notifies the user upon successful data export.

![Simplest Logger class for MetaTrader 5](https://c.mql5.com/i/code/library.png)
[Simplest Logger class for MetaTrader 5](/en/code/52741)

The simplest class for logging in MetaTrader 5 with support for levels, message format, include and exclude filters on substrings.

![Economic Calendar CSV](https://c.mql5.com/i/code/script.png)
[Economic Calendar CSV](/en/code/52977)

This script saves a predefined set of economic events from the MetaTrader's built-in economic calendar into CSV file.

![Swap Monitor](https://c.mql5.com/i/code/services.png)
[Swap Monitor](/en/code/53007)

This service periodically checks swaps for predefined symbols and saves detected changes into CSV-files for further analysis and potential replay (not implemented here). Also it monitors and alerts swap changes of existing positions.