# Simple Adviser EMA WMA RSI - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/9619

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9619) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Simple Adviser EMA WMA RSI - expert for MetaTrader 4

[Vladimir Khlystov](/en/users/cmillion)

Views:
:   27835

Rating:
:   (5)

Published:
:   19 April 2010, 08:06

Updated:
:   21 April 2014, 14:54
:   [EMA\_WMA\_RSI.mq4](/en/code/download/9619/EMA_WMA_RSI.mq4 "EMA_WMA_RSI.mq4")
    (8.79 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9619.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Description:

Expert Advisor is fairly simple and with a little practice it can be
modified even people not familiar with the programming.

An Expert Advisor opens the trade, based on the intersection of MA. Opening is filtered on the indicator RSI.

If RSI> 50 - allowed only Buy  
If RSI <50 - allowed only Sell

**Variables:**  

* period\_EMA = 28 - period EMA line
* period\_WMA = 8 - between lines WMA
* period\_RSI = 14 - period RSI indicator
* stoploss = 0 - level set stop loss orders at the opening (if 0, then the stoploss is not exposed)
* takeprofit = 500 - level set take profit at the opening of a warrant (if 0, then takeprofit not exposed)
* risk = 10 - if Lot = 0, then the size of the Lot is calculated as% (risk) of free funds
* Magic = 777 - the unique number of orders of the adviser, is used to make the adviser does not affect the order open hand or other advisers.
* CloseCounter = false - if you set the parameter to true, the warrants will be closed at the opposite signal. Ie when opening Buy, Sell and close down all the way around.
* Lot = 0.1 - lot may be installed either, but at zero lot will be calculated automatically.
* TrailingStop, Tip.Fr.or.Candl - Used in advisor TrailingStop detail: [http://codebase.mql4.com/en/code/9530](/en/code/9530)

**Tips:**  

If you place takeprofit = 0, then be sure to CloseCounter = true, otherwise the order simply did not close.

When installing the stoploss = 0, protective stop there, with the balance line in the tester is nice, but there is a risk of subsidence.

**Last comments |
[Go to discussion](/en/forum/27364)**
(17)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
29 Jun 2011 at 08:36

HI,sorry for my english

how to put stop loss like this:if buy so stop loss or [take profit](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders") when moving average cross, the same thing if sell thank's

my adress:equinet10@yahoo.fr

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
29 Jun 2011 at 09:22

**gsfx:**  

Demo traded for the past 24-hours. Account grew from #3,000 to $5,500 then blew-up. Sooner or later those losing trades as open positions will gobble up account equity and trigger account stop-out. Great EA IF it can deal more successfully with losing open positions.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
29 Jun 2011 at 09:27

[![](https://c.mql5.com/3/36/EMA_small.gif)](https://c.mql5.com/3/36/EMA.gif)

it's my test

please,I want to see where is the probleme?

if the the trade stop when cross the movieng average? and began an other trade

how,I can do that? sorry for my english equinet10@yahoo.fr

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
4 Nov 2011 at 18:03

Hi,

I use this EA on a Demo-Account but very often [Error 138](https://www.mql5.com/en/docs/constants/errorswarnings/errorscompile "MQL5 documentation: Reference cannot be initialized") occurs.

Is it possible to add a "Slippage-Parameter" ?

Best regards

![FX360](https://c.mql5.com/avatar/avatar_na2.png "FX360")

**[FX360](/en/users/eforex360)**
|
31 Mar 2017 at 20:49

[![test](https://c.mql5.com/3/122/Untitled__4.png "test")](https://c.mql5.com/3/122/Untitled__3.png)

HI [Vladimir Khlystov](/en/users/cmillion "Vladimir Khlystov (cmillion)")
,

Please Help Me!!!!

What's problem. Please .. email : eafx2017@gmail.com

![Three Indians](https://c.mql5.com/i/code/indicator.png)
[Three Indians](/en/code/9623)

Detection of a pattern "three Indians" on the basis of the ZigZag.

![Simplest Hedging EA ever](https://c.mql5.com/i/code/expert.png)
[Simplest Hedging EA ever](/en/code/9610)

This EA simply opens two opposing positions at the beginning of the first new bar it comes across. Both positions can win lose or draw. Works best in 5M timeframe and can be optimised using "Open prices only".

![Fibonacci-based Moving Averages indicator](https://c.mql5.com/i/code/indicator.png)
[Fibonacci-based Moving Averages indicator](/en/code/9627)

This indicator is EMAs drawn by Fibonacci numbers.

![HighLowLines](https://c.mql5.com/i/code/indicator.png)
[HighLowLines](/en/code/9629)

Shows you the value of the highest high, the lowest low and the average of both over the last x Bars (to be set in the input tab).