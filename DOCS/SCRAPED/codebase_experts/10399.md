# 204060 program - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/10399

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/10399) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# 204060 program - expert for MetaTrader 4

[Xiaodong Ruan](/en/users/robbieruan)

Views:
:   20062

Rating:
:   (8)

Published:
:   16 September 2011, 14:49

Updated:
:   22 November 2016, 07:32
:   [204060\_program\_V0\_02.mq4](/en/code/download/10399/204060_program_v0_02.mq4 "204060_program_V0_02.mq4")
    (39.2 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/10399.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Description:

Three grades take profit Grid System, use it on weak market and fluctuating market, may need close all positions at some time.

**Notice**: This article has switched to this link: [http://codebase.mql4.com/en/code/10398](/en/code/10398)

**Last comments |
[Go to discussion](/en/forum/28149)**
(7)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
21 Sep 2011 at 20:47

what're differences with 204060 program ea? And though ı can trade in fxdd demo account by close all order function, in real fxdd account it is useless. Does it depend real versus demo or no execution in [real accounts](https://www.mql5.com/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties")?

regards...

![Xiaodong Ruan](https://c.mql5.com/avatar/avatar_na2.png "Xiaodong Ruan")

**[Xiaodong Ruan](/en/users/robbieruan)**
|
5 Nov 2011 at 18:21

Hi, this EA is default based on realtime [price change](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes "MQL5 Documentation: Prices have changed"), no matter what timeframe, you can change to execute every "UpdateInterval" minutes, while there is some indicators in it with H4 and W1 period which is default disabled.

As for pair, you can choose any ones walk always within one small range, with no trend and small spread.

If you change some setting of this EA, such as set "wantShorts" to false, you can make just long orders in some low price region, and increase "BaseTakeProfit", while you have to consider the interest, sometimes it's heavy.

![Xiaodong Ruan](https://c.mql5.com/avatar/avatar_na2.png "Xiaodong Ruan")

**[Xiaodong Ruan](/en/users/robbieruan)**
|
24 Jul 2012 at 16:45

close your MT4 and restart, FXDD [real account](https://www.mql5.com/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties") is ok, it's applicable to real account.

**saudek:**  

what're differences with 204060 program ea? And though ı can trade in fxdd demo account by close all order function, in real fxdd account it is useless. Does it depend real versus demo or no execution in real accounts?

regards...

![azmc](https://c.mql5.com/avatar/2014/3/5324DA55-FAF5.JPG "azmc")

**[azmc](/en/users/azmc)**
|
21 Nov 2014 at 16:25

Hello Robbie Ruan,

I am satisfied with the quality of EA creating for you. I congratulate them for the excellent work!

But I need to ask a question. This Expert Advisor works in [real account](https://www.mql5.com/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties")?

Very Grateful

![kenwoodlands](https://c.mql5.com/avatar/2016/10/57FD9F3C-5D5F.jpg "kenwoodlands")

**[kenwoodlands](/en/users/kenwoodlands)**
|
21 May 2016 at 02:19

**azmc:**  

Hello Robbie Ruan,

I am satisfied with the quality of EA creating for you. I congratulate them for the excellent work!

But I need to ask a question. This Expert Advisor works in [real account](/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties")?

Very Grateful

**virtualreal:**  
  
I read all kinds of indicator periods in the code, so I wonder the same thing.   
Here it seems to work well on a 1M frame.

**Xiaodong Ruan:**  

Hi, this EA is default based on realtime price change, no matter what timeframe, you can change to execute every "UpdateInterval" minutes, while there is some indicators in it with H4 and W1 period which is default disabled.

As for pair, you can choose any ones walk always within one small range, with no trend and small spread.

If you change some setting of this EA, such as set "wantShorts" to false, you can make just long orders in some low price region, and increase "BaseTakeProfit", while you have to consider the interest, sometimes it's heavy.

works very well for GBPUSD in April 2016

![LOCLinePipsAgile a Script to display distance in pips from horizontal lines to current market price](https://c.mql5.com/i/code/script.png)
[LOCLinePipsAgile a Script to display distance in pips from horizontal lines to current market price](/en/code/10441)

This script is useful when you drop lines on chart and want to see the distance to current market price. You can drag line and see the distance in pips.

![DiNapoli and Fibos](https://c.mql5.com/i/code/indicator.png)
[DiNapoli and Fibos](/en/code/10443)

Basic combination of fractals, DiNapoli objectives and Fibo nodes.

![MA's on the side](https://c.mql5.com/i/code/indicator.png)
[MA's on the side](/en/code/10463)

Often times I find my chart is too cluttered with indicators to see the price action, however I still need those reference points. My solution was to create an indicator which displays the current level of some of the MA's of the current candle.

![News events and market times on your chart](https://c.mql5.com/i/code/indicator.png)
[News events and market times on your chart](/en/code/10459)

Indicator displays News with a market clock.