# iMA iSAR EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/23383

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/23383) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# iMA iSAR EA - expert for MetaTrader 5

fortrader.ru  |
[English](javascript:void(false);)

[Русский](/ru/code/23383) [Español](/es/code/23383)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   7632

Rating:
:   (18)

Published:
:   7 February 2019, 08:46
:   [iMA iSAR EA.mq5](/en/code/download/23383/ima_isar_ea.mq5 "iMA iSAR EA.mq5")
    (74.59 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/23383.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Idea by:** [Yuri](/en/users/fortrader.ru "Yuri (fortrader.ru)")

**mq5 code by:** [barabashkakvn](/en/users/barabashkakvn)

The EA only operates when a new bar emerges. Trading signals are generated based on the values of three indicators iMA (Moving Average, MA), two indicators iRSI (Relative Strength Index, RSI), and the value of close (all balues are taken for bar #1).

Block for decision making:

```mql5
   if(ma_fast[1]>ma_normal[1] && ma_fast[1]>ma_slow[1] && sar_fast[1]<close[1] && sar_normal[1]<close[1])
      m_need_open_buy=true;
   else if(ma_fast[1]<ma_normal[1] && ma_fast[1]<ma_slow[1] && sar_fast[1]>close[1] && sar_normal[1]>close[1])
      m_need_open_sell=true;
```

Example of opening a BUY position:

![iMA iSAR EA](https://c.mql5.com/18/77/2018-11-26_08h03_38.png "iMA iSAR EA")

Trailing is applied to the open position. A BUY opening signal is also a SELL closing signal (first, SELL is closed, and then BUY is opened). We act similarly with the SELL opening signal.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/23383](/ru/code/23383)

**[Go to discussion](/en/forum/302453)**

![Stalin_HTF_Signal](https://c.mql5.com/i/code/indicator.png)
[Stalin\_HTF\_Signal](/en/code/23382)

Summary of the Expert Advisor

![Float_Pivot_Smoothed_Digit_HTF](https://c.mql5.com/i/code/indicator.png)
[Float\_Pivot\_Smoothed\_Digit\_HTF](/en/code/23381)

Indicator Float\_Pivot\_Smoothed\_Digit with the timeframe selection option in its input parameters

![Stochastic Custom](https://c.mql5.com/i/code/indicator.png)
[Stochastic Custom](/en/code/23385)

A modification of standard indicator iStochastic (Stochastic Oscillator, STO) - now you can manage levels #1 and #2 from your EA.

![iMA iStochastic Custom](https://c.mql5.com/i/code/expert.png)
[iMA iStochastic Custom](/en/code/23386)

A trading system based on indicators Custom Moving Average Levels and Stochastic Custom