# Crash Spike Trade Pattern - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/61729

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/61729) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Crash Spike Trade Pattern - indicator for MetaTrader 5

[Israr Hussain Shah](/en/users/searchmixed)  |
[English](javascript:void(false);)

[Русский](/ru/code/61729) [中文](/zh/code/61729) [Español](/es/code/61729) [Deutsch](/de/code/61729) [日本語](/ja/code/61729) [Português](/pt/code/61729) [한국어](/ko/code/61729) [Français](/fr/code/61729) [Italiano](/it/code/61729) [Türkçe](/tr/code/61729)

Views:
:   6168

Rating:
:   (3)

Published:
:   20 July 2025, 21:57

Updated:
:   21 July 2025, 08:14
:   [candels3.mq5](/en/code/download/61729/candels3.mq5 "candels3.mq5")
    (18.98 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/61729.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This MT5 indicator detects **Crash market spike patterns** using a specific **3-candle formation**:

* **Red-Green-Red** candle pattern (where red candles are strong spikes and the green is a middle retracement).
* When the pattern is found, it **draws a box** around the high/low of those 3 candles.
* It also plots a **horizontal entry line** at the **middle candle’s open price**.
* The line stays active until price returns to that level (mitigation).
* Once the **entry price is hit (mitigated)**, the entry line is replaced by a **shorter fixed line** from the pattern to the mitigation candle.
* It works on both **historical and real-time candles**.
* Visually helps identify potential **return-to-zone trading opportunities**.

[![](https://c.mql5.com/18/165/Crash_300_IndexM1__1.png)](https://c.mql5.com/18/165/Crash_300_IndexM1.png "https://c.mql5.com/18/165/Crash_300_IndexM1.png")

| **Input Name** | **Description** |
| --- | --- |
| BoxColor | Color of the zone box (default: Red). |
| LineColor | Color of the entry line (default: Dodger Blue). |
| BoxWidth | Thickness of the zone box border. |
| LineWidth | Thickness of the entry line. |
| BoxStyle | Style of the box border (solid, dashed, etc.). |
| LineStyle | Style of the entry line (solid, dashed, etc.). |

```mql5
//==== Input Parameters ====
input color    BoxColor     = clrRed;
input color    LineColor    = clrDodgerBlue;
input int      BoxWidth     = 2;
input int      LineWidth    = 1;
input ENUM_LINE_STYLE BoxStyle = STYLE_SOLID;
input ENUM_LINE_STYLE LineStyle = STYLE_SOLID
```

This indicator detects a **specific bearish spike formation** over 3 candles:

1. **Candle 1**:

   * Bearish (Red candle).
   * Long wick.
   * Body must be **greater than 70%** of the total candle range (i.e., a strong spike).
2. **Candle 2 (Middle)**:

   * Bullish (Green candle).
   * Can be any size; just needs to be positive.
3. **Candle 3**:

   * Bearish again.
   * Same condition as Candle 1: body > 70% of full range.

 When this pattern is found:

* It identifies a **"supply zone"** created by aggressive selling.
* A **box** is drawn around the high and low of the 3 candles.
* An **entry line** is drawn at the **open price of the middle (green) candle**, expecting price to return.

---

### **Core Idea / Strategy Concept**

This tool is based on the **Smart Money Concept (SMC)** — particularly the idea of **mitigation zones** and **supply/demand imbalances**.

* After a **strong bearish impulse**, price often retraces back to the **origin of the move** (the middle candle).
* The indicator marks that area visually as a **“mitigation zone”**.
* Once price **returns to this zone** (entry line), it is considered **"mitigated"**, and a trader may look for re-entry or reaction.
* It **removes the entry line** after mitigation to keep the chart clean and optionally draws a **shorter line to show mitigation**.

**Practical Use:**

* Look for **return-to-box** trades.
* Can be used for **sell setups on Crash markets** (or Boom with inversion).
* Works great in **confluence with other indicators** (like EMA, OBV, or order block confirmations).

**[Go to discussion](/en/forum/491471)**

![Creat Button Close BuySell On Chart](https://c.mql5.com/i/code/script.png)
[Creat Button Close BuySell On Chart](/en/code/61708)

MQL5 script for MetaTrader 5 that adds two buttons to close all buy or sell positions for the current symbol.

![LotSize Calculation](https://c.mql5.com/i/code/script.png)
[LotSize Calculation](/en/code/61684)

This is a simple script file to compute lot size either using risk percentage approach or the actual amount to risk.

![CBitBuffer Class - Data Serialization in MQL5](https://c.mql5.com/i/code/library.png)
[CBitBuffer Class - Data Serialization in MQL5](/en/code/61728)

A class for reading and writing individual bits or bit sequences to and from a buffer.

![Boom Index Spike Pattern](https://c.mql5.com/i/code/indicator.png)
[Boom Index Spike Pattern](/en/code/61749)

This MetaTrader 5 (MT5) custom indicator, boomSpikeBoxMitigationFinal.mq5, detects a specific bullish spike pattern on the chart and marks entry zones using rectangles and horizontal lines. Once the price returns to ("mitigates") the entry level, the entry line is shortened to the mitigation point.