# X2MA_BBx3_Cloud - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/738

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/738) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# X2MA\_BBx3\_Cloud - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/738) [中文](/zh/code/738) [Español](/es/code/738) [Deutsch](/de/code/738) [日本語](/ja/code/738) [Português](/pt/code/738) [한국어](/ko/code/738) [Français](/fr/code/738) [Italiano](/it/code/738) [Türkçe](/tr/code/738)

Views:
:   6982

Rating:
:   (18)

Published:
:   2 February 2012, 10:50

Updated:
:   29 March 2023, 13:44
:   \MQL5\Include\

    [smoothalgorithms.mqh](/en/code/download/738/smoothalgorithms.mqh "smoothalgorithms.mqh")
    (133.8 KB)
    [view](# "view")

    [x2ma\_bbx3\_cloud.mq5](/en/code/download/738/x2ma_bbx3_cloud.mq5 "x2ma_bbx3_cloud.mq5")
    (13.03 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/738.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

[Bollinger Bands ®](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/bb "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/bb") that are made in [DRAW\_FILLING](/en/docs/customind/indicators_examples/draw_filling) style and displayed as a colored background, which in many cases makes them more visible.

**Input parameters:**

```mql5

//+-----------------------------------+
//| Indicator input parameters        |
//+-----------------------------------+
input Smooth_Method MA_Method1=MODE_SMA;  // First smoothing method
input int Length1=100;                    // First smoothing depth                    
input int Phase1=15;                      // First smoothing parameter
input Smooth_Method MA_Method2=MODE_JJMA; // Second smoothing method
input int Length2=20;                     // Second smoothing depth 
input int Phase2=100;                     // Second smoothing parameter
input int BandsPeriod=100;                // BB smoothing period
input double BandsDeviation = 2.0;        // Number of deviations
input Applied_price_ IPC=PRICE_CLOSE;     // Applied price
input int Shift=0;                        // Horizontal shift of the indicator in bars
input int PriceShift=0;                   // Vertical shift of the indicator in points
```

The indicator middle line is made from the universal moving average with two smoothings and a possibility to select each of these smoothings from the dozen of possible versions:

1. [SMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - simple moving average;
2. [EMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - exponential moving average;
3. [SMMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - smoothed moving average;
4. [LWMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - linear weighted moving average;
5. [JJMA](/en/code/427) - JMA adaptive average;
6. [JurX](/en/code/436) - ultralinear smoothing;
7. [ParMA](/en/code/433) - parabolic smoothing;
8. [T3](/en/code/424) - Tillson's multiple exponential smoothing;
9. [VIDYA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/vida "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/vida") - smoothing with the use of Tushar Chande's algorithm;
10. [AMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama") - smoothing with the use of Perry Kaufman's algorithm.

It should be noted that Phase1 and Phase2 parameters have completely different meaning for different smoothing algorithms. For JMA it is an external Phase variable changing from -100 to +100. For T3 it is a smoothing ratio multiplied by 100 for better visualization, for VIDYA it is a CMO oscillator period and for AMA it is a slow EMA period. In other algorithms these parameters do not affect smoothing. For AMA fast EMA period is a fixed value and is equal to 2 by default. The ratio of raising to the power is also equal to 2 for AMA.

The indicator uses SmoothAlgorithms.mqh library classes (must be copied to the terminal\_data\_folder\MQL5\Include). The use of the classes was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](/en/articles/180).

![X2MA_BBx3_Cloud](https://c.mql5.com/18/6/X2MA_BBx3_Cloud.png "X2MA_BBx3_Cloud")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/738](/ru/code/738)

**[Go to discussion](/en/forum/6064)**

![UltraCCI](https://c.mql5.com/i/code/indicator.png)
[UltraCCI](/en/code/740)

This indicator is based on CCI (Commodity Channel Index) and the analysis of a trend direction of its multiple signal lines.

![BBSqueeze](https://c.mql5.com/i/code/indicator.png)
[BBSqueeze](/en/code/745)

Unnormalized symmetrical oscillator based on the linear regression algorithm with the simplest trend power indicator.

![StopOutPrice](https://c.mql5.com/i/code/script.png)
[StopOutPrice](/en/code/795)

The script calculates Stop Out price (at this price position will be closed by broker) of the opened position and the price, at which Free Margin became negative (LockOut price).

![MPC](https://c.mql5.com/i/code/indicator.png)
[MPC](/en/code/790)

The MPC indicator plots a simple channel using extermums of the specified period. It can be used for additional visual control of trading system (channel breakout), based on HighestLowestRange (HLR) indicator.