# Code blocks for "Counters" like Count "X" time and pass - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/49213

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/49213) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Code blocks for "Counters" like Count "X" time and pass - expert for MetaTrader 5

[Hapu Arachchilage Tharindu Lakmal](/en/users/51241974)  |
[English](javascript:void(false);)

[Русский](/ru/code/49213) [中文](/zh/code/49213) [Español](/es/code/49213) [Deutsch](/de/code/49213) [日本語](/ja/code/49213) [Português](/pt/code/49213) [한국어](/ko/code/49213) [Français](/fr/code/49213) [Italiano](/it/code/49213) [Türkçe](/tr/code/49213)

Views:
:   3860

Rating:
:   (4)

Published:
:   14 April 2024, 10:15
:   [Count and Pass.mq5](/en/code/download/49213/count_and_pass.mq5 "Count and Pass.mq5")
    (0.73 KB)
    [view](# "view")

    [Pass Wait then Pass.mq5](/en/code/download/49213/pass_wait_then_pass.mq5 "Pass Wait then Pass.mq5")
    (1.1 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/49213.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**01. Count "X" Times and then pass.**

* **Step 01** - Created a variable for set the **count limit.** you can use it as an **input parameter** as well of optimization in your code.
* **Step 02** - Create another variable to store the counted limit (How many times it has been counted).
* **Step 03** - Once the **Counter** and your **count** limit is equals, that means it's time to pass the code block specified by you.
* **Step 04 -** Once the code passed, be sure to **reset the counter** as well. Otherwise, it will count for infinite (in this case).

you can set filtering conditions to the Counter block as well. like, >> "*IF this is true, then count once."*

```mql5
input int count = 50; // Set the counting limit as an input

int Counter; // counter variable

// Expert Initializing --------------------
int OnInit()
{
 return(INIT_SUCCEEDED);
}

// Expert DeInitializing -------------------
void OnDeinit(const int reason)
{

}

// Expert OnTick --------------------------
void OnTick()
{
 Counter ++; // add 1 to the counter on each tick.  
 Comment("Current Count -:", Counter);
 
 if(Counter == count)  // Count "X" times and pass   | This block Executed only once per each count.
 {
  
  // Your code goes here......

 Alert(count," Times counted"); 
 Counter = 0; // Reset the counter at the end of your code block. This is must. 
 } 

} // OnTick End  <<----------------------
```

**02. Pass "X" times and then Wait "X" times then pass.**

this method can be use as like wait and pass, pass and wait.

* **Step 01** - Created a variable for set the **count limit** and **wait limit** you can use them as an **input parameters** as well of optimization in your code.
* **Step 02** - Create another variable to store the counted limit & wait limits (How many times it has been counted and waited).
* **Step 03** - Once the **Counter** and your **count** limit is equals, that means it's time to pass the code block specified by you.
* **Step 04 -**  Once the waiter and your count wait limit is equals, that means it's time to wait for a little.
* **Step 04 -**Once the waiting limit is reached, be sure to **reset the counter and** **waiter** as well. Otherwise, it will Seese to work (in this case).

you can set **filtering conditions** to the Counter block and waiter blocks as well. like, >> "*IF this is true, wait a bit"*

```mql5
input int count = 50; // Set the counting limit as an input
input int wait = 50; // Set the waiting limit as an input

int Counter; // counter variable default value is "0"
int Waiter; // Waiting variable default value is "0"

// Expert Initializing --------------------
int OnInit()
  {
   return(INIT_SUCCEEDED);
  }

// Expert DeInitializing -------------------
void OnDeinit(const int reason)
  {

  }

// Expert OnTick --------------------------
void OnTick()
  {
   Comment("Counted Ticks -: ", Counter, "\n", "Waited Ticks -: ", Waiter);

   if(Counter < count) // Pass "X" times
     {
      Counter++; // update the counter

      // Your code goes here.

     }
   else
      if(Waiter < wait) // Wait for "X" times
        {
         Waiter++; // update the waiter

         // Your code goes here.

        }

   if(Waiter == wait) // Waiting Limit is reached
     {
      Counter = 0; // reset counter
      Waiter = 0; // reset waiter
     }






  } // OnTick End  <<----------------------
//+------------------------------------------------------------------+
```

**Special -:**

You can code the **"Pass X times and stop"** by modifying the above code by **removing the waiting code block.** Then it will count for specific number and stop works until the counter is rested. You can reset it anywhere in your code if you create these variables in global scale. (global variables)

**[Go to discussion](/en/forum/465599)**

![Basic GridManager Library](https://c.mql5.com/i/code/library.png)
[Basic GridManager Library](/en/code/49186)

This is a basic library to create and manage grids.

![A Code block to detect A "New Candle/Bar" using bars history (very effective way)](https://c.mql5.com/i/code/expert.png)
[A Code block to detect A "New Candle/Bar" using bars history (very effective way)](/en/code/49171)

If you only want to execute your code blocks "only once per bar" it's important to check if there is new bar arrived or not.

![Simple Yet Effective Breakout Strategy](https://c.mql5.com/i/code/expert.png)
[Simple Yet Effective Breakout Strategy](/en/code/49272)

A simple yet effective donchian channel breakout strategy. This strategy is timeless!

![QuickTradeKeys123](https://c.mql5.com/i/code/expert.png)
[QuickTradeKeys123](/en/code/49343)

QuickTradeKeys 123 is a user-friendly Expert Advisor (EA) for MetaTrader 5, enabling traders to execute buy and sell operations quickly by simply pressing the numbers '1' and '2' on their keyboard. Pressing '3' closes all open positions. This EA is ideal for swift trading and testing purposes where manual intervention is required without using the mouse.