# New Candle or Bar formation. - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/57849

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/57849) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# New Candle or Bar formation. - expert for MetaTrader 5

[Clinton Dennis Edem](/en/users/clintondennis)  |
[English](javascript:void(false);)

[–†—É—Å—Å–∫–∏–π](/ru/code/57849) [‰∏≠Êñá](/zh/code/57849) [Espa√±ol](/es/code/57849) [Deutsch](/de/code/57849) [Êó•Êú¨Ë™û](/ja/code/57849) [Portugu√™s](/pt/code/57849) [ÌïúÍµ≠Ïñ¥](/ko/code/57849) [Fran√ßais](/fr/code/57849) [Italiano](/it/code/57849) [T√ºrk√ße](/tr/code/57849)

Views:
:   3514

Rating:
:   (4)

Published:
:   3 April 2025, 21:57
:   [New Bar Formation.mq5](/en/code/download/57849/new_bar_formation.mq5 "New Bar Formation.mq5")
    (2.06 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/57849.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

![New candle formation code](https://c.mql5.com/18/160/Screenshot_2025-04-03_224804.png "New candle formation code")

This Bot detects the open of a new candle on any set timeframe, thereby making it easier to run a one-time code, place trades and call other functions. The code is written in the OnTick() function.

the PERIOD\_CURRENT is the timeframe at which you want to detect a new candle formation, you can change it to your preferred timeframe.

**Last comments |
[Go to discussion](/en/forum/484011)**
(7)

![Memunatu Jah](https://c.mql5.com/avatar/2025/4/67F7A8FB-094B.png "Memunatu Jah")

**[Memunatu Jah](/en/users/memunatujah)**
|
11 Apr 2025 at 10:22

Nice

![Saw Akyat A Kyat](https://c.mql5.com/avatar/2023/11/656838bc-8d91.jpg "Saw Akyat A Kyat")

**[Saw Akyat A Kyat](/en/users/azjak)**
|
11 Apr 2025 at 16:49

**DeeFrank [#](/en/forum/484011#comment_56351576):**  
 Thank you for the codeüëçüèø, I've been having difficulty detecting new candle open.

G0

![Clinton Dennis Edem](https://c.mql5.com/avatar/2025/7/686ee713-5d32.png "Clinton Dennis Edem")

**[Clinton Dennis Edem](/en/users/clintondennis)**
|
12 Apr 2025 at 13:28

**Memunatu Jah [#](/en/forum/484011#comment_56429201):**  
 Nice

Thanks.

![Clinton Dennis Edem](https://c.mql5.com/avatar/2025/7/686ee713-5d32.png "Clinton Dennis Edem")

**[Clinton Dennis Edem](/en/users/clintondennis)**
|
12 Apr 2025 at 13:34

Comment the next code you'll like me to write.

![Saw Akyat A Kyat](https://c.mql5.com/avatar/2023/11/656838bc-8d91.jpg "Saw Akyat A Kyat")

**[Saw Akyat A Kyat](/en/users/azjak)**
|
22 Apr 2025 at 04:22

**Memunatu Jah [#](/en/forum/484011#comment_56429201):**  
 Nice

What

![Detecting the start of a new bar or candle](https://c.mql5.com/i/code/expert.png)
[Detecting the start of a new bar or candle](/en/code/41601)

Detecting the start of a new bar or candle in an Expert Advisor's OnTick() event handler.

![Calendar](https://c.mql5.com/i/code/library.png)
[Calendar](/en/code/32430)

Calendar - fundamental analysis on history and real-time.

![Back kick](https://c.mql5.com/i/code/expert.png)
[Back kick](/en/code/23628)

Algorithm cycle: when there are no open positions, open two opposite positions. Wait for both positions to close.

![MA Trend 2](https://c.mql5.com/i/code/expert.png)
[MA Trend 2](/en/code/23632)

Trading system by iMA indicator (Moving Average, MA). Development of MA Trend.