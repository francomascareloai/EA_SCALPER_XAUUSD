# wd.Range_MACD - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/47143

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/47143) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# wd.Range\_MACD - indicator for MetaTrader 5

MetaQuotes Ltd.

Published by:
:   [Widy Prasetyo](/en/users/widhie75)

Views:
:   9228

Rating:
:   (3)

Published:
:   8 November 2023, 06:17

Updated:
:   8 November 2023, 07:28
:   [wd.Range\_MACD.mq5](/en/code/download/47143/wd.range_macd.mq5 "wd.Range_MACD.mq5")
    (12.12 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/47143.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The basic idea and 99% of the source code are originally derived from the built-in 'MACD.mq5' in the MT5 terminal, **Copyright by MetaQuotes Ltd.**  
  
'wd.Range\_MACD' indicator calculates the range difference between the 'Signal lines and MACD' and also the range distance between 'the last two MACD bar'.   
This additional range information provided by this indicator can be used to measure price cross-points, resistance/support levels, and trend changes more efficiently.

![](https://c.mql5.com/18/152/wd.Range_MACD_v2.23_gon_Chartz.jpg)  
  
  
  
**Here's how the indicator works:**   
We know if the 'MACD bar' is heading up, it indicates an upward trend on this current timeframe; conversely, if the 'MACD bar' is heading down, it indicates a downward trend. In other conditions, when the current 'MACD bar' remains flat with no difference compared to the previous bar (0 pips), this forms a new resistance/support level.  
  
On the image below example, the difference in range of 'Signal-MACD' is 12 pips, and the range of the 'last two MACD bars' is 0 pips.   
This implies that the resistance/support level based on the 'last two MACD bars', in period H1, is at a price level 1.2283, while the resistance/support level based on 'Signal-MACD' will be at a price level 1.2271 (1.2283 - 12 pips).

**Note:** Resistance-Support levels based on the MACD range distance are dynamic and applicable only within the same bar and the same period. If a new bar is formed, the Resistance-Support price levels will be reset.

![](https://c.mql5.com/18/152/wd.Range_MACD_v2.23_yRS_Level9.jpg)

In summary, MACD is a widely used technical indicator, helping traders identify potential trends, reversals, and changes in asset prices.   
With the additional range difference/distance information from 'Signal-MACD' and 'last two MACD bars,' this 'wd.Range\_MACD' indicator serves as a leading indicator, helping traders in making more informed trading decisions.   
However, it is most effective when used in conjunction with other tools and analysis techniques.  
  
  
Version history:  
----------------  
v2.23    : initial release

**Last comments |
[Go to discussion](/en/forum/457025)**
(2)

![605](https://c.mql5.com/avatar/2025/8/68a1fee3-8727.png "605")

**[605](/en/users/noblefianu)**
|
15 Mar 2024 at 19:14

how did you get  1.2283 from the example you used to demonstrate and why subtract 12 from it ?

![Widy Prasetyo](https://c.mql5.com/avatar/2024/3/65e3fad6-466f.jpg "Widy Prasetyo")

**[Widy Prasetyo](/en/users/widhie75)**
|
20 Mar 2024 at 04:24

**Noble [#](/en/forum/457025#comment_52734088):**  
 how did you get  1.2283 from the example you used to demonstrate and why subtract 12 from it ?

Based on the image above [GBPUSD, Monthly], please focus on the 'Range difference between Signal to MACD Bar'.   
  
To find the R/S level '1.2283-12', refer to [GBPUSD, H1] image.   
The number 12.0000 indicates the distance between the MACD Bar and Signal, with the price at that time is 1.2283.

![Range BarMACD-Signal](https://c.mql5.com/3/431/Answer01_wd.Range_MACD.jpg "Range BarMACD-Signal")  
The current bar represents the current price.   
When the Bar touches the Signal, the price need to down 12 pip to price 1.2271 (1.2283-12), forming the R/S level based on 'Bar-MACD signal'.   
  
In forex trading, multiple R/S lines are established when the current bar equals the previous bar, and when the current Bar equals the Signal.

![Two dimension Array fill and Print - script for MetaTrader 5](https://c.mql5.com/i/code/script.png)
[Two dimension Array fill and Print - script for MetaTrader 5](/en/code/47132)

Easy to use.

![No Repaint Heiken Ashi](https://c.mql5.com/i/code/indicator.png)
[No Repaint Heiken Ashi](/en/code/47122)

The Heiken Ashi indicator with no repaint or repaint mode input option.

![Body Wick Comparison](https://c.mql5.com/i/code/indicator.png)
[Body Wick Comparison](/en/code/47277)

Checks if either upper or lower Wick range of a candlestick is greater than Body range of a candlestick and plot a wingding

![Six Soldiers](https://c.mql5.com/i/code/indicator.png)
[Six Soldiers](/en/code/47278)

Six bulls or six bear continuous candles