# Simplest Hedging EA ever - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/16920

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16920) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Simplest Hedging EA ever - expert for MetaTrader 5

monuogbe  |
[English](javascript:void(false);)

[Русский](/ru/code/16920) [中文](/zh/code/16920) [Español](/es/code/16920) [Deutsch](/de/code/16920) [日本語](/ja/code/16920) [Português](/pt/code/16920)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   22792

Rating:
:   (43)

Published:
:   19 January 2017, 17:12

Updated:
:   27 June 2018, 15:23
:   [Simplest Hedging EA ever.mq5](/en/code/download/16920/simplest_hedging_ea_ever.mq5 "Simplest Hedging EA ever.mq5")
    (5.95 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16920.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Author of the idea** — [Monu Ogbe](/en/users/monuogbe "Monu Ogbe (monuogbe)"), **author of the mq5 code** — [barabashkakvn](/en/users/barabashkakvn).

If an even simpler EA exists, I would like to see it!

The EA does not use any indicators. It simply opens two opposite positions when a new bar appears.

Then, it waits till both are closed by SL or TP and opens the next couple of positions.

Manual optimization allows us to select the best parameters where SL is lower than TP for each of the three trading pairs and receive the three possible results:

* Both positions are profitable
* One position is profitable, while another one is loss-making (the profit covers the loss)
* Both positions are loss-making

The "Open prices only" mode is recommended since it trades only at a new bar opening.

The best results have been achieved on EURGBP M5, while EURUSD, GBPUSD and EURCHF have also shown good results.

Feel free to improve the code as you like!

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16920](/ru/code/16920)

**Last comments |
[Go to discussion](/en/forum/167497)**
(3)

![fxsaber](https://c.mql5.com/avatar/2019/8/5D67260D-44C9.png "fxsaber")

**[fxsaber](/en/users/fxsaber)**
|
15 Nov 2016 at 19:08

I suggest that this

void OnTick()  
  {  
   static datetime prev\_time=0;  
   if(prev\_time==iTime(0))

replace it with this

void OnTick()  
{  
  static datetime prev\_time = 0;  
  static const int period = PeriodSeconds();  
  const datetime NewTime = TimeCurrent() / period;  
    
  if(prev\_time == NewTime)  
    return;  
      
  prev\_time = NewTime;

![Rene Mijs](https://c.mql5.com/avatar/avatar_na2.png "Rene Mijs")

**[Rene Mijs](/en/users/renemijs20)**
|
26 Nov 2023 at 21:55

Hello this EA isnt working with me what time frame is used for it?

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
28 Dec 2024 at 19:55

the ea is not working , please take a look at it and get back to us

![XXDPO_HTF](https://c.mql5.com/i/code/indicator.png)
[XXDPO\_HTF](/en/code/16917)

The XXDPO indicator with the timeframe selection option available in the input parameters.

![FGDI](https://c.mql5.com/i/code/indicator.png)
[FGDI](/en/code/16916)

Fractal Graph Dimension Indicator.

![TrendMeLeaveMe](https://c.mql5.com/i/code/expert.png)
[TrendMeLeaveMe](/en/code/16921)

The semi-automated Expert Advisor using a trend line (TrendLIne).

![Searching Nearest Bar](https://c.mql5.com/i/code/script.png)
[Searching Nearest Bar](/en/code/16926)

Searching Nearest Bar - searching for the nearest bar.