# ProfLine - script for MetaTrader 5

Source: https://www.mql5.com/en/code/20189

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/20189) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# ProfLine - script for MetaTrader 5

Evgeniy Trofimov  |
[English](javascript:void(false);)

[Русский](/ru/code/20189) [中文](/zh/code/20189) [Español](/es/code/20189) [Deutsch](/de/code/20189) [日本語](/ja/code/20189) [Português](/pt/code/20189)

Published by:
:   [Igor Radko](/en/users/x5d)

Views:
:   8665

Rating:
:   (37)

Published:
:   6 June 2018, 12:33
:   [ProfLine.mq5](/en/code/download/20189/profline.mq5 "ProfLine.mq5")
    (11.54 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/20189.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Based on the MQL4 code by Evgeny Trofimov [https://www.mql5.com/ru/code/10007](/ru/code/10007 "ProfitLine - indicator for MetaTrader 4").

The script calculates and shows on a chart breakeven levels separately for open BUY and SELL positions.

![The profit line for BUY orders (blue)](https://c.mql5.com/18/66/LineBuy__2.png "The profit line for BUY orders (blue)")

![The profit line for SELL orders (red)](https://c.mql5.com/18/66/LineSell__2.png "The profit line for SELL orders (red)")

If the number of position changes, restart the script.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/20189](/ru/code/20189)

**Last comments |
[Go to discussion](/en/forum/251405)**
(3)

![Alex FXPIP](https://c.mql5.com/avatar/2020/10/5F9DC28E-F0D0.PNG "Alex FXPIP")

**[Alex FXPIP](/en/users/rufxstrategy)**
|
8 Nov 2022 at 06:11

Does anyone have an indicator for MT5 ? not a script ? to update the line without restarting when [changing positions](https://www.metatrader5.com/en/terminal/help/trading/performing_deals "MetaTrader 5 Help: Changing Positions in MetaTrader 5 Client Terminal")

![Oleksandr Kashyrnyi](https://c.mql5.com/avatar/2024/11/673e4800-46bf.jpg "Oleksandr Kashyrnyi")

**[Oleksandr Kashyrnyi](/en/users/kashik1)**
|
7 Feb 2024 at 09:54

I downloaded the file in the data catalogue, but it is not displayed on the scripts panel in MT5, maybe someone knows how to deal with this ?

![Ihor Herasko](https://c.mql5.com/avatar/2011/2/4D496AB1-7F70.jpg "Ihor Herasko")

**[Ihor Herasko](/en/users/scriptong)**
|
7 Feb 2024 at 09:59

**Александр [#](/ru/forum/233753#comment_52203041):**  
 I downloaded it, the file is in the data catalogue, but it is not displayed on the scripts panel in MT5, maybe someone knows how to deal with this ?

The script needs to be compiled. To do this, either restart the terminal or, if restarting does not help, open the script in Meta Editor and press F7. Perhaps there will be some errors during compilation. Then submit them here.

![MAMA + FAMA Multi Timeframe](https://c.mql5.com/i/code/indicator.png)
[MAMA + FAMA Multi Timeframe](/en/code/20955)

The MESA Adaptive Moving Average (MAMA) and the Following Adaptive Moving Average (FAMA) combination made to be multi timeframe.

![MAMA + FAMA Oscillator](https://c.mql5.com/i/code/indicator.png)
[MAMA + FAMA Oscillator](/en/code/20954)

Combination of MAMA (MESA Adaptive Moving Average) and FAMA (Following Adaptive Moving Average) made as an oscillator.

![LR_MACD](https://c.mql5.com/i/code/indicator.png)
[LR\_MACD](/en/code/20260)

MACD based on the Linear regression MA.

![HL_MA_Band](https://c.mql5.com/i/code/indicator.png)
[HL\_MA\_Band](/en/code/20261)

A trend indicator: High/Low Linear regression band.