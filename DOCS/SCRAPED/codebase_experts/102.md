# PivotPointUniversal - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/102

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/102) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# PivotPointUniversal - indicator for MetaTrader 5

[Dmitry Voronkov](/en/users/vdv2001)  |
[English](javascript:void(false);)

[Русский](/ru/code/102) [中文](/zh/code/102) [Español](/es/code/102) [Deutsch](/de/code/102) [日本語](/ja/code/102) [Português](/pt/code/102) [한국어](/ko/code/102) [Français](/fr/code/102) [Italiano](/it/code/102) [Türkçe](/tr/code/102)

Views:
:   50863

Rating:
:   (69)

Published:
:   26 April 2010, 10:46

Updated:
:   22 November 2016, 07:32
:   [pivotpointuniversal.mq5](/en/code/download/102/pivotpointuniversal.mq5 "pivotpointuniversal.mq5")
    (13.33 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/102.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The indicator plots Pivot levels for all the available history. It doesn't uses any objects.

There are 5 variants of Pivot levels is supported. There are 3 calculation periods: daily, weekly, monthly. For the daily pivot levels it's possible to specify the GMT time shift.

The formulae, used for the calculation, are:

**PIVOT\_CLASSIC**

Pivot (P) = (H + L + C) / 3   
Resistance (R1) = (2 \* P) - L      Support (S1) = (2 \* P) - H   
R2 = P + H - L                           S2 = P - H + L   
R3 = H + 2 \* (P - L)                   S3 = L - 2 \* (H - P)  

**PIVOT\_FIBONACCI**

Pivot (P) = (H + L + C) / 3   
Resistance (R1) = P + 0.382(H – L)      Support (S1) =  P – 0.382(H – L)  
R2 = P + 0.618\*(H – L)                       S2 = P – 0.618\*(H – L)  
R3 = H + \*(H – L)                             S3 = L - (H – L)  

**PIVOT\_DEMARK**

If C < O Then X = H + 2 \* L + C;   
If C > O Then X = 2 \* H + L + C;   
If C = O Then X = H + L + 2 \* C;   
Resistance (R1) = X / 2 - L; Support (S1) = X / 2 - H

**PIVOT\_CAMARILLA**

R4 = (H - L) X 1.1 / 2 + C    R3 = (H - L) X 1.1 / 4 + C    R2 = (H - L) X 1.1 / 6 + C    R1 = (H - L) X 1.1 / 12 + C   
S1 = C - (H - L) X 1.1 / 12   S2 = C - (H - L) X 1.1 / 6     S3 = C - (H - L) X 1.1 / 4     S4 = C - (H - L) X 1.1 / 2

**PIVOT\_WOODIES**

Pivot (P) = (H + L + 2 X C) / 4   
Resistance (R1) = (2 X P) - L         Support (S1) = (2 X P) - H   
R2 = P + H - L                              S2 = P - H + L

![Pivot Points Universal technical indicator](https://c.mql5.com/18/0/PivotPoint__3.png "Pivot Points Universal technical indicator")

At the image there are 4 indicators of PIVOT\_CLASSIC with the different parameters are presented. The first parameter (GMT shift) is actual for the daily Pivots only.

If you have found any errors, please report at Forum and we will fix them ;)

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/102](/ru/code/102)

**Last comments |
[Go to discussion](/en/forum/850)**
(26)

![Affe Vierzehn](https://c.mql5.com/avatar/2022/2/61FA2284-6DFB.png "Affe Vierzehn")

**[Affe Vierzehn](/en/users/affevierzehn)**
|
2 Feb 2022 at 09:20

The compilation worked. Thank you very much.

![zbairen985](https://c.mql5.com/avatar/2020/7/5F1981EA-613F.jpg "zbairen985")

**[zbairen985](/en/users/zbairen985)**
|
4 Mar 2022 at 10:43

The indicator "pivot [point](https://www.mql5.com/en/docs/check/point "MQL5 documentation: Point function") universal - MetaTrader 5" is simple and practical. Thank the author very much. At the same time, I hope the author can add the pivot point line of the annual line in the updated version. Thank you very much!

![GhostMan](https://c.mql5.com/avatar/2018/2/5A8BC0DC-0A6C.jpg "GhostMan")

**[GhostMan](/en/users/ghostman)**
|
5 Mar 2022 at 09:21

is there one for MT4?

![cujlaBojlupyJLum](https://c.mql5.com/avatar/avatar_na2.png "cujlaBojlupyJLum")

**[cujlaBojlupyJLum](/en/users/cujlabojlupyjlum)**
|
3 Jul 2022 at 13:44

Hello! Very good indicator, Thank you. Can I make it so that the levels are displayed after the end of the session to the next session before it starts?

![Shark1](https://c.mql5.com/avatar/avatar_na2.png "Shark1")

**[Shark1](/en/users/shark1)**
|
14 Aug 2023 at 11:18

hi what and how to add the timming in the cyclical analysis like time at LL1 to LL2 and LL1 to HH1 and HH2 ---- ratio needed how to find this and how to calculate them real time

![Murrey Math Lines (support and resistance)](https://c.mql5.com/i/code/indicator.png)
[Murrey Math Lines (support and resistance)](/en/code/101)

The indicator plots Murrey Math Lines for all available history, it doesn't uses any objects.

![ZeroLag MACD](https://c.mql5.com/i/code/indicator.png)
[ZeroLag MACD](/en/code/100)

The ZeroLag MACD indicator shows the histogram with color of the previous bar.

![Simple MA Expert Advisor](https://c.mql5.com/i/code/expert.png)
[Simple MA Expert Advisor](/en/code/103)

Something for those who wants to try out new Strategy Tester and don't have any EA.

![Clipboard](https://c.mql5.com/i/code/script.png)
[Clipboard](/en/code/104)

The script gets contents from the Windows Clipboard.