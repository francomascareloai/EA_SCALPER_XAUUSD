# TradingBoxing - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/20860

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/20860) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# TradingBoxing - expert for MetaTrader 5

[Vladimir Karputov](/en/users/barabashkakvn)  |
[English](javascript:void(false);)

[Русский](/ru/code/20860) [中文](/zh/code/20860) [Español](/es/code/20860) [Deutsch](/de/code/20860) [日本語](/ja/code/20860) [Português](/pt/code/20860)

Views:
:   11251

Rating:
:   (23)

Published:
:   18 June 2018, 13:58

Updated:
:   18 June 2018, 16:39
:   \MQL5\Experts\TradingBoxing\

    [TradingBoxingDialog.mqh](/en/code/download/20860/tradingboxingdialog.mqh "TradingBoxingDialog.mqh")
    (78.89 KB)
    [view](# "view")

    [SpinEditDouble.mqh](/en/code/download/20860/spineditdouble.mqh "SpinEditDouble.mqh")
    (10.81 KB)
    [view](# "view")

    [TradingBoxing.mq5](/en/code/download/20860/tradingboxing.mq5 "TradingBoxing.mq5")
    (4.98 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/20860.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

In developing it, we were inspired by code [TradingBoxing](/en/code/10809 "TradingBoxing - an Expert Advisor for MetaTrader 4"). However, the code below is only based on the idea, while absolutely all implementation is in MQL5 and on new trading classes.

Trading panel has only one input parameter, **magic number** - the unique identifier for the EA.

Appearance of the trading panel:

![TradingBoxing](https://c.mql5.com/18/68/TradingBoxing__1.png "TradingBoxing")

To show the volumes (for positions and pending orders), standard class [CSpinEdit](/ru/docs/standardlibrary/controls/cspinedit "MQL5 ReferenceStandard libraryPanels and DialogsCSpinEdit") was slightly modified and saved as **CSpinEditDouble**. Unfortunately, we did not manage to create it using inheritance, since we had to change the class members declared as "private."

As you can see from the class name, it was created to display the double-type data. Therefore, we added method **DisplayedDigits** - defining the text display accuracy in the control.

The text field in this control was made editable, too. For instance, it may be helpful when you have to enter a price or a volume that differ much from the value in the text field. For the text from the text field to be saved as a value, method **EndEdit** was added to class CSpinEditDouble:

```mql5
   int               m_digits;              // displayed digits
   //---
   void              EndEdit() { Value(StringToDouble(Text())); }

public:
                     CSpinEditDouble(void);
```

This method memorizes the entered text as a value.

Method **EndEdit** is called from the OnEvent class **CSpinEditDouble**:

```mql5
//+------------------------------------------------------------------+
//| Common handler of chart events                                   |
//+------------------------------------------------------------------+
EVENT_MAP_BEGIN(CSpinEditDouble)
  ON_EVENT(ON_CLICK,m_inc,OnClickInc)
  ON_EVENT(ON_CLICK,m_dec,OnClickDec)
  ON_EVENT(ON_END_EDIT,m_edit,EndEdit)
EVENT_MAP_END(CWndContainer)
```

For trade orders to be processed as soon as possible (even on a very quiet market where ticks come in at large intervals), every click on the trading panel button will forcedly call internal handler CTradingBoxingDialog::OnTick().

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/20860](/ru/code/20860)

**Last comments |
[Go to discussion](/en/forum/259017)**
(7)

![zemo](https://c.mql5.com/avatar/2018/2/5A79AE10-E9F2.JPG "zemo")

**[zemo](/en/users/zemo)**
|
26 May 2018 at 22:45

**Vladimir Karputov:**  
 You can add a lot of things here, but then the panel will turn into a very complicated (in terms of settings) monster :)

Dear Mr Vladimir,

TradingBox didn't work on [Backtest](https://www.mql5.com/en/articles/2612 "Article: Testing trading strategies on real ticks "), but it is easy to change it to work in Backtest too !!!!

OnChart event doesn't work on BT.

But the status of buttons changes and you need to check the "OnTick" status and fire the button event.

![wizds](https://c.mql5.com/avatar/avatar_na2.png "wizds")

**[wizds](/en/users/wizds)**
|
8 Oct 2019 at 11:39

Good afternoon,

Is it possible to use this script for Buck Test?  
 I installed it, but it doesn't work in Buck Test.

Or tell me where to look for it )))))

Thanks in advance!

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
8 Oct 2019 at 11:56

**wizds:**

This panel is for [online trading](https://www.mql5.com/en/trading "Web terminal for the MetaTrader trading platform") only. The panels do not work in the tester.

![BillionerClub](https://c.mql5.com/avatar/avatar_na2.png "BillionerClub")

**[BillionerClub](/en/users/billionerclub)**
|
20 Apr 2023 at 13:32

Cool expert sps.

Among the errors I noticed

1) The panel does not take care of itself when switching off the terminal, after switching on a new panel is created and parts of the old one are still there.

2) Using OnTick is, in my opinion, still unnecessary for [OnChartEvent](https://www.mql5.com/en/docs/basis/function/events#onchartevent "MQL5 documentation: OnChartEvent function").

![aprel7359](https://c.mql5.com/avatar/2018/12/5C0661F2-AACD.jpg "aprel7359")

**[aprel7359](/en/users/aprel7359)**
|
3 Jan 2024 at 10:36

It's NOT working

![MACD_Squeeze](https://c.mql5.com/i/code/indicator.png)
[MACD\_Squeeze](/en/code/20859)

Oscillator MACD Squeeze similar to indicator Trade The Markets Squeeze, but based on MACD.

![Intraday_Intensity_Index](https://c.mql5.com/i/code/indicator.png)
[Intraday\_Intensity\_Index](/en/code/20858)

Intraday Intensity Index.

![Notis](https://c.mql5.com/i/code/indicator.png)
[Notis](/en/code/20861)

Oscillator Notis% V measures the market volatility, based on the difference between the intraday High and Low.

![PDO](https://c.mql5.com/i/code/indicator.png)
[PDO](/en/code/20862)

Indicator PDO (Percent Difference Oscillator).