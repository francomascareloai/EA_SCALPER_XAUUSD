# Candlestick Analysis EA R1 - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/57689

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/57689) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Candlestick Analysis EA R1 - expert for MetaTrader 5

[jacklmp](/en/users/jacklmp)  |
[English](javascript:void(false);)

[Русский](/ru/code/57689) [中文](/zh/code/57689) [Español](/es/code/57689) [Deutsch](/de/code/57689) [日本語](/ja/code/57689) [Português](/pt/code/57689) [한국어](/ko/code/57689) [Français](/fr/code/57689) [Italiano](/it/code/57689) [Türkçe](/tr/code/57689)

Views:
:   5778

Rating:
:   (5)

Published:
:   31 March 2025, 06:34
:   [mp candlestick.mq5](/en/code/download/57689/mp_candlestick.mq5 "mp candlestick.mq5")
    (20.79 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/57689.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This MT5 Expert Advisor combines multi-timeframe candlestick pattern analysis with fundamental event filtering to execute trades with disciplined risk management. Key features:

Core Strategy

Price Action Focus: Relies solely on candlestick patterns (pin bars, engulfing, hammers/shooting stars) across three timeframes (M5, H1, H4) for trade signals.

Multi-TF Confluence: Requires alignment between 5-minute triggers and higher-timeframe (H1/H4) trend structure.

Risk Management

1.5:1 Risk-Reward Ratio: Automatically calculates take-profit at 1.5x stop-loss distance.

Margin Safeguards: Limits margin usage (<30% by default) and auto-adjusts position sizing.

Dynamic Stops: Uses ATR volatility scaling or fixed pip distances for stop-loss placement.

News Filter

Pre-Event Shutdown: Closes all positions 2 hours before high-impact news events (GDP, NFP, CPI).

Volatility Avoidance: Prevents new trades during scheduled high-risk periods.

Operational Design

5-Minute Execution: Triggers trades on M5 chart while respecting H1/H4 context.

Session Limits: Only trades during peak liquidity hours (8 AM–5 PM server time).

Strengths:

Eliminates indicator lag through pure price action analysis

Strict risk control via fixed RR ratio and margin caps

Adaptive to both trending and ranging markets

Ideal For:

EURUSD and other liquid majors during active sessions

Traders seeking systematic execution with event-risk protection

This EA balances technical pattern recognition with macroeconomic awareness, prioritizing capital preservation while targeting consistent 1.5:1 reward scenarios.

**Last comments |
[Go to discussion](/en/forum/483789)**
(7)

![Miguel Angel Vico Alba](https://c.mql5.com/avatar/2025/10/68e99f33-714e.jpg "Miguel Angel Vico Alba")

**[Miguel Angel Vico Alba](/en/users/mike_explosion)**
|
5 Apr 2025 at 07:38

**musicoin italia [#](/en/forum/483789#comment_56366631):**Hi, how arw you? Where I can find the code, thanks

[https://www.mql5.com/en/code/57689](/en/code/57689 "https://www.mql5.com/en/code/57689")

![](https://c.mql5.com/3/460/57689.jpg)

![Bruno Longuinho](https://c.mql5.com/avatar/2025/10/6903366a-09ee.png "Bruno Longuinho")

**[Bruno Longuinho](/en/users/brunolon)**
|
8 Apr 2025 at 12:23

The EA does not execute any trade. Could notice it does not have a OnTick function.

![Michael Kojo](https://c.mql5.com/avatar/2020/7/5F011EC9-F3F1.png "Michael Kojo")

**[Michael Kojo](/en/users/michaelsekyi)**
|
8 Apr 2025 at 13:39

How do I activate this EA in meta5?

![faisal +](https://c.mql5.com/avatar/avatar_na2.png "faisal +")

**[faisal +](/en/users/faisal.ugm)**
|
10 Apr 2025 at 07:23

how the logic this EA WORKS?

![Lajos Zong](https://c.mql5.com/avatar/avatar_na2.png "Lajos Zong")

**[Lajos Zong](/en/users/facsiga)**
|
10 Apr 2025 at 08:26

This is not a full code. The [Candlestick analysis](https://www.mql5.com/en/articles/5630 "Article: Researching Candlestick Analysis Methods (Part II): Auto Search for New Patterns ") and trade strategy missing.

![Ranging Market Detector](https://c.mql5.com/i/code/indicator.png)
[Ranging Market Detector](/en/code/57684)

An indicator which attempts to highlight a ranging market area

![Withdrawal Tracking](https://c.mql5.com/i/code/expert.png)
[Withdrawal Tracking](/en/code/57676)

This is a piece of code to add to an existing Expert advisor to track withdrawals from your account where the EA is running. It helps the user to monitor his or her withdrawals from a particular account.

![PSAR Zigzag (Non lagging)](https://c.mql5.com/i/code/indicator.png)
[PSAR Zigzag (Non lagging)](/en/code/57724)

A zigzag based on the trend change of the parabolic sar

![SingleTesterCache](https://c.mql5.com/i/code/library.png)
[SingleTesterCache](/en/code/27611)

Tester's single pass data.