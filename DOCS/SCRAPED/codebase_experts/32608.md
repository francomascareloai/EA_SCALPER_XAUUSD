# quick sort - sorting algorithm - library for MetaTrader 5

Source: https://www.mql5.com/en/code/32608

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/32608) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# quick sort - sorting algorithm - library for MetaTrader 5

[DMITRII PECHERITSA](/en/users/dmipec)

Views:
:   5043

Rating:
:   (14)

Published:
:   23 December 2020, 09:36
:   [QuickSort.mq5](/en/code/download/32608/quicksort.mq5 "QuickSort.mq5")
    (7.04 KB)
    [view](# "view")

    \MQL5\Include\Mqh\Algorithms\QuickSort\

    [QuickSort.mqh](/en/code/download/32608/quicksort.mqh "QuickSort.mqh")
    (3.35 KB)
    [view](# "view")

    [Functions.mqh](/en/code/download/32608/functions.mqh "Functions.mqh")
    (2.29 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/32608.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

```mql5
//+------------------------------------------------------------------+
//|                                                    QuickSort.mq5 |
//|                                    2019-2020, dimitri pecheritsa |
//|                                                 792112@gmail.com |
//+------------------------------------------------------------------+
//
//   quick sort - sorting algorithm
//
//   quick sort is a highly efficient sorting algorithm and is based
//on partitioning of array of data into smaller arrays
//   a large array is partitioned into two arrays one of which holds
//values smaller than the specified value say pivot, based on which
//the partition is made and another array holds values greater than
//the pivot value
//   quick sort partitions an array and then calls itself recursively
//twice to sort the two resulting subarrays
//   this algorithm is quite efficient for large-sized data sets as
//its average and worst-case complexity are O(nlogn) and theta(n^2),
//respectively
//
//   quick sort pivot algorithm
//
//   step 1: choose the highest index value has pivot
//   step 2: take two variables to point left and right of the values
//excluding pivot
//   step 3: left points to the low index
//   step 4: right points to the high
//   step 5: while value at left is less than pivot move right
//   step 6: while value at right is greater than pivot move left
//   step 7: if both step 5 and step 6 does not match swap left and
//right
//   step 8: if left ≥ right, the point where they met is new pivot
//
//   quick sort algorithm
//
//   using pivot algorithm recursively, we end up with smaller
//possible partitions
//   each partition is then processed for quick sort
//   step 1: make the right-most index value pivot
//   step 2: partition the array using pivot value
//   step 3: quicksort left partition recursively
//   step 4: quicksort right partition recursively
//
//+------------------------------------------------------------------+
//| quick sort example - sort positions by open price in accending   |
//| or descending order                                              |
//+------------------------------------------------------------------+
#include <Mqh\Algorithms\QuickSort\QuickSort.mqh>
#include <Mqh\Algorithms\QuickSort\Functions.mqh>
void OnStart()
  {
//---load tickets from terminal - the items to be sorted 
   string symbol=_Symbol;
   ulong tickets[];
   PositionsLoad(tickets,symbol);
//---create keys for sorting - open prices of the positions
   double keys[];
   PositionsKeysPriceOpen(tickets,keys);
//---sort positions by open price
   CQuickSort<double,ulong> sorter;
   bool accending_order=true; //false for descending
   sorter.Sort(keys,tickets,accending_order);
//---print positions
   int digits=(int)SymbolInfoInteger(symbol,SYMBOL_DIGITS);
   PositionsPrint(tickets,digits);
  }
//
//   example output
//
//    EURUSD | 195762889 |  1.16667
//    EURUSD | 195806889 |  1.16939
//    EURUSD | 195998318 |  1.17384
//    EURUSD | 197300364 |  1.17602
//    EURUSD | 197454338 |  1.17680
//    EURUSD | 197488771 |  1.17859
//    EURUSD | 196985503 |  1.17924
//    EURUSD | 196058650 |  1.17935
//    EURUSD | 197513038 |  1.18068
//    EURUSD | 196921898 |  1.18179
//    EURUSD | 196317657 |  1.18295
//    EURUSD | 198719928 |  1.18325
//    EURUSD | 198678762 |  1.18342
//    EURUSD | 198673400 |  1.18387
//    EURUSD | 197932787 |  1.18482
//   ...
//
//+------------------------------------------------------------------+
```

**[Go to discussion](/en/forum/358647)**

![Classic Moving Averages with colors](https://c.mql5.com/i/code/indicator.png)
[Classic Moving Averages with colors](/en/code/32558)

The indicator displays a colored moving average.

![Basic Martingale EA v3](https://c.mql5.com/i/code/expert.png)
[Basic Martingale EA v3](/en/code/32521)

A Sample of Averaging Up/Down Martingale EA.

![Free mt5 Copier](https://c.mql5.com/i/code/expert.png)
[Free mt5 Copier](/en/code/32614)

Copy trading has become such a critical feature of forex trading. Some people see this as a potential business opportunity, while for opensource die-hards like me, we believe in giving back to the community rather than putting a price tag on everything 'nice'. So here it comes. A free opensource trade copier, which you are freely allowed to modify and distribute according to MIT license terms. It still has limited features, but the essentials like lot normalization are there. Please note that this copier only works for trading terminals installed on the same machine. Please share back any upgrades, enhancements or bug fixes to the discussion. Enjoy!

![EA Fibonacci Potential Entry - MT5](https://c.mql5.com/i/code/expert.png)
[EA Fibonacci Potential Entry - MT5](/en/code/32616)

The 8 effective steps to build a robust day trading plan using Fibonacci retracement