# MQL4 Source Codes of Expert Advisors for MetaTrader 4

Source: https://www.mql5.com/en/code/mt4/experts

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Access the CodeBase from your [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

Couldn't find the right code? Order it in the [Freelance](https://www.mql5.com/en/job) section

[How to Write](https://www.mql5.com/en/articles/100) an Expert Advisor or an Indicator

# MQL4 Source Codes of Expert Advisors for MetaTrader 4

![icon](https://c.mql5.com/i/code/code-icon.png)

Various applications to automate analysis and trading are available in the 'Expert Advisors' section. It features various applications based on different trading algorithms and provides different degrees of automation. You can find simple EAs and complex trading robots that can fully automate analysis and trading processes.

These applications can be downloaded and run in MetaTrader 4. It is recommended to test and optimize Expert Advisors in the Strategy tester. The Expert Advisors from the library can be accessed from the MetaTrader 4 platform and the MetaEditor development environment.

[Submit your code](/en/code/new)

![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

You are missing trading opportunities:

* Free trading apps
* Over 8,000 signals for copying
* Economic news for exploring financial markets

Registration
Log in

latin characters without spaces

a password will be sent to this email

An error occurred

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

Allow the use of cookies to log in to the MQL5.com website.

Please enable the necessary setting in your browser, otherwise you will not be able to log in.

 

[Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)

[1](/en/code/mt4/experts)[2](/en/code/mt4/experts/page2)[3](/en/code/mt4/experts/page3)[4](/en/code/mt4/experts/page4)[5](/en/code/mt4/experts/page5)[6](/en/code/mt4/experts/page6)[7](/en/code/mt4/experts/page7)[8](/en/code/mt4/experts/page8)[...](/en/code/mt4/experts/page19)[29](/en/code/mt4/experts/page29)

latest |

[best](/en/code/mt4/experts/best)

[Strategy Schedule](/en/code/66175 "Strategy Schedule")

Советник создан для помощи трейдеру в ручной торговле.

[SAR\_MACD\_EA](/en/code/65407 "SAR_MACD_EA")

Macd is the first to indicate bearish or bullish direction, secondly SAR in correlation with price indicates a swing in direction (Sar Flip above or below price), third conformation is the sma 40 shifted 3 and the closed price above or below the sma.

[Heikin Ashi MT4 EA](/en/code/64833 "Heikin Ashi MT4 EA")

Designed to trade using Heikin Ashi candles. By smoothing price action and filtering out market noise, this EA creates a clear map of market direction, allowing traders to catch strong trends, avoid false reversals, and manage trades with confidence.

[Ichimoku Edge MT4 EA](/en/code/64492 "Ichimoku Edge MT4 EA")

Ichimoku Edge is based on the standard Ichimoku Kinko Hyo indicator with default settings. It generates Buy and Sell signals from the cross of the Chikou Span with the price, confirmed by the position of price and Chikou Span relative to the Kumo (cloud).

[Trade By Retail Sentiment](/en/code/62627 "Trade By Retail Sentiment")

This Expert Advisor uses retail trader sentiment from the Ziwox API to implement a contrarian trading strategy, taking trades opposite to the majority of retail positions. By combining sentiment data with a moving average trend filter, it identifies potential market reversals and avoids crowded trades. The EA automatically fetches and parses sentiment in real-time, executes buy or sell orders based on contrarian logic, and displays clear visual indicators of retail long and short ratios directly on the chart, providing traders with both actionable signals and market insight.

[Stochastic Eclipse - MT4 EA](/en/code/64117 "Stochastic Eclipse - MT4 EA")

By identifying overbought and oversold conditions, it helps traders catch early reversals, ride strong momentum shifts, and filter false signals.

[MT4-BuildYourGridEA](/en/code/62249 "MT4-BuildYourGridEA")

The expert is a system to help any trader to make a grid of orders.

[Viral MACD Strategy (3.5M+ Views) — Recreated and Automated](/en/code/62000 "Viral MACD Strategy (3.5M+ Views) — Recreated and Automated")

This Expert Advisor implements a well-known MACD strategy made popular through a viral video. It combines MACD signals with trend and support/resistance filters.

[Eliot Waves](/en/code/25287 "Eliot Waves")

"Eliot Waves" EA draws 2 Trend Lines with "zigzag" on chart and trades When a Eliot retracement is formed,has Trailing Stop Loss &Take Profit works with all time frames major forex pairs and stocks NASDAQ.

[Auto Tp](/en/code/60955 "Auto Tp")

Set Auto TP and SL:
Automatically setting Take Profit (TP) and Stop Loss (SL) helps manage risk and lock in profits without manual intervention. This feature ensures each trade has predefined exit levels, reducing emotional decision-making and improving trading discipline. Ideal for both beginners and experienced traders, it provides consistency and protection in volatile markets.

[Pending tread EA.](/en/code/60295 "Pending tread EA.")

Pending\_tread EA
This Expert Advisor automatically places a grid of pending orders above and below the current market price. It supports both buy and sell pending orders with user-configurable distance (in pips), lot size, and take profit levels. The EA maintains up to 10 pending orders per side, placing sell stop orders below the market and buy stop orders above, ideal for scalping strategies on any timeframe. Includes order management by MagicNumber to avoid conflicts with other EAs or manual trades.

[SniperJaw EA](/en/code/60015 "SniperJaw EA")

SniperJaw EA is a one-trade-at-a-time robot that uses the Alligator indicator (Jaw, Teeth, Lips) to follow the trend. You can control the trade size with LotSize, choose to close trades on opposite signal with UseEntryToExit, or use TakeProfit and StopLoss in pips if set. Slippage is managed by Slippage, and trading can be turned on or off using TradeEnabled. Alligator settings like JawPeriod, JawShift, TeethPeriod, TeethShift, LipsPeriod, and LipsShift let you adjust how the indicator works.

[MA2CCI](/en/code/10363 "MA2CCI")

Sample Trading Sistem for cross 2MA &amp; CCI

[EA Stochastic Bollinger Bands Multi - Timeframe](/en/code/58746 "EA Stochastic  Bollinger Bands Multi - Timeframe")

This MQL4 code implements an Expert Advisor (EA) that trades based on the Stochastic Oscillator and Bollinger Bands indicators across multiple timeframes (M1, M5, and M15).

[RRS Impulse](/en/code/58462 "RRS Impulse")

This EA scalps using the Relative Strength Index (RSI) Indicator, Stochastic Oscillator Indicator, and Bollinger Bands Indicator to identify trend or counter-trend opportunities. As a multi-pair EA, it scans multiple currency pairs for signals.
This EA comes with a variety of features, including Trailing, Risk Management, Money Management, Restriction Mode, and more. With the right settings, it has the potential to generate significant profits.

[Adjustable Moving Average EA](/en/code/58250 "Adjustable Moving Average EA")

This Expert Advisor opens trades based on the crossover of two adjustable moving averages. You can fully customize the periods, type (e.g., EMA, SMA), and direction (long-only, short-only, or both). It includes optional Stop Loss, Take Profit, and Trailing Stop settings.

[Average Pip Movement based on Tick And Seconds](/en/code/57788 "Average Pip Movement based on Tick And Seconds")

This Expert Advisor (EA) analyzes market movement by calculating the average pip movement per tick and the average spread over a user-defined number of ticks (MAX\_TICKS). It also evaluates the average pip movement and spread over a specified time interval (CHECK\_SECONDS).
The EA dynamically tracks price changes and spread values, printing the results in the terminal and displaying them on the chart using the Comment() function. This helps traders gauge market volatility and spread fluctuations in real time.

[Withdrawal Tracking](/en/code/57675 "Withdrawal Tracking")

This is a piece of code to add to an existing Expert advisor to track withdrawals from your account where the EA is running. It helps the user to monitor his or her withdrawals from a particular account.

[RRS Tangled EA](/en/code/57409 "RRS Tangled EA")

RRS Tangled EA randomly selects currency symbols, lot sizes, and order types for trading. It does not rely on technical indicators or fundamental analysis. Instead, it uses a Randomness in Nature approach to open trades. With proper settings such as Take Profit, Stop Loss, Trailing, and Risk Management, this EA can generate significant profits.

[RRS Chaotic EA](/en/code/57246 "RRS Chaotic EA")

This EA is a cleaned and minimized version of the RRS Randomness in Nature EA. It opens trades randomly with random currency pairs, random lot sizes, and random order types. This EA does not rely on any technical skillset such as indicators, price action, news calendar events, or candlestick patterns. It offers multiple trading strategies, risk management plans, and other customizable settings.

[RRS Randomness in Nature EA](/en/code/57209 "RRS Randomness in Nature EA")

This EA is truly random in nature. It randomly selects currency pairs, lot sizes, and order types. This EA does not rely on any technical skillset such as indicators, price action, news calendar events, or candlestick patterns. It offers multiple trading strategies, risk management plans, and other customizable settings.
Even though the EA works on randomness, it has still achieved good profits with proper risk management settings.

[RRS Non-Directional EA](/en/code/57113 "RRS Non-Directional EA")

This is a Non-Directional Bias EA. This EA does not rely on any technical skillset such as indicators, price action, news calendar events, or candlestick patterns. It offers multiple trading strategies, risk management plans, and other customizable settings. This EA takes trades continuously and randomly, depending on the strategy you have chosen.

[EA CloseAll](/en/code/55164 "EA CloseAll")

CloseAllOrdersEA for MetaTrader 4 closes all existing orders upon initialization. It works by:
OnInit: Calls CloseAllOrders to shut down all market and pending orders.
OnDeinit: Only logs deinitialization.
OnTick: No action needed as orders are closed on start.
CloseAllOrders: Loops from last to first order, retries up to 3 times to close/delete orders with error handling, uses current price for market orders, and deletes pending orders.
Error Handling: Logs detailed errors for unsuccessful operations.

[Market Watch Panel Utility](/en/code/55041 "Market Watch Panel Utility")

A real-time monitoring tool for MetaTrader 4 that displays key financial data, allows quick symbol switching, and customizable symbol lists. Save and reload symbols, reset lists, and customize text and panel colors for a personalized trading experience.

[Symbol Swap Panel Utility](/en/code/55012 "Symbol Swap Panel Utility")

Symbol Swap Panel: Effortlessly switch the active symbol on your chart while simultaneously adding the new symbol to Market Watch. This tool ensures seamless integration and access to real-time market data, optimizing your trading workflow.

[Surfing - 2 EMA strategy](/en/code/54396 "Surfing - 2 EMA strategy")

This is a pretty simple startegy that follows trend. Recommended time frams is D1.
when close price brakes up the EMA build based on high prices given that RSI is above 55 and RSI is above its Moving average - we buy.
when close price brakes down the EMA build based on low prices given that RSI is below 45 and RSI is below its moving average - we sell.
system closes previose trade if there is opposite signal
system uses take profit and stop loss as well as trailing stop

[Backtesting Trade Assistant Panel](/en/code/52957 "Backtesting Trade Assistant Panel")

Backtesting Trade Assistant Panel

[Simplified "EuroSurge" Expert Advisor](/en/code/52753 "Simplified \"EuroSurge\" Expert Advisor")

This expert opens trades based on signals from multiple technical indicators.

[The Doji Candelstick Pattern](/en/code/52297 "The Doji Candelstick Pattern")

The Doji Pattern Detector EA is designed to automatically detect the classic Doji candlestick pattern on any chart. A Doji pattern occurs when the open and close prices of a candle are very close to each other, signaling market indecision. This EA identifies Doji candles where the open and close prices are within a small range and positioned near the midpoint of the candle's high and low.

[Detect Friday of The First Week of The Month - To Detect NFP Day](/en/code/51006 "Detect Friday of The First Week of The Month - To Detect NFP Day")

This code can detect if its a friday of the first week of the month. It is usually to detect days with NFP.
Sone trader dont want to trade at that day. Maybe this code can help some one who need it

[Grid EA Pro](/en/code/49841 "Grid EA Pro")

A professional Grid advisor works according to RSI ( Relative Strength Index ) indicators. And has the function of Reducing the Drawdown on the account by overlapping unprofitable orders. The chart displays information about the profit. It can be a very useful tool, For manual trading.

[Get Nth Closed Trade from the end in MT4](/en/code/49610 "Get Nth Closed Trade from the end in MT4")

This EA will scan all the closed trades and then print the nth trade from the end

[Get Nth Active Trade from the end in MT4](/en/code/49608 "Get Nth Active Trade from the end in MT4")

This EA will scan all the open trades and then print the nth trade from the end

[MQL4 Implementation of onTrade Event Handler](/en/code/49474 "MQL4 Implementation of onTrade Event Handler")

This is a simple code to mimic onTradeTransaction Event handler defined in MQL5

[Classic and Virtual Trailing](/en/code/49326 "Classic and Virtual Trailing")

Classic & Virtual Trailing for MT4

[Virtual SL TP Pending with SL Trailing for Symbol Chart](/en/code/49146 "Virtual SL TP Pending with SL Trailing for Symbol Chart")

Virtual SL TP Pending with SL Trailing for Symbol Chart

[Close Basket Pairs v1](/en/code/49145 "Close Basket Pairs v1")

This MQL4 EA is designed to close positions for a basket of currency pairs based on certain profit and loss thresholds.

[Trailing\_StopLoss\_for All\_orders\_and\_symbols](/en/code/49083 "Trailing_StopLoss_for All_orders_and_symbols")

Trailing\_StopLoss\_for All\_orders\_and\_symbols

[Simple continuous trend-following strategy for buying and selling based on predefined conditions](/en/code/41679 "Simple continuous trend-following strategy for buying and selling based on predefined conditions")

Simple continuous trend-following strategy for buying and selling based on predefined conditions

[Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency](/en/code/48818 "Close_on_PROFIT_or_LOSS_inAccont_Currency")

Close\_on\_PROFIT\_or\_LOSS\_inAccont\_Currency

[1](/en/code/mt4/experts)[2](/en/code/mt4/experts/page2)[3](/en/code/mt4/experts/page3)[4](/en/code/mt4/experts/page4)[5](/en/code/mt4/experts/page5)[6](/en/code/mt4/experts/page6)[7](/en/code/mt4/experts/page7)[8](/en/code/mt4/experts/page8)[...](/en/code/mt4/experts/page19)[29](/en/code/mt4/experts/page29)