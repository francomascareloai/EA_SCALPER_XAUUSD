# Mean Reversion - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/41140

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/41140) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Mean Reversion - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

Views:
:   13338

Rating:
:   (26)

Published:
:   26 October 2022, 01:32

Updated:
:   14 November 2025, 22:07
:   [Mean reversion.mq4](/en/code/download/41140/Mean_reversion.mq4 "Mean reversion.mq4")
    (91.13 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/41140.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Mean Reversion strategy works best on daily time frame major forex pairs  .

### 

* Try it on demo first.
* This EA trades only with the price of open candle!
* If you do not want to trade with increasing lot size when you lose  a trade set:"IncreaseFactor=0"

Inputs

* Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
* TP\_In\_Money- Take Profit In Money   (values: 10-100).
* Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
* TP\_In\_Percent- Take Profit In Percent (values: 10-100).
* ------------[Money Trailing Stop For Multiple Trades]----------------------
* Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
* Take Profit In Money (in current currency) (values: 25-200).
* Stop Loss In Money(in current currency) (values: 1-20).
* --------------------------------------------------------------------------------------
* Exit= Close trades if the trend is against you and control draw dwon (values:true/false).
* BarsToCount= Bars To Count  (values: 1-20).
* Lots - Lots size (values: 0.01-1).
* Lots size Exponent  (values: 1.01-2).
* IncreaseFactor -how much to increase lots from total margin if you lose a trade (values: 0.001-0.1).
* Stop\_Loss - Stop Loss (values: 30-500).  /set value 600 for  Multiple Trades
* MagicNumber - Magic number (values: 1-100000).
* TakeProfit - Take Profit (values: 50-200).  /set value 600 for  Multiple Trades
* FastMA - Fast Moving Average (values: 1-20).
* SlowMA - Slow Moving Average (values: 50-200).
* Mom\_Sell-Momentum\_Sell trigger(values: 0.1-0.9).
* Mom\_Buy-Momentum\_Buy trigger(values: 0.1-0.9).
* ---------------------CONTROL DRAW DOWN-----------------------------
* UseEquityStop -  (values:true/false).
* TotalEquityRisk- (values: 0.01-20).
* -------------------------------------------------------------------------------
* Max\_Trades(1-12).
* FractalNum= Number Of High And Low(values: 1-10).
* ----------------IF YOU USE ONLY 1 TRADE:-----------------------
* /////////////////////////////////////////////////////////////////////
* USETRAILINGSTOP-If use trailing stop (values:true/false).
* WHENTOTRAIL-When to trail (values: 40-100).
* TRAILAMOUNT-Trail amount (values: 40-100).
* Distance From Candle -Distance From Candle (values: 1-100).
* USECANDELTRAIL=If use trailing stop (values:true/false).
* X=2-number of candles (values: 1-100).
* USEMOVETOBREAKEVEN-Enable " break even " (values: true/false).
* WHENTOMOVETOBE-When to move break even (values: 1-30).
* PIPSTOMOVESL=30-How much pips to move stop loss  (values: 1-30).

  

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.

* [![Mean Reversion](https://c.mql5.com/18/159/h5sj606_4t3_3218b.png "Mean Reversion")](https://c.mql5.com/18/159/f9zhbej_986_3218v.png "https://c.mql5.com/18/105/f9zhbej_986_3218v.png")

**Last comments |
[Go to discussion](/en/forum/435233)**
(7)

![Mr Anan Seti](https://c.mql5.com/avatar/2022/6/629D74FE-6E1E.jpg "Mr Anan Seti")

**[Mr Anan Seti](/en/users/ananseti)**
|
12 Nov 2022 at 07:53

Thank you for sharing.

![onlinejc](https://c.mql5.com/avatar/avatar_na2.png "onlinejc")

**[onlinejc](/en/users/onlinejc)**
|
20 Nov 2022 at 21:06

Even your [backtest](https://www.mql5.com/en/articles/2612 "Article: Testing trading strategies on real ticks ") shows 4 years with no profit.

Why bother posting?

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
21 Nov 2022 at 23:24

**onlinejc [#](/en/forum/435233#comment_43344582):**  

Even your [backtest](/en/articles/2612 "Article: Testing trading strategies on real ticks ") shows 4 years with no profit.

Why bother posting?

The test you see is from 01.01.2020-26.10.2022 where are 4 years with no profit ?

The backtest is partial and roughly tested, you can test it yourself, wait until the end and get better results in other pairs

![onlinejc](https://c.mql5.com/avatar/avatar_na2.png "onlinejc")

**[onlinejc](/en/users/onlinejc)**
|
23 Dec 2022 at 01:22

OK, I misread the dates but the fact remains that from trade 400 to the end (about 400 trades and half the period) there is no profit at all.

Why bother to post a ' partial and roughly tested' [backtest](https://www.mql5.com/en/articles/2612 "Article: Testing trading strategies on real ticks ")? If the creator can't produce a good backtest we must assume nobody can...

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
23 Dec 2022 at 03:03

**onlinejc [#](/en/forum/435233#comment_43950678):** OK, I misread the dates but the fact remains that from trade 400 to the end (about 400 trades and half the period) there is no profit at all. Why bother to post a ' partial and roughly tested' backtest? If the creator can't produce a good backtest we must assume nobody can...

Because the CodeBase is not necessarily about profitable EAs — it's more about example code.

And besides, any strategy or EA is not a "one size fits all". It is a tool and like any tool, it takes knowledge and experience to be able to use a tool properly.

It needs to be configured properly and used on the correct market or symbol, at the correct time.

![Close All Trade at Once](https://c.mql5.com/i/code/expert.png)
[Close All Trade at Once](/en/code/41099)

This EA will Close All your current running Trades when Applied.

![Open Order With Trade Management](https://c.mql5.com/i/code/script.png)
[Open Order With Trade Management](/en/code/41084)

A Simple Trade Management Script

![SMA_Channel](https://c.mql5.com/i/code/indicator.png)
[SMA\_Channel](/en/code/41301)

Channel Indicator using SMA

![Binary DOT Signal 60 second expired](https://c.mql5.com/i/code/indicator.png)
[Binary DOT Signal 60 second expired](/en/code/41393)

Binary Option Signal