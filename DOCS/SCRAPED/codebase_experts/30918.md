# Hull moving average (ema based) - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/30918

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/30918) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Hull moving average (ema based) - indicator for MetaTrader 4

[Mladen Rakic](/en/users/mladen)

Views:
:   36729

Rating:
:   (54)

Published:
:   4 September 2020, 15:46
:   [Hull moving average (ema based).mq4](/en/code/download/30918/hull_moving_average_zema_based6.mq4 "Hull moving average (ema based).mq4")
    (9.12 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/30918.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

> Original Hull moving average is calculated using LWMA (Linear Weighted Moving Average). But sometimes that way of calculation tends to overshoot
>
> Possible solution for that is to use some other average method to calculate Hull

**This version :**

* is using EMA (Exponential Moving Average) for calculation and it seems to be helping in the overshooting while keeping the signals at almost the same positions.
* is having the additional "speed" parameter (which can be helpful for further filtering out signals without changing the Hull period)

**Recommended usage :**

* You can use color changes as signals for trend change

![](https://c.mql5.com/18/93/Capture_cb__3.png)

[![](https://c.mql5.com/18/93/Capture__8.png)](https://c.mql5.com/18/93/Capture__7.png "https://c.mql5.com/18/93/Capture__7.png")

**Last comments |
[Go to discussion](/en/forum/350473)**
(11)

![itm54](https://c.mql5.com/avatar/avatar_na2.png "itm54")

**[itm54](/en/users/itm54)**
|
13 Sep 2020 at 15:15

Hi Mladen, I also thank you for all the great work you do.  Fantastic.  I have done Jim Hodge's course but am still learning to code in MQL4, unfortunately I haven't yet reached the stage of fully understanding your code.  I have written an EA calling buffers 0 and 3 of your Hull [moving average](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "MetaTrader 5 Help: Moving Average indicator") as a trigger, but finding some lag on up/down slope.  I would be very appreciative if you could tell me which buffer to use to detect the colour change as soon as it occurs.  Thank you in anticipation.

![Ahmed mohamed](https://c.mql5.com/avatar/2020/12/5FD15AA0-79BC.png "Ahmed mohamed")

**[Ahmed mohamed](/en/users/ahmed2055)**
|
14 Dec 2020 at 05:55

Hello, Mladen,

it is [amazing indicator](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama "MetaTrader 5 Help: Adaptive Moving Average indicator")

if you add a notifications like sound alert and Push Alerts it will be perfect

![Ahmed mohamed](https://c.mql5.com/avatar/2020/12/5FD15AA0-79BC.png "Ahmed mohamed")

**[Ahmed mohamed](/en/users/ahmed2055)**
|
14 Dec 2020 at 22:30

Hello, Mladen,

if we add this code can it send alerts when color change ( buy or sell)

|  |
| --- |
|  |

input int

input bool   EnableNativeAlerts = true;

input bool   EnableSoundAlerts  = true;

input bool   EnableEmailAlerts  = true;

input bool   EnablePushAlerts  = true;

input string AlertEmailSubject  = "";

input string AlertText   = "";

input string SoundFileName = "alert.wav";

datetime LastAlertTime = D'01.01.1970';

int LastAlertDirection = 0;

![kaveh61 Saleki](https://c.mql5.com/avatar/avatar_na2.png "kaveh61 Saleki")

**[kaveh61 Saleki](/en/users/kaveh61)**
|
16 Jan 2021 at 18:02

Hi Mladen,

I am a novice programmer and I use your works both for my trading and as a mean to learn how to properly code.

Keep up the great work

Thanks a bunch

![Suminda Dharmasena](https://c.mql5.com/avatar/2021/5/609178EF-5D57.png "Suminda Dharmasena")

**[Suminda Dharmasena](/en/users/sirinath)**
|
23 Jan 2022 at 06:49

Wondering if you managed to do the MT5 version?

![max profit of 1st order](https://c.mql5.com/i/code/expert.png)
[max profit of 1st order](/en/code/30912)

This expert shows the maximum profit level that touched by price line for your first position on chart window. the expert don't need any variable or specified timeframe. Please vote this program to help know this program how much helpful. Thanks for your vote stars.

![ATR adaptive SMA](https://c.mql5.com/i/code/indicator.png)
[ATR adaptive SMA](/en/code/30856)

ATR adaptive SMA (Simple Moving Average)

![Actual Volatility Scanner](https://c.mql5.com/i/code/indicator.png)
[Actual Volatility Scanner](/en/code/30934)

in raw form for currency pairs and indices.

![Strategy - Set And Forget (with anti-Martingale system) MT4](https://c.mql5.com/i/code/script.png)
[Strategy - Set And Forget (with anti-Martingale system) MT4](/en/code/30950)

This strategy is the well known set & forget accompanied by the anti-martingale system. It is very useful if you are very busy in which you don't have time, you want to trade the London session while you are sleeping in USA, etc.