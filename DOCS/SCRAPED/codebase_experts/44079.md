# Expert Advisor for Opening Multiple Buy and Sell Orders Based on User Input - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/44079

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/44079) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Expert Advisor for Opening Multiple Buy and Sell Orders Based on User Input - expert for MetaTrader 5

[Ohene Kofi Akuoku Osei](/en/users/pamo1980)

Views:
:   19424

Rating:
:   (17)

Published:
:   26 April 2023, 15:42
:   [MultiOrdersExpert.mq5](/en/code/download/44079/multiordersexpert.mq5 "MultiOrdersExpert.mq5")
    (1.76 KB)
    [view](# "view")

    [multi.mq5](/en/code/download/44079/multi.mq5 "multi.mq5")
    (5.01 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/44079.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This Expert Advisor (EA) for MetaTrader 5 (MT5) opens multiple buy and sell orders based on user input. The EA has input variables for the number of buy and sell orders, risk percentage per trade, stop loss, take profit, and slippage. It also includes a simple user interface with Buy and Sell buttons that trigger the opening of multiple buy and sell orders.

The EA calculates the appropriate lot size based on the specified risk percentage and stop loss. It also checks the spread against the configured slippage before placing orders. The EA then opens buy orders if the average price is above the current ask price and sell orders if the average price is below the current bid price.

When a user clicks the Buy or Sell button, the EA will open the specified number of buy or sell orders with the calculated lot size, stop loss, and take profit.

Please note that this EA is a simple example and may not be suitable for live trading without additional modifications and optimizations. It's essential to test any trading algorithm in a safe environment, such as a demo account, before using it with real funds.

**Last comments |
[Go to discussion](/en/forum/446351)**
(4)

![Muhammad Ali](https://c.mql5.com/avatar/2022/2/6217BB98-F9A5.jpg "Muhammad Ali")

**[Muhammad Ali](/en/users/maliabid786)**
|
26 Mar 2024 at 08:25

Its not working. Just waste of time.

![amsunaakage](https://c.mql5.com/avatar/avatar_na2.png "amsunaakage")

**[amsunaakage](/en/users/amsunaakage)**
|
14 Jun 2024 at 01:22

Not working, i enter the values I want and press Ok, but nothing happens at all.

![Rami almaghari](https://c.mql5.com/avatar/2025/2/67bdce89-b063.jpg "Rami almaghari")

**[Rami almaghari](/en/users/rami_almaghari)**
|
14 Apr 2025 at 15:00

what a waste of time...

Nothing works..

![raheelswl](https://c.mql5.com/avatar/avatar_na2.png "raheelswl")

**[raheelswl](/en/users/raheelswl)**
|
8 Sep 2025 at 15:02

Buttons Only. No code. XXXXXXXXXXXXXXXXXXXXXXXXXX

![VPS Trailing Stop Service](https://c.mql5.com/i/code/services.png)
[VPS Trailing Stop Service](/en/code/44071)

VPS Trailing Stop Service

![CheckTrades](https://c.mql5.com/i/code/expert.png)
[CheckTrades](/en/code/44056)

This code initializes the necessary objects and input parameters, and defines a CheckTrades() function that calculates the risk and profit amounts based on the account balance and user input. It then iterates through open orders and checks if the current profit or loss meets the user-defined thresholds, and closes the position if necessary

![Dynamic Trailing Stop Loss and Profit Target Management](https://c.mql5.com/i/code/expert.png)
[Dynamic Trailing Stop Loss and Profit Target Management](/en/code/44099)

This code snippet implements a dynamic risk management strategy for existing trades. It focuses on closing trades based on profit or loss thresholds and employs a trailing stop loss to lock in profits as the trade moves favorably. The strategy helps manage risk and enhance profitability in a streamlined manner.

![Equity and Balance as an indicator for MT5](https://c.mql5.com/i/code/indicator.png)
[Equity and Balance as an indicator for MT5](/en/code/44136)

This is a very easy-to-use indicator that displays the changes in Equity and balance of the trading account as it dynamically moves.
Particularly useful on the back tester and good for beginners to read this very easy MQL5 code.