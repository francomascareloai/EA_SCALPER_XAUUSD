# Good EA but needs FridayClose to perform better - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/9730

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9730) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Good EA but needs FridayClose to perform better - expert for MetaTrader 4

[Deleted]

Views:
:   18276

Rating:
:   (6)

Published:
:   21 June 2010, 09:06

Updated:
:   21 April 2014, 14:54
:   [Expert.mq4](/en/code/download/9730/Expert.mq4 "Expert.mq4")
    (7.91 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9730.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Hi, I got this EA from a friend. It is based on the previous day's open and close price, but I would want it to close all trade on friday at a certain time.

Any help? You may add the FridayClose option and paste it on this thread.

I will appreciate this gesture for my good and the good of all who finds it helpful.

Better still, you may sent it to my email address at braytone@gmail.com or gbrjnr@aol.com. Thanks buddy!

**Last comments |
[Go to discussion](/en/forum/27483)**
(15)

**-**
|
7 Jul 2010 at 14:16

**gbrjnr:** I run it on live account on EURUSD H1 only and on a VPS platform 24/7  

**BarrowBoy:**  

**bnbb2004:**  

Nil,

  

What timeframe and pair have you tested this on? Thx for sharing! GL!

  

No idea on the origins but has some promise on the H1 chart of the majors plus EURJPY

-BB-

So far it's traded 3 wins. Majors + E/J on 1H chart.

**-**
|
7 Jul 2010 at 14:18

**gbrjnr:** I run it on live account on EURUSD H1 only and on a VPS platform 24/7

Action is very thin this week, all my EA's are off....

FWIW

-BB-

![Lam K](https://c.mql5.com/avatar/2014/2/52F85D14-2F2B.gif "Lam K")

**[Lam K](/en/users/klam2404)**
|
18 Jul 2010 at 08:18

**BarrowBoy:**  

**gbrjnr:** I run it on live account on EURUSD H1 only and on a VPS platform 24/7

Action is very thin this week, all my EA's are off....

FWIW

-BB-

if(DayOfWeek() ==5 && !TradeAtFriday) {//friday  
text2 = text2+" Friday Sleep...Not Trade!!";

CloseAll("All",0);  
return(0);  
}

**-**
|
6 Oct 2010 at 14:00

Please, I will like to include a [money management](https://www.mql5.com/en/articles/4162 "Article: Money Management by Vince. Implementation as a MQL5 Wizard Module") technique to my EA. The idea is to let only a fraction of your total margin be in use at any instant. For example, you can use only 50% of account; with 50% margin usage the EA risk only 50% of account in worst scenario. Any help as to how to generate this code and include it in my EA at http://www.mql4.com/users/brayt? You can find details of where this idea is applied at http://www.fxpromaker.com/advanced50.html. ANY HELP PLEASE!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
31 Dec 2013 at 09:22

**klam2404:**  

**BarrowBoy:**  

**gbrjnr:** I run it on live account on EURUSD H1 only and on a VPS platform 24/7

Action is very thin this week, all my EA's are off....

FWIW

-BB-

if(DayOfWeek() ==5 && !TradeAtFriday) {//friday  
text2 = text2+" Friday Sleep...Not Trade!!";

CloseAll("All",0);  
return(0);  
}

Nice of you to share some useful code, but we're not all experts (yet), so would you, or somebody else, explain also  
where to put it exatcly? I've inserted it in the 'int start() part of the ea, but get an error that there should be an extra parenthesis  
at the end of the final 'return()'. However, when I add this character the error remains... Cheers

![Trending or Ranging and Trend Strength Indicator](https://c.mql5.com/i/code/indicator.png)
[Trending or Ranging and Trend Strength Indicator](/en/code/9735)

The indicator shows the power of the trend that is in place and whether a pair is trending or ranging. Many user adjustable variables.

![MA_Support](https://c.mql5.com/i/code/indicator.png)
[MA\_Support](/en/code/9732)

All Moving Average on the M1 Time Frame

![mslmsh - Market structure low/high](https://c.mql5.com/i/code/indicator.png)
[mslmsh - Market structure low/high](/en/code/9720)

This indicator looks at local high/lows. It connects the points and finds where a local high and low appears many times. Depending on how many times a local high/low appears, it draws colored lines into the chart.

![DollarIndex](https://c.mql5.com/i/code/indicator.png)
[DollarIndex](/en/code/9744)

A volume-adjusted reading of the net flow of USD as measured by all 7 major currency pairs.