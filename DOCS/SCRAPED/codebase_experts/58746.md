# EA Stochastic  Bollinger Bands Multi - Timeframe - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/58746

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/58746) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# EA Stochastic Bollinger Bands Multi - Timeframe - expert for MetaTrader 4

Ronny maheza

Published by:
:   [Trap Music](/en/users/sagraz)

Views:
:   9182

Rating:
:   (2)

Published:
:   27 April 2025, 07:07

Updated:
:   27 April 2025, 07:08
:   [EA RM Stochastic Band.mq4](/en/code/download/58746/ea_rm_stochastic_band.mq4 "EA RM Stochastic Band.mq4")
    (5.28 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/58746.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Plese comment for improve this code ..thank

**Key Features:**

* **Multi-Timeframe Analysis:** It uses Stochastic Oscillator and Bollinger Bands values from M1, M5, and M15 charts for trade entry decisions.
* **Entry Conditions:**
  + **Buy:** All three Stochastic K lines are below the MinStochOversold level, and the M15 price is below the lower Bollinger Band.
  + **Sell:** All three Stochastic K lines are above the MaxStochOverbought level, and the M15 price is above the upper Bollinger Band.
* **Trade Management:**
  + Allows a maximum of MaxTradesPerTrend open trades at a time.
  + Calculates Stop Loss (SL) and Take Profit (TP) levels based on the Average True Range (ATR) of the M15 timeframe and the SLMultiplier and TPMultiplier inputs.
* **Spread Control:** It checks the current spread against MaxSpreadStandard (for standard/ECN accounts) and MaxSpreadCent (for cent/micro accounts). If the spread is too high, it places a buy limit or sell limit order instead of an instant execution.
* **Pending Orders:** When the spread is too high for immediate execution, the EA places pending buy limit or sell limit orders slightly below the current price for buy entries and slightly above for sell entries.
* **Inputs:** It provides various input parameters for customization, including slippage, lot size, indicator periods and deviations, SL/TP multipliers, break-even and trailing stop settings, maximum spread limits for different account types, and Stochastic overbought/oversold levels.
* **OnTick Function:** The OnTick() function is the main execution block. It retrieves indicator values, checks for open orders, and then evaluates buy and sell conditions to potentially open new trades.
* **Debugging:** Includes Print() statements for debugging purposes, logging Stochastic K values across timeframes and the current spread. [![tester](https://c.mql5.com/18/162/ea_multi_fame__3.PNG "tester")](https://c.mql5.com/18/162/ea_multi_fame__2.PNG "https://c.mql5.com/18/162/ea_multi_fame__2.PNG") [![](https://c.mql5.com/18/162/ea_multi_fame__5.PNG)](https://c.mql5.com/18/162/ea_multi_fame__4.PNG "https://c.mql5.com/18/162/ea_multi_fame__4.PNG")

**Last comments |
[Go to discussion](/en/forum/485626)**
(4)

![Qhumanani](https://c.mql5.com/avatar/2022/6/629CCD8D-D011.jpg "Qhumanani")

**[Qhumanani](/en/users/qhumanani)**
|
22 May 2025 at 09:44

Hi,

I tried to optimize this code and tried testing but does not open trades or optimize, what is it that I am not doing?

![Miguel Angel Vico Alba](https://c.mql5.com/avatar/2025/10/68e99f33-714e.jpg "Miguel Angel Vico Alba")

**[Miguel Angel Vico Alba](/en/users/mike_explosion)**
|
22 May 2025 at 10:01

**Qhumanani [#](/en/forum/485626#comment_56759743):**Hi, I tried to optimize this code and tried testing but does not open trades or optimize, what is it that I am not doing?

I'm afraid that without visual evidence of how you're setting up the Strategy Tester (like screenshots or step-by-step details), it's difficult for anyone to understand the issue and help you properly.

![Nangamso Ngamlana](https://c.mql5.com/avatar/2025/8/68A6F103-686B.png "Nangamso Ngamlana")

**[Nangamso Ngamlana](/en/users/nangamsongamlana)**
|
28 Aug 2025 at 02:23

How can I get this EA and download it

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
28 Aug 2025 at 02:35

**[@Nangamso Ngamlana](/en/users/nangamsongamlana) [#](/en/forum/485626#comment_57901768):**How can I get this EA and download it

Use a desktop browser, not a mobile one, and click on the main link provided in the initial post of this discussion topic. Then click on the source file or on "Download a ZIP".

![Fair Value Gaps](https://c.mql5.com/i/code/indicator.png)
[Fair Value Gaps](/en/code/58677)

Fair Value Gaps indicator or 'imbalance areas' where markets often move back to.

![RRS Impulse](https://c.mql5.com/i/code/expert.png)
[RRS Impulse](/en/code/58462)

This EA scalps using the Relative Strength Index (RSI) Indicator, Stochastic Oscillator Indicator, and Bollinger Bands Indicator to identify trend or counter-trend opportunities. As a multi-pair EA, it scans multiple currency pairs for signals.
This EA comes with a variety of features, including Trailing, Risk Management, Money Management, Restriction Mode, and more. With the right settings, it has the potential to generate significant profits.

![RSI Timeframe Analyzer](https://c.mql5.com/i/code/indicator.png)
[RSI Timeframe Analyzer](/en/code/58822)

A powerful multi-timeframe RSI dashboard that visually displays the overbought, oversold, and neutral RSI status across 9 different timeframes â€” from M1 to MN1.

![Range Breakout Indicator - Indicator Buffer Only](https://c.mql5.com/i/code/indicator.png)
[Range Breakout Indicator - Indicator Buffer Only](/en/code/59210)

This indicator for Breakout Strategy. It doesn't print objects on the chart.