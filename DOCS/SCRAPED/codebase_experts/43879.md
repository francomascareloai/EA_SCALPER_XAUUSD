# AllAverages v4.9 - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/43879

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/43879) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# AllAverages v4.9 - indicator for MetaTrader 4

TrendLaboratory

Published by:
:   [IVAN ASTAFUROV](/en/users/inokoast)

Views:
:   16787

Rating:
:   (20)

Published:
:   16 April 2023, 12:27
:   [AllAverages v4.9.mq4](/en/code/download/43879/allaverages_v4.9.mq4 "AllAverages v4.9.mq4")
    (78.5 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/43879.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

You can see other analytical tools on my profile page. This indicator is not mine, it is in the public domain, but it is not available on the MQL5 forum. That is why I decided to post it here. I am currently using some modifications of moving averages in my strategies. Previous version is [here](/ru/code/9933).

Available formulas (MA\_Method)

1. SMA                      Simple Moving Average
2. EMA                      Exponential Moving Average
3. Wilder                  Wilder Exponential Moving Average
4. LWMA                   Linear Weighted Moving Average
5. SineWMA              Sine Weighted Moving Average
6. TriMA                   Triangular Moving Average
7. LSMA                    Least Square Moving Average (or EPMA, Linear Regression Line)
8. SMMA                   Smoothed Moving Average
9. HMA                     Hull Moving Average by A.Hull
10. ZeroLagEMA          Zero-Lag Exponential Moving Average
11. DEMA                    Double Exponential Moving Average by P.Mulloy
12. T3\_basic               T3 by T.Tillson (original version)
13. ITrend                   Instantaneous Trendline by J.Ehlers
14. Median                  Moving Median
15. GeoMean               Geometric Mean
16. REMA                     Regularized EMA by C.Satchwell
17. ILRS                       Integral of Linear Regression Slope
18. IE\_2                       Combination of LSMA and ILRS
19. TriMAgen                Triangular Moving Average generalized by J.Ehlers
20. VWMA                    Volume Weighted Moving Average
21. JSmooth                 M.Jurik's Smoothing
22. SMA\_eq                  Simplified SMA
23. ALMA                     Arnaud Legoux Moving Average
24. TEMA                     Triple Exponential Moving Average by P.Mulloy
25. T3                         T3 by T.Tillson (correct version)
26. Laguerre                Laguerre filter by J.Ehlers
27. MD                         McGinley Dynamic
28. BF2P                      Two-pole modified Butterworth filter by J.Ehlers
29. BF3P                      Three-pole modified Butterworth filter by J.Ehlers
30. SuperSmu               SuperSmoother by J.Ehlers
31. Decycler                 Simple Decycler by J.Ehlers
32. eVWMA                   Modified eVWMA
33. EWMA                     Exponential Weighted Moving Average
34. DsEMA                    Double Smoothed EMA
35. TsEMA                     Triple Smoothed EMA
36. VEMA                      Volume-weighted Exponential Moving Average(V-EMA)

The choice of prices used to build moving averages:

1. close                       Close
2. open                        Open
3. high                         High
4. low                          Low
5. median                    Median
6. typical                     Typical
7. weightedClose          Weighted Close
8. medianBody             Median Body (Open+Close)/2
9. average                    Average (High+Low+Open+Close)/4
10. trendBiased              Trend Biased
11. trendBiasedExt         Trend Biased(extreme)
12. haClose                    Heiken Ashi Close
13. haOpen                    Heiken Ashi Open
14. haHigh                     Heiken Ashi High
15. haLow                      Heiken Ashi Low
16. haMedian                  Heiken Ashi Median
17. haTypical                  Heiken Ashi Typical
18. haWeighted               Heiken Ashi Weighted Close
19. haMedianBody           Heiken Ashi Median Body
20. haAverage                 Heiken Ashi Average
21. haTrendBiased           Heiken Ashi Trend Biased
22. haTrendBiasedExt      Heiken Ashi Trend Biased(extreme)

---

TimeFrame                            = 0                   Selecting the timeframe  
Price                                     = 0                   Choice of prices used  
MA\_Period                             = 14                 Averaging period of the moving average  
MA\_Shift                               = 0                   Shift the moving average by a specified number of periods

**Last comments |
[Go to discussion](/en/forum/445676)**
(9)

![Theduke646](https://c.mql5.com/avatar/avatar_na2.png "Theduke646")

**[Theduke646](/en/users/theduke646)**
|
17 Mar 2024 at 13:15

**Desmond011 [#](/en/forum/445676#comment_52673481):**  
 How can the indicator be used to get buy and [sell signals](/en/articles/591 "Article: How to Become a Signal Provider for MetaTrader 4 and MetaTrader 5 ") ?

a) Color change from Blue to Orange: Sell.

b) Color Change from Orage to Blue: Buy.

c) Activate signaling options, then you should get E-Mail-notifications about the color change.

a), b) and c) are personal guesses, i did not check it by running the indicator.

![Tautvydas Vaitkus](https://c.mql5.com/avatar/2023/12/65722f5c-f3d6.png "Tautvydas Vaitkus")

**[Tautvydas Vaitkus](/en/users/tauv)**
|
8 Apr 2024 at 16:05

Hi, [IVAN ASTAFUROV](/en/users/inokoast)  
  
Thank you again for putting all together, this is a wonderful combo of tool!  
  
If anyone having issues where backtester showing different results in Visual and Non-Visual mode:  
  
**Add the following line in the top:**

```mql5
#property tester_everytick_calculate
```

This will ensure that no ticks are skipped, as Non-Visual backtester tends to skip some ticks which leads to inaccurate data.

![dawsonsg](https://c.mql5.com/avatar/avatar_na2.png "dawsonsg")

**[dawsonsg](/en/users/dawsonsg)**
|
15 Jun 2024 at 04:18

**Tau Vaitkus [#](/en/forum/445676#comment_52981909):**  

Hi, [IVAN ASTAFUROV](/en/users/inokoast)  
  
Thank you again for putting all together, this is a wonderful combo of tool!  
  
If anyone having issues where backtester showing different results in Visual and Non-Visual mode:  
  
**Add the following line in the top:**

This will ensure that no ticks are skipped, as Non-Visual backtester tends to skip some ticks which leads to inaccurate data.

He didnt put this together. It was developed by Igor Durkin from Trend Laboratory.

![Nisaba707](https://c.mql5.com/avatar/2024/6/66620c96-eee7.jpg "Nisaba707")

**[Nisaba707](/en/users/10049195)**
|
10 Aug 2024 at 00:05

TO jest najzwyklejsza SMA period 14 na każdym TF.

![Queensha GD](https://c.mql5.com/avatar/2024/10/670677f0-d979.jpg "Queensha GD")

**[Queensha GD](/en/users/tradermayu)**
|
21 Aug 2024 at 19:25

very good indicator...

![Exponential Commodity Channel Index](https://c.mql5.com/i/code/indicator.png)
[Exponential Commodity Channel Index](/en/code/43863)

Commodity Channel Index using exponential moving averages.

![MoveStopLoss](https://c.mql5.com/i/code/expert.png)
[MoveStopLoss](/en/code/43793)

Move the stoploss as the trade moves in your direction at a specific distance.

![Change TPSL By Percentage](https://c.mql5.com/i/code/expert.png)
[Change TPSL By Percentage](/en/code/43951)

The Expert will help you change the TP/SL of all open orders by setting the TP/SL based on the input percentage value.

![Ofir Blue Telegram API for any indicator](https://c.mql5.com/i/code/indicator.png)
[Ofir Blue Telegram API for any indicator](/en/code/43921)

Connect your indicator to Telegram with 3 lines of code
This sample code enables to connect your indicator to Ofir Blue, the first trading application for Telegram