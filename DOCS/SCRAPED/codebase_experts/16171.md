# Elliott_Wave_Oscillator_Sign_Alert - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/16171

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16171) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Elliott\_Wave\_Oscillator\_Sign\_Alert - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/16171) [中文](/zh/code/16171) [Español](/es/code/16171) [Deutsch](/de/code/16171) [日本語](/ja/code/16171) [Português](/pt/code/16171)

Views:
:   9313

Rating:
:   (15)

Published:
:   19 September 2016, 12:50

Updated:
:   29 March 2023, 13:47
:   [Elliott\_Wave\_Oscillator\_Sign\_Alert.mq5](/en/code/download/16171/Elliott_Wave_Oscillator_Sign_Alert.mq5 "Elliott_Wave_Oscillator_Sign_Alert.mq5")
    (15.69 KB)
    [view](# "view")

    \MQL5\Include\

    [SmoothAlgorithms.mqh](/en/code/download/16171/SmoothAlgorithms.mqh "SmoothAlgorithms.mqh")
    (130.2 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16171.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Real author:**

Semaphore signal indicator based on the algorithm of the [Elliott\_Wave\_Oscillator](/en/code/15260) indicator, which features alerts, sending emails and push-notifications to mobile devices.

The following changes have been made to the indicator code in order to implement the alerts, email messages and push-notifications:

1. Introduced new input parameters

   ```mql5
   input uint NumberofBar=1;//Bar number for the signal
   input bool SoundON=true; //Enable alerts
   input uint NumberofAlerts=2;//Number of alerts
   input bool EMailON=false; //Enable mailing the signal
   input bool PushON=false; //Enable sending the signal to mobile devices
   ```
2. Added three new functions to the end of the indicator code: BuySignal(), SellSignal() and GetStringTimeframe()

   ```mql5
   //+------------------------------------------------------------------+
   //| Buy signal function                                              |
   //+------------------------------------------------------------------+
   void BuySignal(string SignalSirname,      // text of the indicator name for email and push messages
                  double &BuyArrow[],        // indicator buffer with buy signals
                  const int Rates_total,     // the current number of bars
                  const int Prev_calculated, // the number of bars on the previous tick
                  const double &Close[],     // close price
                  const int &Spread[])       // spread
     {
   u//---
      static uint counter=0;
      if(Rates_total!=Prev_calculated) counter=0;
   
      bool BuySignal=false;
      bool SeriesTest=ArrayGetAsSeries(BuyArrow);
      int index;
      if(SeriesTest) index=int(NumberofBar);
      else index=Rates_total-int(NumberofBar)-1;
      if(NormalizeDouble(BuyArrow[index],_Digits) && BuyArrow[index]!=EMPTY_VALUE) BuySignal=true;
      if(BuySignal && counter<=NumberofAlerts)
        {
         counter++;
         MqlDateTime tm;
         TimeToStruct(TimeCurrent(),tm);
         string text=TimeToString(TimeCurrent(),TIME_DATE)+" "+string(tm.hour)+":"+string(tm.min);
         SeriesTest=ArrayGetAsSeries(Close);
         if(SeriesTest) index=int(NumberofBar);
         else index=Rates_total-int(NumberofBar)-1;
         double Ask=Close[index];
         double Bid=Close[index];
         SeriesTest=ArrayGetAsSeries(Spread);
         if(SeriesTest) index=int(NumberofBar);
         else index=Rates_total-int(NumberofBar)-1;
         Bid+=Spread[index];
         string sAsk=DoubleToString(Ask,_Digits);
         string sBid=DoubleToString(Bid,_Digits);
         string sPeriod=GetStringTimeframe(ChartPeriod());
         if(SoundON) Alert("BUY signal \n Ask=",Ask,"\n Bid=",Bid,"\n currtime=",text,"\n Symbol=",Symbol()," Period=",sPeriod);
         if(EMailON) SendMail(SignalSirname+": BUY signal alert","BUY signal at Ask="+sAsk+", Bid="+sBid+", Date="+text+" Symbol="+Symbol()+" Period="+sPeriod);
         if(PushON) SendNotification(SignalSirname+": BUY signal at Ask="+sAsk+", Bid="+sBid+", Date="+text+" Symbol="+Symbol()+" Period="+sPeriod);
        }
   
   u//---
     }
   //+------------------------------------------------------------------+
   //| Sell signal function                                             |
   //+------------------------------------------------------------------+
   void SellSignal(string SignalSirname,      // text of the indicator name for email and push messages
                   double &SellArrow[],       // indicator buffer with sell signals
                   const int Rates_total,     // the current number of bars
                   const int Prev_calculated, // the number of bars on the previous tick
                   const double &Close[],     // close price
                   const int &Spread[])       // spread
     {
   u//---
      static uint counter=0;
      if(Rates_total!=Prev_calculated) counter=0;
   
      bool SellSignal=false;
      bool SeriesTest=ArrayGetAsSeries(SellArrow);
      int index;
      if(SeriesTest) index=int(NumberofBar);
      else index=Rates_total-int(NumberofBar)-1;
      if(NormalizeDouble(SellArrow[index],_Digits) && SellArrow[index]!=EMPTY_VALUE) SellSignal=true;
      if(SellSignal && counter<=NumberofAlerts)
        {
         counter++;
         MqlDateTime tm;
         TimeToStruct(TimeCurrent(),tm);
         string text=TimeToString(TimeCurrent(),TIME_DATE)+" "+string(tm.hour)+":"+string(tm.min);
         SeriesTest=ArrayGetAsSeries(Close);
         if(SeriesTest) index=int(NumberofBar);
         else index=Rates_total-int(NumberofBar)-1;
         double Ask=Close[index];
         double Bid=Close[index];
         SeriesTest=ArrayGetAsSeries(Spread);
         if(SeriesTest) index=int(NumberofBar);
         else index=Rates_total-int(NumberofBar)-1;
         Bid+=Spread[index];
         string sAsk=DoubleToString(Ask,_Digits);
         string sBid=DoubleToString(Bid,_Digits);
         string sPeriod=GetStringTimeframe(ChartPeriod());
         if(SoundON) Alert("SELL signal \n Ask=",Ask,"\n Bid=",Bid,"\n currtime=",text,"\n Symbol=",Symbol()," Period=",sPeriod);
         if(EMailON) SendMail(SignalSirname+": SELL signal alert","SELL signal at Ask="+sAsk+", Bid="+sBid+", Date="+text+" Symbol="+Symbol()+" Period="+sPeriod);
         if(PushON) SendNotification(SignalSirname+": SELL signal at Ask="+sAsk+", Bid="+sBid+", Date="+text+" Symbol="+Symbol()+" Period="+sPeriod);
        }
   u//---
     }
   //+------------------------------------------------------------------+
   //|  Getting the timeframe as a string                               |
   //+------------------------------------------------------------------+
   string GetStringTimeframe(ENUM_TIMEFRAMES timeframe)
     {
   //----
      return(StringSubstr(EnumToString(timeframe),7,-1));
   //----
     }
   ```
3. Added a couple of calls to BuySignal() and SellSignal() functions after the indicator calculation cycles in the OnCalculate() block

   ```mql5
   u//---     
      BuySignal("Elliott_Wave_Oscillator_Sign",BuyBuffer,rates_total,prev_calculated,close,spread);
      SellSignal("Elliott_Wave_Oscillator_Sign",SellBuffer,rates_total,prev_calculated,close,spread);
   u//--- 
   ```

Where BuyBuffer and SellBuffer are the names of the indicator buffers for storing the buy and sell signals. As the empty values in the indicator buffers either zeros or EMPTY\_VALUE must be set.

It is assumed that the only one call to the BuySignal() and SellSignal() functions will be used in the OnCalculate() block of the indicator code.

The original indicator had already included a functional code for generating alerts, which was removed as unnecessary.

The indicator uses SmoothAlgorithms.mqh library classes (copy it to <terminal\_data\_folder>\MQL5\Include). The use of the classes was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](/en/articles/180).

Originally this indicator has been written in MQL5 and was first published in the [Code Base](/en/code/7968) on 26.04.2016.

![Fig.1. The Elliott_Wave_Oscillator_Sign_Alert indicator on the chart](https://c.mql5.com/18/52/picture_1__4.png "Fig.1. The Elliott_Wave_Oscillator_Sign_Alert indicator on the chart")

Fig.1. The Elliott\_Wave\_Oscillator\_Sign\_Alert indicator on the chart

![Fig.2. The Elliott_Wave_Oscillator_Sign_Alert indicator. Generating alerts.](https://c.mql5.com/18/52/picture_2__12.png "Fig.2. The Elliott_Wave_Oscillator_Sign_Alert indicator. Generating alerts.")

Fig.2. The Elliott\_Wave\_Oscillator\_Sign\_Alert indicator. Generating alerts.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16171](/ru/code/16171)

**[Go to discussion](/en/forum/95743)**

![Price_Compare](https://c.mql5.com/i/code/library.png)
[Price\_Compare](/en/code/16169)

Elegant and nimble comparison of 'double' values of the "price".

![XFatlXSatlCloud](https://c.mql5.com/i/code/indicator.png)
[XFatlXSatlCloud](/en/code/16163)

Indicator based on smoothed FATL and SATL digital filters and signal trend cloud between them.

![i4_DRF_v3](https://c.mql5.com/i/code/indicator.png)
[i4\_DRF\_v3](/en/code/16172)

A simple trend indicator with calculation of rise and fall in High and Low prices.

![BS_Living_Now](https://c.mql5.com/i/code/indicator.png)
[BS\_Living\_Now](/en/code/16178)

The BS Living Now indicator points at the market extremums and somewhat resembles the standard Fractals indicator.