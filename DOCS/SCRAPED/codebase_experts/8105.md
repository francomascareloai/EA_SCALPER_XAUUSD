# MA.S.R_Trading - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/8105

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/8105) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# MA.S.R\_Trading - expert for MetaTrader 4

[Юрий](/en/users/fortrader.ru)  |
[English](javascript:void(false);)

[Русский](/ru/code/8105) [中文](/zh/code/8105) [Español](/es/code/8105) [Deutsch](/de/code/8105) [日本語](/ja/code/8105) [Português](/pt/code/8105)

Views:
:   12876

Rating:
:   (2)

Published:
:   5 May 2008, 07:42

Updated:
:   21 April 2014, 14:52
:   [MA\_S\_R\_Trading.mq4](/en/code/download/8105/MA_S_R_Trading.mq4 "MA_S_R_Trading.mq4")
    (2.29 KB)
    [view](# "view")

    [MA\_S\_R\_Trading\_02.mq4](/en/code/download/8105/MA_S_R_Trading_02.mq4 "MA_S_R_Trading_02.mq4")
    (2.29 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/8105.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The strategy underlying this EA is based on the indicator of MA.

A detailed article about the system testing is available in the issue of our magazine from 28.04.2008:
You can discuss and suggest some elaborations for it on our forum at: [http://fortrader.ru/forum/viewtopic.php?t=74](https://www.mql5.com/go?link=http://fortrader.ru/forum/viewtopic.php?t=65 "http://fortrader.ru/forum/viewtopic.php?t=65")

### Description:

Trading strategy algorithm:

1. Opening a 4-hour chart for EURUSD, lots 0.1.  
2. Drawing an MA with the period of 5.

Signal to buy: Indicator MA has formed a trough.

Signal to sell:
Indicator MA has formed a peak.

The trades will be closed by StopLoss. For placing a StopLoss, we should find the MA inflection (trough or peak) and detect: for Buy, the minimum price value for 10 bars in history; for Sell, the maximum price value for 10 bars in history. Then place a StopLoss. We should perform checks at each formation of trough (for Buy) or peak (for Sell) and modify the StopLoss, if necessary.

### Image:

Once having tested the above rules on the period from 2007.01.11 to 2008.01.11, we obtained the following results (Open prices):

![](https://c.mql5.com/18/17/ZA.gif)

Having optimized the results for the same period, we obtained the following result of the EA operations:

![](https://c.mql5.com/18/17/ZA_opt.gif)

Profit factor is 3.70, expected payoff is 76.74!

You can also see the forward test of the optimized area for EURUSD and the EA tests for GBPJPY in the issue of our magazine from 28.04.2008:

The latest issue of the magazine can be downloaded from: [http://fortrader.ru/downloads/redirect.php?dlid=34](https://www.mql5.com/go?link=http://fortrader.ru/downloads/redirect.php?dlid=34 "http://fortrader.ru/downloads/redirect.php?dlid=34")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/8105](/ru/code/8105)

**[Go to discussion](/en/forum/29297)**

![up3x1_premium_v2M](https://c.mql5.com/i/code/expert.png)
[up3x1\_premium\_v2M](/en/code/7912)

This automated trading system is intended for working with the currency pair of eur/usd in the one-hour chart. Excellent results.

![TREND_alexcud v_2](https://c.mql5.com/i/code/expert.png)
[TREND\_alexcud v\_2](/en/code/8004)

The EA is based on the indicator TREND\_alexcud Something goes wrong with it

![Hercules A.T.C. 2006 EA](https://c.mql5.com/i/code/expert.png)
[Hercules A.T.C. 2006 EA](/en/code/8104)

High-Probability Breakout EA with very favorable risk:reward ratio.

![Visual Start](https://c.mql5.com/i/code/indicator.png)
[Visual Start](/en/code/7995)

A code/method to test the redrawing indicators, by the example of FxmFish