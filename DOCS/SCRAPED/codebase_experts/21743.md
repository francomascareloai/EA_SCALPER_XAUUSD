# 55 MA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/21743

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/21743) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# 55 MA - expert for MetaTrader 5

costy\_  |
[English](javascript:void(false);)

[Русский](/ru/code/21743) [中文](/zh/code/21743) [Español](/es/code/21743) [Deutsch](/de/code/21743) [日本語](/ja/code/21743) [Português](/pt/code/21743)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6279

Rating:
:   (16)

Published:
:   27 September 2018, 15:44
:   [55 MA.mq5](/en/code/download/21743/55_ma.mq5 "55 MA.mq5")
    (40.29 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/21743.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Idea by**: [costy\_](/en/users/costy_ "costy_ (costy_)")

**MQL5 code author**: [barabashkakvn](/en/users/barabashkakvn)

The iMA (Moving Average, MA) indicator in this Expert Advisor allows changing the timeframe (**MA: timeframe**), horizontal shift (**MA: horizontal shift**), averaging method (**MA: smoothing type**) and applied price (**MA: type of price**) - i.e. all parameters except the averaging period. The averaging period is provided in the code and is equal to 55 (this number is used in the EA name).

### How it works

The EA only operates during a new bar formation. As soon as the current time (only hours, without minutes and seconds) enters the interval from **Start hour** to **End hour**, the Expert Advisor requests data from the indicator. It does not just request data from bar #0 and #1, but it requests data from **Bar number #A** and **Bar number #B**.

Then the values ​​on these two bars are compared: if the difference between them is greater than or equal to **Difference between bars #A and #B** - a position open signal will be generated. The **Reverse signals** function is disabled by default (set to **false**), and the following rules apply to a signal:

* A BUY signal: MA(**Bar number #A**) > MA(**Bar number #B**) + **Difference between bars #A and #B**;
* A SELL signal: MA(**Bar number #A**) < MA(**Bar number #B**) - **Difference between bars #A and #B**.

If you enable closing of opposite positions (set **Close opposite positions** to **true**), Sell positions will be closed at the final BUY signal and vice versa.

### Volume calculation

Position volume can be fixed - in this case it is specified by the **Lots** or calculated based on the Risk parameter (**Lots** must be equal to zero in this case).

### How to optimize

You should optimize the EA individually for each symbol and timeframe. Since the EA only performs operations at the new bar formation time, the genetic optimization can be performed in the "1 minute OHLC" tick generation mode.

The figure shows approximate parameter limits for timeframes from M15 to H1:

![55 MA optimization](https://c.mql5.com/18/72/55_MA_optimization__1.png "55 MA optimization")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/21743](/ru/code/21743)

**[Go to discussion](/en/forum/281290)**

![SVE_ARSI](https://c.mql5.com/i/code/indicator.png)
[SVE\_ARSI](/en/code/21741)

The SVE\_ARSI (Sylvain Vervoort's Asymmetrical RSI) indicator was described in the October '08 issue of the "Stocks & Commodities" magazine.

![Demand_Index](https://c.mql5.com/i/code/indicator.png)
[Demand\_Index](/en/code/21740)

The Demand\_Index indicator developed by James Sibbet combines the price and volume, and is often considered a leading indicator of price change.

![TD_I](https://c.mql5.com/i/code/indicator.png)
[TD\_I](/en/code/21746)

The TD\_I indicator (Thomas DeMark Indicator) is a modified version of the standard DeMarker Indicator by Thomas R. DeMark.

![UltraMFI](https://c.mql5.com/i/code/indicator.png)
[UltraMFI](/en/code/21750)

This indicator is based on MFI (Money Flow Index) and its multiple signal lines analysis.