# Boom Index Spike Pattern - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/61749

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/61749) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Boom Index Spike Pattern - indicator for MetaTrader 5

[Israr Hussain Shah](/en/users/searchmixed)  |
[English](javascript:void(false);)

[Русский](/ru/code/61749) [中文](/zh/code/61749) [Español](/es/code/61749) [Deutsch](/de/code/61749) [日本語](/ja/code/61749) [Português](/pt/code/61749) [한국어](/ko/code/61749) [Français](/fr/code/61749) [Italiano](/it/code/61749) [Türkçe](/tr/code/61749)

Views:
:   6986

Rating:
:   (3)

Published:
:   21 July 2025, 10:06

Updated:
:   21 July 2025, 12:15
:   [candel 2.mq5](/en/code/download/61749/candel_2.mq5 "candel 2.mq5")
    (10.74 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/61749.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### 

#### **Bullish Spike Pattern Detection**

* 3-bar pattern:

  + **1st candle:** Green with large body (bullish spike).
  + **2nd candle:** Red (pullback).
  + **3rd candle:** Green with large body (bullish spike).
* When this pattern appears, a **zone is created**.

### 

#### **Zone Creation**

* A **blue rectangle** is drawn from the high/low range of the 3 candles.
* A **lime green horizontal entry line** is drawn at the open price of the middle (2nd) candle.
* The line extends far into the future until price comes back.
* [![](https://c.mql5.com/18/165/Boom_1000_IndexM5__1.png)](https://c.mql5.com/18/165/Boom_1000_IndexM5.png "https://c.mql5.com/18/165/Boom_1000_IndexM5.png")

### INPUTS EXPLAINED

```mql5
mq5
input color BoxColor = clrBlue;              // Color of the 3-candle pattern box
input color EntryLineColor = clrLime;        // Color of the entry line
input ENUM_LINE_STYLE EntryLineStyle = STYLE_SOLID; // Style of the entry line
input int BoxWidth = 2;                      // Width of box border
input int EntryLineWidth = 2;                // Width of entry line
input int EntryLineLength = 200;             // How far the mitigation line extends
```
These inputs let you fully control the style of the box and entry line.

```

**CORE IDEA**

We look for a 3-candle bullish pattern

1. First candle– strong bullish (spike)

2. Second candle – bearish retracement

3. Third candle– strong bullish spike again

When this appears, we draw:

- A box around the pattern

- A horizontal line at the 2nd candle’s open (entry point

Once price returns to that line ("mitigation"), we cut the line short and avoid redrawing it.

### 

### DATA STRUCTURES

```mql5
struct PatternInfo {
  datetime time;   // Time of the pattern
  double entry;    // Entry price (open of 2nd candle)
  double high;     // Highest high of the 3 candles
  double low;      // Lowest low of the 3 candles
  bool mitigated;  // Has price returned to entry level?
};

CArrayObj activePatterns;
```
We use a struct `PatternInfo` to track each valid pattern and store it in an array. This helps avoid repeated processing.
```

### ON INIT FUNCTION

```mql5
int OnInit() {
  IndicatorSetInteger(INDICATOR_DIGITS, _Digits);
  ArrayInitialize(activePatterns, 0);
  return INIT_SUCCEEDED;
}
```
We set the indicator precision and prepare our array.
```

### 

### PATTERN DETECTION (ON EACH TICK)

```mql5
```mq5
for (int i = limit - 3; i >= 0; i--) {
```
We loop through candles and look 3 bars back.

```mq5
if (isBullish(i+2) && isBearish(i+1) && isBullish(i))
```
We check if the last 3 candles fit the spike pattern: Green-Red-Green.

```mq5
double high = MathMax(MathMax(High[i], High[i+1]), High[i+2]);
double low = MathMin(MathMin(Low[i], Low[i+1]), Low[i+2]);
double entry = Open[i+1];
```
We extract high/low for box and the entry level from the 2nd (middle) candle.

```mq5
PatternInfo *pattern = new PatternInfo;
pattern.time = Time[i];
pattern.entry = entry;
pattern.high = high;
pattern.low = low;
pattern.mitigated = false;
```
Create and add this pattern to our list.
```

DRAW BOX AND LINE

```mql5
```mq5
string boxName = "Box_" + IntegerToString(Time[i]);
ObjectCreate(0, boxName, OBJ_RECTANGLE, 0, Time[i+2], high, Time[i], low);
```
Draw the rectangle (box) from the 3-candle pattern.

```mq5
string lineName = "EntryLine_" + IntegerToString(Time[i]);
ObjectCreate(0, lineName, OBJ_TREND, 0, Time[i], entry, Time[i] + PeriodSeconds() * EntryLineLength, entry);
```
Draw the entry line from the 2nd candle’s open forward in time.
```

### MITIGATION CHECK (ON EACH TICK)

```mql5
Loop through all patterns:
```mq5
for (int p = 0; p < activePatterns.Total(); p++) {
  PatternInfo *pt = (PatternInfo*)activePatterns.At(p);
```
If not already mitigated, check:
```mq5
if (!pt.mitigated && Low[0] <= pt.entry)
```
If current price hits the entry level:
```mq5
pt.mitigated = true;
ObjectDelete("EntryLine_" + IntegerToString(pt.time));
```
Delete original long line.

```mq5
ObjectCreate(0, "MitigatedLine_" + IntegerToString(pt.time), OBJ_TREND, 0,
pt.time, pt.entry,
Time[0], pt.entry);
```
Create a short line showing where mitigation happened.
```

```mql5
HELPER FUNCTIONS

### Check Bullish/Bearish:
```mq5
bool isBullish(int i) {
  return Close[i] > Open[i];
}

bool isBearish(int i) {
  return Close[i] < Open[i];
}
```

  

This indicator is simple yet powerful:

* Detects real spike behavior in Boom
* Visualizes smart money entries
* Automatically detects mitigation

You can now test it live on Boom 500 or Boom 1000.

thanks comment if you want to ask or share .

**[Go to discussion](/en/forum/491504)**

![CBitBuffer Class - Data Serialization in MQL5](https://c.mql5.com/i/code/library.png)
[CBitBuffer Class - Data Serialization in MQL5](/en/code/61728)

A class for reading and writing individual bits or bit sequences to and from a buffer.

![Crash Spike Trade Pattern](https://c.mql5.com/i/code/indicator.png)
[Crash Spike Trade Pattern](/en/code/61729)

This indicator detects a specific bearish spike formation over 3 candles

![Seven strategies in One expert](https://c.mql5.com/i/code/expert.png)
[Seven strategies in One expert](/en/code/61921)

Name of expert is 'MultiStrategyEA'

![ServerTime](https://c.mql5.com/i/code/indicator.png)
[ServerTime](/en/code/61994)

A lightweight, customizable tool that displays server time on your chart for precise trading decisions.