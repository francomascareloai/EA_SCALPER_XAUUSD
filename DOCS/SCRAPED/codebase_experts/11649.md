# RoNz Auto SL-TS-TP v2.06 - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/11649

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/11649) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# RoNz Auto SL-TS-TP v2.06 - expert for MetaTrader 4

[Roni Nafrianto](/en/users/ronz)

Views:
:   186474

Rating:
:   (273)

Published:
:   9 February 2015, 11:03

Updated:
:   31 May 2018, 10:46
:   [RoNz Auto SL-TS-TP.mq4](/en/code/download/11649/ronz_auto_sl-ts-tp.mq4 "RoNz Auto SL-TS-TP.mq4")
    (13.56 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/11649.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

EA for Automatic Stop Loss, Take Profit, Profit Lock, and Trailing Stop (With Special Methods). SL and TP could be hidden.

### Input parameters

![Ronz Auto SL TS TP Input Params](https://c.mql5.com/18/47/bb.png "Ronz Auto SL TS TP Input Params")

### Changes

v. 1.0:

* Auto SL and TP.

v. 1.22:

* Correcting Minimum Stop Level.

v. 2.0:

* Added modes for SL and TP (Hidden or Placed).
* Added profit lock.
* Added stepping Trailing Stop.

v. 2.01:

* Added option to enable/disable alert when closed by hidden SL/TP.

v. 2.03:

* Fixed initial locking profit.
* Fixed trailing stop.

v. 2.04:

* Fixed trailing stop step that moving against entry price.
* Rearrange lock profit to a function.

v. 2.05:

* Added Trailing Stop Method (Classic, Step Keep Distance, Step By Step)

v. 2.06:

* Added Option to Enable/Disable Profit Lock

### Note

* First of all, your orders SL and TP must be set to 0, then this EA will set appropriate SL and TP.
* To disable SL, TP, Profit Lock, and Trailing Stop, set its value to 0.

### Credits

* [Dedi Sucianto](/en/users/dedy_sucianto) for Profit Lock idea and testing.
* All users who find bugs in this EA.

**Last comments |
[Go to discussion](/en/forum/40642)**
(400)

![Shimon Prigozhin](https://c.mql5.com/avatar/avatar_na2.png "Shimon Prigozhin")

**[Shimon Prigozhin](/en/users/prigo)**
|
1 Feb 2025 at 06:53

i've set classic trailing and can see that sl price set and removed rapidly while [price changed](https://www.mql5.com/en/docs/constants/errorswarnings/enum_trade_return_codes "MQL5 Documentation: Prices have changed") sometimes to right direction and sometimes not .

its supposed to be set once and moves if price goes in my favor .

what can be reason for this ?

classic 25/5 ( default settings are 50/10 )

![dariuszek1983](https://c.mql5.com/avatar/avatar_na2.png "dariuszek1983")

**[dariuszek1983](/en/users/dariuszek1983)**
|
3 Mar 2025 at 06:47

Can someone make the trailing trade hidden from the broker?

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
3 Mar 2025 at 10:43

**Shimon Prigozhin [#](/en/forum/40642/page40#comment_55790648):**  

i've set classic trailing and can see that sl price set and removed rapidly while [price changed](/en/docs/constants/errorswarnings/enum_trade_return_codes "MQL5 Documentation: Prices have changed") sometimes to right direction and sometimes not .

its supposed to be set once and moves if price goes in my favor .

what can be reason for this ?

classic 25/5 ( default settings are 50/10 )

there are several styles of trail stops that is coded into the ea. The style you have described is just 1 style. I, for one, have loved the style of ronz trail stop for years and years.

You can find the style that you have described if you set the right settings and menus in the ea. I can not remember which menus will be the style you describe; however, I do not use the trail stop you describe.

![mmswe](https://c.mql5.com/avatar/avatar_na2.png "mmswe")

**[mmswe](/en/users/mmswe)**
|
22 Apr 2025 at 04:32

Hi Ron, you are such a wonderful help to users like us. I appreciate it very much! I would like to request an update feature with ChartSymbolSelection.

Could you please add the feature to filter the trade to modify SL/TP based on Magic Number and Comments instead of the current 2 options listed: All trades and Attached to Chart?

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
22 Apr 2025 at 07:27

**mmswe [#](/en/forum/40642/page40#comment_56513840):**  

Hi Ron, you are such a wonderful help to users like us. I appreciate it very much! I would like to request an update feature with ChartSymbolSelection.

Could you please add the feature to filter the trade to modify SL/TP based on Magic Number and Comments instead of the current 2 options listed: All trades and Attached to Chart?

try this. Note that i compiled it, but not tested it. Let me know how it goes or if it dont.

if you select Comments in the menu, you also need to add your comment below that.

if you select Magic in the menu, you also need to add your Magic number below that.

FilterComment and FilterMagic will only work if you select it also in the menu.

![CSPA 1.43](https://c.mql5.com/i/code/expert.png)
[CSPA 1.43](/en/code/12383)

CSPA is a multi currency Expert Advisor, it uses the currency strengths to open trades on the best pairs.

![MPM 1.8](https://c.mql5.com/i/code/expert.png)
[MPM 1.8](/en/code/12390)

MPM is a stop reverse strategy.

![Indicator Arrows](https://c.mql5.com/i/code/indicator.png)
[Indicator Arrows](/en/code/12412)

Up/Down arrows drawn in chart window.

![Profit Counter](https://c.mql5.com/i/code/expert.png)
[Profit Counter](/en/code/12207)

It's a hedging Expert Advisor, which trades only one time per day.