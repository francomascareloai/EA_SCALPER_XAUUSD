# ZZ Color Retracement - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/16019

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16019) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# ZZ Color Retracement - indicator for MetaTrader 5

[Deleted]  |
[English](javascript:void(false);)

[Русский](/ru/code/16019) [中文](/zh/code/16019) [Español](/es/code/16019) [Deutsch](/de/code/16019) [日本語](/ja/code/16019) [Português](/pt/code/16019)

Views:
:   9943

Rating:
:   (19)

Published:
:   10 October 2016, 15:33
:   [simplezzcolorretracement.mq5](/en/code/download/16019/simplezzcolorretracement.mq5 "simplezzcolorretracement.mq5")
    (7.32 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16019.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The ZZ Color Retracement based on the Simple ZigZag indicator. In addition to the functionality of the base indicator, the Color Retracemnt analyzes the length of wave movements, highlighting the longer impulse movements in blue and the shorter retracements in red. Medium sized waves are highlighted in gray.

Automation of many graphical constructions, including simple ones like channels, trends (higher highs / lower lows) or Fibo grids, requires defining a "refined movement", i.e. price passing from local minimum to local maximum and from local maximum to local minimum. The ZigZag indicator is most efficient in searching for such movements, as well as in looking for local Highs and Lows.

I have already proposed a simple algorithm for searching local Highs and Lows implemented in [Simple ZigZag](/en/market/product/17559). The main difference of [Simple ZigZag](/en/market/product/17559) from the conventional one is the much more simple and fast algorithm, as well as the single parameter — typical correction depth.

The ZZ Color Retracement indicator is the development of the idea of automating analytical ZigZag-based constructions. In particular, the indicator detects significant impulse movement and colors them in blue. Short corrective movements are shown in red, while medium flat areas are painted in neutral gray.

The following inputs are used to adjust the indicator:

* Typical retracement size — is inherited from the parent indicator — Simple ZigZag.
* Moves averaging period — number of ZigZag movements used for calculating the "average movement".
* Percentage difference — the threshold ratio of the last ZigZag movement to the moving average pass. If the ratio exceeds 1 + parameter, the movement is considered to be impulse; if it is lower than 1 - parameter, the movement is considered to be corrective; if it is in the middle ([1 - parameter, 1 + parameter]), the movement is flat.

![Indicator ZZ Color Retracement uses three parameters.](https://c.mql5.com/18/52/ZZ_Color_Retracement_Parameters_Window.png "Indicator ZZ Color Retracement uses three parameters.")

Now, that we have made ZigZag to detect impulse passes, our next step is to apply the Fibo grid.

![ZZ Color retracement could differentiate impulse moves and retracements](https://c.mql5.com/18/52/ZZ_Color_Retracement_Chart_Window.png "ZZ Color retracement could differentiate impulse moves and retracements")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16019](/ru/code/16019)

**[Go to discussion](/en/forum/97510)**

![i-CAiChannel_HTF](https://c.mql5.com/i/code/indicator.png)
[i-CAiChannel\_HTF](/en/code/16016)

The i-CAiChannel indicator with the timeframe selection option available in input parameters.

![Exp_i-CAi_StDev](https://c.mql5.com/i/code/expert.png)
[Exp\_i-CAi\_StDev](/en/code/16015)

Trading system based on the signals of the i-CAi\_StDev indicator.

![PFE](https://c.mql5.com/i/code/indicator.png)
[PFE](/en/code/16020)

Oscillator with calculations using an algorithm similar to Kaufmann's AMA.

![DSSBressertSign](https://c.mql5.com/i/code/indicator.png)
[DSSBressertSign](/en/code/16021)

Semaphore signal indicator based on the DSSBressert indicator algorithm.