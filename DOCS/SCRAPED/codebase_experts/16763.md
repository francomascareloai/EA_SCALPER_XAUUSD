# Swingchart - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/16763

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16763) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Swingchart - indicator for MetaTrader 5

[Andre Enger](/en/users/andorofo)  |
[English](javascript:void(false);)

[Русский](/ru/code/16763) [中文](/zh/code/16763) [Español](/es/code/16763) [Deutsch](/de/code/16763) [日本語](/ja/code/16763) [Português](/pt/code/16763)

Views:
:   19104

Rating:
:   (37)

Published:
:   9 November 2016, 16:02

Updated:
:   22 November 2016, 07:32
:   [SwingChart.mq5](/en/code/download/16763/swingchart.mq5 "SwingChart.mq5")
    (20.96 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16763.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

W.D. Gann was a famous trader who developed several technical analysis tools and techniques. One of these tools was the swing-chart, which can be used to identify the trend as well as to trade with it. A swing chart is constructed by first coloring the bars in comparison to their preceding bar as follows:

* Green a.k.a. "Up-day" if the bar has a higher high and higher low.
* Red a.k.a. "Down-day" if the bar has a lower low and lower high.
* Blue a.k.a. "Outside-day" if the bar has a higher high and lower low.
* Grey a.k.a. "Inside-day" or "Harami" if the bar has a lower high and higher low.

After coloring the bars as such, a ZigZag can be drawn with peaks where the colors change from green to red and troughs where the color changes from red to green.

This implementation takes care of the corner cases in the description (e.g. defining an Upday as a day where the high is higher and the low is higher *or equal*) and makes sure that the ZigZag obtained has price maximums and minimums on the peaks and troughs. It does not redraw previous swings, but several new peaks and troughs can come in a "burst" in the case of several inside-days and up/down-days without a new high/low.   
  

![](https://c.mql5.com/18/55/EURUSDDaily.png)

**Trading System:**

The trading system associated with this (and ZigZag in general) indicator is as follows:

* When a peak has formed, set buy stop above the last peak if it was higher than the next-to-last peak. Stop loss is set below the trough. In the image, one would have a buy stop on the high of the rightmost green bar, a stop loss on the low of the next red bar - and in this case be in profits already.
* When a trough has formed, sell stop below last trough if it was lower than the next-to-last trough. Stop loss is set above the peak.

**Comparison to Other ZigZags:**

When it comes to a ZigZag for use in technical analysis, EAs and indicators, there are some desirable properties which include:

1. The ZigZag should not redraw the previous peaks and troughs as new bars come in.
2. The ZigZag should find significant peaks and troughs and ignore irrelevant ones.
3. A ZigZag segment should define the maximum and minimum price on that segment.

The standard ZigZag draws nicely formed swings but is known to be able to redraw itself. Therefore it is not as useful for trading as it is for analyzing past price series. The [FastZZ](/en/code/1027) (and ZigZags like it) work by defining retracement size and considers price only. If set too high, many significant peaks and troughs can be skipped, and if set too low there can be irrelevant peaks and troughs. The Swingchart ZigZag can be seen as a mid-point between these two, not redrawing itself but also capable of considering a dynamic price range. Its main advantage is that it finds all relevant peaks and troughs and can be used in other applications which require a fine-grained peak/trough ordering.

**Last comments |
[Go to discussion](/en/forum/160662)**
(1)

![vvm-55](https://c.mql5.com/avatar/avatar_na2.png "vvm-55")

**[vvm-55](/en/users/vvm-55)**
|
23 Apr 2024 at 10:14

I use this indicator for two legged PuB trading
It works perfectly!!!!!
Many Thanks for Ur Job
vvm

![STARC bands](https://c.mql5.com/i/code/indicator.png)
[STARC bands](/en/code/16864)

Variation of well know STARC (Stoller Average Range Channels) bands.

![Elder Auto Envelopes](https://c.mql5.com/i/code/indicator.png)
[Elder Auto Envelopes](/en/code/16807)

The upgraded indicator: now it has new price types and different display type.

![Swing line - extended version](https://c.mql5.com/i/code/indicator.png)
[Swing line - extended version](/en/code/16879)

Extended swing line indicator

![Double smoothed stochastic](https://c.mql5.com/i/code/indicator.png)
[Double smoothed stochastic](/en/code/16889)

Double smoothed stochastic - extended