# MT4 to MT5 Convertor (MT5Compat.mqh) - library for MetaTrader 5

Source: https://www.mql5.com/en/code/53547

MetaTrader 5 /
Libraries

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

# MT4 to MT5 Convertor (MT5Compat.mqh) - library for MetaTrader 5

OrderManagement is by @fxSaber https://www.mql5.com/en/users/fxsaber

11068

(9)

### **ðŸ“¢ MT5Compat a Comprehensive MT4 to MT5 Conversion Library**Â ðŸš€

A newÂ **interface library**Â has been developed to simplify the process of converting MT4 indicators and Expert Advisors (EAs) to MT5. This library supports most of the MetaTrader 4 functions, offering developers a unified solution for cross-platform compatibility.

You can add this to both

---

### **ðŸŒŸ Key Features:**

âœ…Â **Extensive MT4 Function Support**: Seamlessly integrates widely-used MT4 functions into MT5 projects. (Order part created byÂ [@fxSaber](/en/users/fxsaber))  
âœ…Â **Customizable**: Developers can expand the library by adding additional functions as required.  
âœ…Â **Unified Codebase**: Enables writing a single codebase that works flawlessly for bothÂ **MT4 and MT5**.  
âœ…Â **Flexible Integration Options**: The library can be included as aÂ Â .mqhÂ Â file or directly integrated into an EA or indicator.

---

### **ðŸ› ï¸ How It Works:**

1ï¸âƒ£ Integrate your MT4 EA or indicator code with the provided library functions.  
2ï¸âƒ£ Use theÂ Â .mqhÂ Â file to incorporate the library into your project.  
3ï¸âƒ£ Write your logic once and achieve full compatibility with bothÂ **MT4 and MT5**.  
4ï¸âƒ£ You need to replace these functions with the compat version in order to be compatible with both platform with same code

  

| MT4 Function | Cross-Compatible Replacement | Description |
| --- | --- | --- |
| Ask | GetAsk() | Retrieves the current Ask price for a symbol. |
| Bid | GetBid() | Retrieves the current Bid price for a symbol. |
| MarketInfo(symbol, MODE\_DIGITS) | GetSymbolDigits(symbol) | Gets the number of decimal places for a symbol. |
| MarketInfo(symbol, MODE\_TICKSIZE) | GetSymbolTickSize(symbol) | Retrieves the tick size for a symbol. |
| MarketInfo(symbol, MODE\_TICKVALUE) | GetSymbolTickValue(symbol) | Retrieves the tick value for a symbol. |
| MarketInfo(symbol, MODE\_MINLOT) | GetSymbolMinLot(symbol) | Gets the minimum lot size for a symbol. |
| MarketInfo(symbol, MODE\_MAXLOT) | GetSymbolMaxLot(symbol) | Gets the maximum lot size for a symbol. |
| MarketInfo(symbol, MODE\_POINT) | GetSymbolPoint(symbol) | Retrieves the point size for a symbol. |
| MarketInfo(symbol, MODE\_SPREAD) | GetSymbolSpread(symbol) | Gets the spread for a symbol. |
| Close[x] | iClose(symbol, PERIOD\_CURRENT, x) | Retrieves the close price of the bar at index x . |
| Open[x] | iOpen(symbol,Â PERIOD\_CURRENT, x) | Retrieves the open price of the bar at index x . |
| Low[x] | iLow(symbol,Â PERIOD\_CURRENT, x) | Retrieves the low price of the bar at index x . |
| High[x] | iHigh(symbol,Â PERIOD\_CURRENT, x) | Retrieves the high price of the bar at index x . |

---

### **ðŸŒ Why This Library?**

This interface library is a powerful tool for developers looking to:

* Save time and resources by maintaining a single codebase.
* Transition existing MT4 products to MT5 with minimal effort.
* Customize and expand functionality for advanced solutions.

---

### **ðŸ“‚ Availability**

The library is now available for integration into your projects.

For inquiries or feedback, feel free to contribute to the discussion below. Letâ€™s make development faster, simpler, and more efficient for everyone!

---

**Empowering developers for cross-platform trading solutions.**Â ðŸŒŸ

habashi\_mth:

Hi, thank you for this great work, but I didn't understand how to use it. I added it to the libraries, but code 4 in 5 doesn't work. âš ï¸ On the English forum, please write in English. Use the automatic translation tool.

Amirhossein Ghasemi Moroodi:

Hello and greetings please :)
It's not hard to use. You can put all that code before the code you wrote (all in one file) or copy it into your library folder and then use the functions I mentioned. In this case, the code will run in both the MT4 and MT5 environments. Download the example code and test it. âš ï¸ On the English forum, please write in English. Use the automatic translation tool.

[Read more comments and leave your own ones >>](/en/forum/476651)