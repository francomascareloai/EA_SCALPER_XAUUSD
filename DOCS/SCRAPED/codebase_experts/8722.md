# The correct order (version 1.0.01) - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/8722

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/8722) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# The correct order (version 1.0.01) - expert for MetaTrader 4

[MaxBau](/en/users/maxbau)  |
[English](javascript:void(false);)

[Русский](/ru/code/8722)

Views:
:   29762

Rating:
:   (21)

Published:
:   1 July 2016, 11:51
:   [TrueSort\_1001.mq4](/en/code/download/8722/TrueSort_1001.mq4 "TrueSort_1001.mq4")
    (6.08 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/8722.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The correct order is a set of moving averages located consecutively. The correct order for an uptrend would be the situation, when the 10-period simple moving average (SMA) is on a higher price level than the 20-period SMA, which is above the 50- SMA. That one, in turn, is above the 100- SMA, and 100- SMA is above the 200- SMA.

In a downtrend, the opposite is true.

The presence of moving averages located consecutively is usually a strong indication of trend condition movements and indicates that the momentum is on the trend side, but the moving averages serve as the support levels.

In order to use the correct order strategy with more reliability, added ADX check, which must be greater than 20 and have an increasing tendency.

Entry - after 5 candles once the correct order forms, exit - once the correct order gets violated.

Testing Results:

**Strategy Tester Report**

**TrueSort\_0002**

**SIG-Demo.com (Build 220)**

|  |  |  |  |  |  |
| --- | --- | --- | --- | --- | --- |
| Symbol | | EURUSD (Euro vs US Dollar) | | | |
| Period | | 1 Hour (H1) 2008.06.04 23:00 - 2009.02.20 22:00 | | | |
| Model | | Every tick (the most accurate mode based on the shortest available time frames) | | | |
| Parameters | | lots=0.1; stloss=100; magicnum=5000; | | | |
|  | |
| Bars in test | 4451 | Ticks modelled | 2924368 | Modelling quality | 44.19% |
| Mismatched chart errors | 2 |  |  |  |  |
|  | | | | | |
| Initial deposit | 10000.00 |  |  |  |  |
| Net profit | 1327.99 | Gross profit | 3462.83 | Gross loss | -2134.84 |
| Profit factor | 1.62 | Expected payoff | 20.12 |  |  |
| Absolute drawdown | 128.73 | Maximum drawdown | 934.88 (7.70%) | Relative drawdown | 7.70% (934.88) |
|  | | | | | |
| Total trades | 66 | Short positions (won %) | 45 (42.22%) | Long positions (won %) | 21 (61.90%) |
|  | | Profit trades (% of total) | 32 (48.48%) | Loss Trades (% of total) | 34 (51.52%) |
| Largest | | profit trade | 470.06 | loss trade | -304.00 |
| Average | | profit trade | 108.21 | loss trade | -62.79 |
| Maximum | | consecutive wins (profit in money) | 5 (717.85) | consecutive losses (loss in money) | 5 (-338.41) |
| Maximal | | consecutive profit (count of wins) | 717.85 (5) | consecutive loss (count) | -457.47 (2) |
| Average | | consecutive wins | 1 | consecutive losses | 2 |

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/8722](/ru/code/8722)

**Last comments |
[Go to discussion](/en/forum/90382)**
(2)

![Ioannis Sfairopoulos](https://c.mql5.com/avatar/avatar_na2.png "Ioannis Sfairopoulos")

**[Ioannis Sfairopoulos](/en/users/yannis)**
|
4 Jul 2016 at 07:25

**Automated-Trading:**  

[The correct order (version 1.0.01)](/en/code/8722):

Author: [MaxBau](/en/users/MaxBau "MaxBau")

Your post was made a couple of days ago, yet you shows us results from 2008 data ???

![watchmenow](https://c.mql5.com/avatar/avatar_na2.png "watchmenow")

**[watchmenow](/en/users/watchmenow)**
|
29 Oct 2016 at 01:38

It is even worse. Follow the link after 'original code' and you will find a better version 1100...

![ATR MA Oscillator](https://c.mql5.com/i/code/indicator.png)
[ATR MA Oscillator](/en/code/8721)

ATR MA Oscillator - Oscillator is based on the difference between the ATR oscillator and its signal line.

![AIS1 Standard Indicator](https://c.mql5.com/i/code/indicator.png)
[AIS1 Standard Indicator](/en/code/8720)

Indicator

![DWMChannels](https://c.mql5.com/i/code/indicator.png)
[DWMChannels](/en/code/15876)

Shows simple channels for daily, weekly, monthly timeframes.

![Elliott Wave Oscillator](https://c.mql5.com/i/code/indicator.png)
[Elliott Wave Oscillator](/en/code/15941)

An oscillator to help you confirm your Elliott waves counting (doesn't count the waves automatically)