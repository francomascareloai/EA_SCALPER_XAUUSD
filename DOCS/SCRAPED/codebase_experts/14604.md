# Quantum - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/14604

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/14604) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Quantum - expert for MetaTrader 4

[Ihor Herasko](/en/users/scriptong)  |
[English](javascript:void(false);)

[Русский](/ru/code/14604) [Español](/es/code/14604) [Deutsch](/de/code/14604) [日本語](/ja/code/14604)

Views:
:   24527

Rating:
:   (38)

Published:
:   8 February 2016, 12:40
:   \MQL4\Include\Common\

    [Common\_GetSymbolInfo.mqh](/en/code/download/14604/common_getsymbolinfo.mqh "Common_GetSymbolInfo.mqh")
    (9.98 KB)
    [view](# "view")

    [Common\_MathUtils.mqh](/en/code/download/14604/common_mathutils.mqh "Common_MathUtils.mqh")
    (3.87 KB)
    [view](# "view")

    [Common\_Trade.mqh](/en/code/download/14604/common_trade.mqh "Common_Trade.mqh")
    (33.28 KB)
    [view](# "view")

    \MQL4\Include\Quantum\

    [Quantum\_CalculateTradeType\_v2.mqh](/en/code/download/14604/quantum_calculatetradetype_v2.mqh "Quantum_CalculateTradeType_v2.mqh")
    (17.08 KB)
    [view](# "view")

    \MQL4\Experts\

    [Quantum\_v2\_Expert.mq4](/en/code/download/14604/quantum_v2_expert.mq4 "Quantum_v2_Expert.mq4")
    (12.71 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/14604.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

One of the implementation variants of the Quantum trading system.

This implementation includes only the principle of awaiting the extreme price value withing the amount of bars specified by the trader from the original Quantum system:

![](https://c.mql5.com/18/45/figure1.png)

Red labels — local maximums, after which it is recommended to make short trades, and the blue ones — local minimums, after which it is recommended to make long trades.

Improvement of the system is the filtration of the received signal using the Stochastic indicator. Confirmation of the price extremum is the exit of the main line of the Stochastic from the overbought or oversold areas.

![](https://c.mql5.com/18/45/figure2.png)

Thus, a significant portion of false alarms gets filtered out. However, there is some delay and hence, the opening price of the trade is deteriorated. However, the use of filtering outweighs these disadvantages.

Stop Loss of the opened position is set beyond the last registered price extremum. Take Profit is not set by default, although the trader has the ability to specify its size in points from the opening price. The closure of the trade in profit is performed when the main line of the Stochastic exceeds the values, specified in the input parameters "Level to close Buy" and "Level to close Sell".

The detailed review of the strategy and the results of its testing are given in the article [The Quantum trading system](/go?link=http://advancetools.net/index.php/stati/181-torgovaya-sistema-quantum "http://advancetools.net/index.php/stati/181-torgovaya-sistema-quantum").

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/14604](/ru/code/14604)

**Last comments |
[Go to discussion](/en/forum/72937)**
(7)

![Synergy88](https://c.mql5.com/avatar/avatar_na2.png "Synergy88")

**[Synergy88](/en/users/synergy88)**
|
11 Feb 2016 at 14:46

**Ihor Herasko:**  

Hello, Synergy88.

Figure is a description of how the expert works. Adviser himself no [graphic constructions](/en/docs/constants/indicatorconstants/drawstyles "MQL5 documentation: Drawing Styles") produces.

Hi Ihor,

How do I know the indicator is working or not as I don't see anything in my chart.

![Ihor Herasko](https://c.mql5.com/avatar/2011/2/4D496AB1-7F70.jpg "Ihor Herasko")

**[Ihor Herasko](/en/users/scriptong)**
|
11 Feb 2016 at 15:45

**Synergy88:**  

Hi Ihor,

How do I know the indicator is working or not as I don't see anything in my chart.

This is not an indicator. This adviser. His work shows smiley face in the top right [corner of the chart](https://www.mql5.com/en/docs/constants/objectconstants/enum_object_property#enum_object_property_integer "MQL5 documentation: Object Properties").

![enoperche](https://c.mql5.com/avatar/avatar_na2.png "enoperche")

**[enoperche](/en/users/enoperche)**
|
20 Feb 2016 at 10:31

HI Ihor,

Is possible modified this Great Expert for work perfect on OffLineCharts...for example i open new OffLineCharts with PeriodConverter and i set 25 Minutes Charts and open M25 OffLineCharts but not work...is possible this Mod?

Many Thank and regards.

![Ihor Herasko](https://c.mql5.com/avatar/2011/2/4D496AB1-7F70.jpg "Ihor Herasko")

**[Ihor Herasko](/en/users/scriptong)**
|
20 Feb 2016 at 17:25

**enoperche:**  

HI Ihor,

Is possible modified this Great Expert for work perfect on OffLineCharts...for example i open new OffLineCharts with PeriodConverter and i set 25 Minutes Charts and open M25 OffLineCharts but not work...is possible this Mod?

Many Thank and regards.

Yes, this is possible. Use [Ticks Collector](/ru/code/13954) for making the offline chart and set any expert at this chart. PeriodConverter emulates only ticks for indicators, and TicksCollector emulates ticks for experts and indicators.

![enoperche](https://c.mql5.com/avatar/avatar_na2.png "enoperche")

**[enoperche](/en/users/enoperche)**
|
22 Feb 2016 at 15:28

**Ihor Herasko:**  
 Yes, this is possible. Use [Ticks Collector](/ru/code/13954) for making the offline chart and set any expert at this chart. PeriodConverter emulates only ticks for indicators, and TicksCollector emulates ticks for experts and indicators.

Ok work perfect on OffLineCharts...i Test LiveDemo...Thanks for Your Great JOB!

![Lossless MA](https://c.mql5.com/i/code/expert.png)
[Lossless MA](/en/code/14601)

The EA opens trades at the intersection of the fast and the slow MAs. It has the function of outstaying the losses.

![Zakryvator](https://c.mql5.com/i/code/expert.png)
[Zakryvator](/en/code/14597)

The EA closes orders when certain loss is reached by them in the account currency. It is possible to vary the loss by the volume of the order.

![Heiken Ashi in Subwindow](https://c.mql5.com/i/code/indicator.png)
[Heiken Ashi in Subwindow](/en/code/14611)

Display of the Heiken Ashi candlestick indicator in a subwindow.

![The Fraktrak xonax Expert Advisor based on the fractal breakouts](https://c.mql5.com/i/code/expert.png)
[The Fraktrak xonax Expert Advisor based on the fractal breakouts](/en/code/14613)

The EA searches the last upper and lower fractals and opens positions when the price exceeds these levels.