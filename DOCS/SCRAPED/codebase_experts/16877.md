# Simple FX - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/16877

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16877) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Simple FX - expert for MetaTrader 5

RobinHood  |
[English](javascript:void(false);)

[Русский](/ru/code/16877) [中文](/zh/code/16877) [Español](/es/code/16877) [Deutsch](/de/code/16877) [日本語](/ja/code/16877) [Português](/pt/code/16877)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6530

Rating:
:   (26)

Published:
:   19 January 2017, 17:07

Updated:
:   14 June 2018, 16:46
:   [Simple FX.mq5](/en/code/download/16877/simple_fx.mq5 "Simple FX.mq5")
    (37.23 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16877.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Author of the idea** — [Glenn Bacon](/en/users/robinhood "Glenn Bacon (RobinHood)"), **author of the mq5 code** — [barabashkakvn](/en/users/barabashkakvn).

The Expert Advisor is based on moving averages crossing.

Simple FX EA trades Forex automatically using the moving averages.  
The MAs feature customizable period, method and type. Order settings (lot size, slippage and magic number) can be changed as well. The EA trades on **any pairs**. The best results are shown on **D1**.

The latest Simple FX version is simplefx2.mq4. It has the following changes:

* Added customizable s/l and t/p
* Fixed s/l and t/p code
* Now, the EA waits for the first MA crossing
* If an order reaches s/l or t/p, the EA waits for the next MA crossing
* Critical variables are saved to file automatically

![](https://c.mql5.com/18/55/chart_1.gif)

 

The EAa is very simple. When the short MA is above the long one, the trend is considered bullish. The EA closes sell orders (if any) and opens a buy one. When the short MA is below the long one, the trend is considered bearish. The EA closes its buy orders (if any) and opens a sell one. Thus, the EA remains on the market sliding over bullish and bearish trends.

The Stop\_Loss and Take\_Profit variables are optional which means that their values can be left at zero without affecting the EA operation. If you want more control over the EA, you may change them. For example, if you set Take\_Profit to 20, the EA will open positions with a take profit at 20 pips.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16877](/ru/code/16877)

**Last comments |
[Go to discussion](/en/forum/167483)**
(7)

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
10 Mar 2018 at 14:39

**romanedoma:**  
 Good afternoon. The Expert Advisor opens a [buy/sell order](/en/docs/constants/tradingconstants/orderproperties#enum_order_type "MQL5 Documentation: Order Properties") only at the next crossing of the slides, i.e. crossing of the slides - opening an order - crossing of the slides - closing an active order without opening a new one - crossing of the slides - opening an order. Half of the movement falls out. Can you please tell me if this can be fixed somehow? Regards.

1. This EA DOES NOT WORK with pending orders - the EA opens positions.

2. This Expert Advisor does NOT automatically OPEN the opposite position when the position is closed. There are two unrelated logics in the code: separate logic for opening positions and separate logic for closing positions. If you change something, it will be a completely different EA.

![Павел Лазарев](https://c.mql5.com/avatar/2019/2/5C6A9B57-E6BB.jpg "Павел Лазарев")

**[Павел Лазарев](/en/users/pavel69lazarev)**
|
19 Mar 2018 at 16:09

Can you tell me if it is possible to add a sliding offset to this EA ?

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
19 Mar 2018 at 16:25

**pavel69lazarev:**  
 Can you tell me if it is possible to add a sliding shift to this Expert Advisor?

Of course you can: add the input parameter "Shift" and write it in the code of [indicator handle creation](https://www.mql5.com/en/docs/series/indicatorcreate "MQL5 documentation: IndicatorCreate function").

![Evgenij Litvintsev](https://c.mql5.com/avatar/2017/5/5926DD11-1A12.jpg "Evgenij Litvintsev")

**[Evgenij Litvintsev](/en/users/alex0779)**
|
23 Dec 2021 at 06:49

[I installed the EA](https://www.mql5.com/en/articles/498 "Article: How to buy a trading robot in MetaTrader Market and install it? ") yesterday, I wanted to test it on demo, but it doesn't work

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
23 Dec 2021 at 08:47

**Evgenij Litvintsev I installed the Expert Advisor yesterday, I wanted to test it on demo, but it doesn't work**

1. be sure to study the log files - there you will always see YOUR errors.

2. I compiled and checked - no errors.

3. Started the tests - the tests are running:

![](https://c.mql5.com/3/376/286041041085.png)

![Yaanna_HTF](https://c.mql5.com/i/code/indicator.png)
[Yaanna\_HTF](/en/code/16874)

The Yaanna indicator with the timeframe selection option available in the input parameters.

![EnvelopesATR_Cloud](https://c.mql5.com/i/code/indicator.png)
[EnvelopesATR\_Cloud](/en/code/16873)

This is a modified Envelopes indicator for measuring the price deviation. It displays the upper and lower borders of the price deviation from МА calculated considering the average volatility of the symbol according to ATR indicator.

![XMA_BBxATR_Cloud](https://c.mql5.com/i/code/indicator.png)
[XMA\_BBxATR\_Cloud](/en/code/16881)

This is a modified Bollinger Bands® displaying the upper and lower borders of the price deviation from МА calculated considering the average volatility of the symbol according to ATR indicator.

![EnvelopesATR_Cloud_HTF](https://c.mql5.com/i/code/indicator.png)
[EnvelopesATR\_Cloud\_HTF](/en/code/16882)

The EnvelopesATR\_Cloud indicator with the timeframe selection option available in the input parameters.