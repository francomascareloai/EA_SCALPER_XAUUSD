# Working with sockets in MQL5 - library for MetaTrader 5

Source: https://www.mql5.com/en/code/169

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/169) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Working with sockets in MQL5 - library for MetaTrader 5

[Andriy Voitenko](/en/users/avoitenko)  |
[English](javascript:void(false);)

[Русский](/ru/code/169) [中文](/zh/code/169) [Español](/es/code/169) [Deutsch](/de/code/169) [日本語](/ja/code/169) [Português](/pt/code/169) [한국어](/ko/code/169) [Français](/fr/code/169) [Italiano](/it/code/169) [Türkçe](/tr/code/169)

Views:
:   18029

Rating:
:   (52)

Published:
:   16 August 2010, 17:05

Updated:
:   22 November 2016, 07:32
:   [socket.zip](/en/code/download/169/socket.zip "socket.zip")
    (506.46 KB)

    [Download as ZIP](/en/code/download/169.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This example will show you how to implement the realtime ticks transfer from MetaTrader 5 client terminal to external server application.

The TCP protocol is used, it allows to transfer the data not only locally, but globally all over the Internet.

The [Winsock2](/go?link=https://msdn.microsoft.com/en-us/library/ms741394(v=VS.85).aspx "http://msdn.microsoft.com/en-us/library/ms741394(v=VS.85).aspx") library
(ws2\_32.dll) is used for working with [sockets](https://en.wikipedia.org/wiki/Internet_socket "https://en.wikipedia.org/wiki/Internet_socket"). The direct calls of the library functions is impossible, because MQL5 doesnt allow to work with pointers and pass complex data structures as parameters of DLL functions. The library **socket\_mql5.dll**, written in C++, is an intermediate wrapper, connecting the Expert Advisor and sockets library.

The interaction of MetaTrader 5 with external server application is presented at Fig. 1:

![Scheme of the interaction with MetaTrader 5 client terminal](https://c.mql5.com/18/0/Graphic1.png "Scheme of the interaction with MetaTrader 5 client terminal")

Figure 1. Interaction of MetaTrader 5 with external server application

The minimal set of the functions for one-way transfer (SocketOpen, SocketWrite, SocketClose) is implemented in **socket\_mql5.dll** library.

An example of an Expert Advisor, connected to server and used to transfer the realtime tick data to external server application is presented at figure 2.

![Data transfer from MetaTrader 5 to server application](https://c.mql5.com/18/0/example__1.png "Data transfer from MetaTrader 5 to server application")

Figure 2. Export tick data from MetaTrader 5 client terminal to external server application

The archive contains:

* An Expert Advisor
* The socket\_mql5.dll library (C++ source code is written in Visual Studio 2008)
* The TCP server and TCP client (Delphi7 sources)

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/169](/ru/code/169)

**Last comments |
[Go to discussion](/en/forum/1760)**
(31)

![gsudariojr](https://c.mql5.com/avatar/2019/2/5C72B320-9AAF.jpeg "gsudariojr")

**[gsudariojr](/en/users/gsudariojr)**
|
7 Feb 2019 at 05:34

**Automated-Trading:**  

[Working with sockets in MQL5](/en/code/169):

Author: Andrey Voytenko

PERFECT !

![Synapso](https://c.mql5.com/avatar/avatar_na2.png "Synapso")

**[Synapso](/en/users/synapso)**
|
14 Feb 2020 at 22:26

Many thanks for the library!

Thanks to the source code, I have extended it with a SocketReadChar method and thus established a stable bidirectional connection to other software in the [strategy tester](https://www.mql5.com/en/articles/586 "Article \"How to test a trading robot before buying\""). Minimal and functional.

![Juan Guirao](https://c.mql5.com/avatar/2023/10/6520fda6-f3b7.jpg "Juan Guirao")

**[Juan Guirao](/en/users/freenrg)**
|
4 Nov 2023 at 07:26

This is still brilliant! But has anyone succeeded in backtesting an EA connected via sockets in this way using the [strategy tester](https://www.mql5.com/en/articles/239 "Article: The Fundamentals of Testing in MetaTrader 5 ")? If so, how?

![Ahmad Kazemi](https://c.mql5.com/avatar/2025/6/68431bb2-2a6e.png "Ahmad Kazemi")

**[Ahmad Kazemi](/en/users/ahmadkazemi.n2013)**
|
16 Oct 2024 at 19:07

**Andriy Voitenko [#](/en/forum/1760#comment_1004983):**  

Now the [project](/en/articles/7863 "Article: Projects allow you to create profitable trading robots! But it is not exactly") has been updated and is available for 64-bit version. Please test.

Thank you for your very good code, my dear friend, I tested it for 64 bit and it doesn't work. Thank you very much. If you please update the code for 64 bit.

![Yaro Papou](https://c.mql5.com/avatar/avatar_na2.png "Yaro Papou")

**[Yaro Papou](/en/users/yaropapou)**
|
25 Jun 2025 at 04:40

What to do

![i-ImpulseSystem](https://c.mql5.com/i/code/indicator.png)
[i-ImpulseSystem](/en/code/167)

The indicator is based on the Elder's Impluse system.

![An Expert Advisor, based on Bollinger Bands ®](https://c.mql5.com/i/code/expert.png)
[An Expert Advisor, based on Bollinger Bands ®](/en/code/166)

This Expert Advisor is based on Bollinger Bands. It uses trend-following strategy and Bollinger Bands indicator.

![AlfOs](https://c.mql5.com/i/code/indicator.png)
[AlfOs](/en/code/171)

It's an oscillator, similar to OsMA with Variable Index Dynamic Average.

![Keywords and aliases of MQL5](https://c.mql5.com/i/code/library.png)
[Keywords and aliases of MQL5](/en/code/168)

The MQL5 keywords and aliases for autoreplace are presented.