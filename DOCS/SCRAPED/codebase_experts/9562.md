# Stoch - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/9562

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9562) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Stoch - expert for MetaTrader 4

[Collector](/en/users/collector)  |
[English](javascript:void(false);)

[Русский](/ru/code/9562) [中文](/zh/code/9562) [Español](/es/code/9562) [Deutsch](/de/code/9562) [Português](/pt/code/9562)

Views:
:   25154

Rating:
:   (7)

Published:
:   26 September 2006, 14:11

Updated:
:   21 April 2014, 14:54
:   [Stoch.mq4](/en/code/download/9562/Stoch.mq4 "Stoch.mq4")
    (4.06 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9562.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The Expert Advisor Stoch works with SellLimit and BuyLimit pending orders. The Adviser is adjusted on work on H4 timeframe.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/9562](/ru/code/9562)

**Last comments |
[Go to discussion](/en/forum/27420)**
(6)

![Louis Stoltz](https://c.mql5.com/avatar/avatar_na2.png "Louis Stoltz")

**[Louis Stoltz](/en/users/bonechair)**
|
4 Feb 2008 at 18:28

Modelling quality should go red when it goes below 85%.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
19 Feb 2008 at 20:18

please help me on how to loading indicator sucesfully.  am avalable on lemonluke@yahoo.com

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
6 Apr 2009 at 19:13

**reza107:**  

I tried to run Stoch in the tester with exact input variable and got negative balance.

How can I get help to use [expert advisors](https://www.mql5.com/en/market/mt5 "A Market of Applications for the MetaTrader 5 and MetaTrader 4")?

![maithai](https://c.mql5.com/avatar/avatar_na2.png "maithai")

**[maithai](/en/users/maithai)**
|
4 Mar 2015 at 11:34

Hi - appreciated if anyone can help.

i get this message when i try to run , how to get it working?

2015.03.04 18:29:19.761 Stoch EURUSD,H4: invalid price 1.10963450 for [OrderSend function](https://www.mql5.com/en/docs/trading/ordersend "MQL5 documentation: OrderSend function")

thanks

![Norbert Hatnancik](https://c.mql5.com/avatar/avatar_na2.png "Norbert Hatnancik")

**[Norbert Hatnancik](/en/users/funkyman)**
|
8 Apr 2017 at 12:30

Line no. 78 in source code must be like this

SH3 = OrderSend(Symbol(), OP\_SELLLIMIT, Lots, NormalizeDouble(H4,Digits), 3, H4 + StopLoss\*Point,

as well as the line no.94

BL3 = OrderSend(Symbol(), OP\_BUYLIMIT, Lots,NormalizeDouble(L4,Digits), 3, L4 - StopLoss\*Point,

EA is highly profitable when you put [stoploss level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders") about 50 000 points far from opened price,or not to use it at all.Usually Hedging robots run without stoploss.Actually opposite orders work as stoploss.

![MACD signal](https://c.mql5.com/i/code/expert.png)
[MACD signal](/en/code/9662)

The Expert Advisor MACD\_signal is founded on signals of Average Directional Movement Index (ADX) and Moving Average Convergence/Divergence (MACD) indicators.

![MARE5.1](https://c.mql5.com/i/code/expert.png)
[MARE5.1](/en/code/9643)

The Expert Adviser MARE5.1 is much simple and uses values of Simple Moving Average (SMA) on Close Price of 0, 2 and 5 bars.

![JK BullP AutoTrader](https://c.mql5.com/i/code/expert.png)
[JK BullP AutoTrader](/en/code/9681)

The Expert Adviser JK\_BullP\_AutoTrader is built on Bulls Power indicator.

![CloseOnChart](https://c.mql5.com/i/code/script.png)
[CloseOnChart](/en/code/9742)

Quickly close open orders by dragging and dropping this expert on chart. Will ask for confirmation to close each order within 2 pips of the drop.