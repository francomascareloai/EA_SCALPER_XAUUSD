# Data Models: Trading Engine (MQL5)

## Overview
This document outlines the key data structures and types used in the MQL5 Trading Engine (`ðŸš€ MAIN_EAS`).

## Core Structures

### SAdvancedOrderBlock
Used by `CEliteOrderBlockDetector` to track institutional order blocks.

| Field | Type | Description |
|-------|------|-------------|
| `formation_time` | datetime | Time when the OB candle formed |
| `high_price` | double | High price of the OB candle |
| `low_price` | double | Low price of the OB candle |
| `type` | ENUM_ORDER_BLOCK_TYPE | `OB_BULLISH` or `OB_BEARISH` |
| `state` | ENUM_OB_STATE | `ACTIVE`, `TESTED`, `MITIGATED`, `DISABLED` |
| `refined_entry` | double | 50% retracement level within the OB |
| `strength` | double | Calculated strength score (0-100) |
| `probability_score` | double | Probability of success (0-100) |
| `quality` | ENUM_OB_QUALITY | `ELITE`, `HIGH`, `MEDIUM`, `LOW` |
| `is_institutional` | bool | Flag for institutional characteristics |

### SMarketAnalysis (Inferred)
Passed between Core and Strategies to carry market state.

*   **Likely Fields:**
    *   Current Trend (Bullish/Bearish)
    *   Volatility Metrics
    *   ML Prediction Confidence
    *   Key Levels (Support/Resistance)

### STradeSignal (Inferred)
Generated by Strategies and executed by Core.

*   **Likely Fields:**
    *   `type`: `BUY` or `SELL`
    *   `entryPrice`: Proposed entry price
    *   `stopLoss`: SL price
    *   `takeProfit`: TP price
    *   `strategy`: Source strategy ID
    *   `confidence`: Signal confidence score

## Enumerations

### ENUM_STRATEGY_TYPE
*   `STRATEGY_SMART_MONEY`: ICT/SMC based logic
*   `STRATEGY_ML_SCALPING`: Machine Learning scalping
*   `STRATEGY_VOLATILITY_BREAKOUT`: Volatility based entries

### ENUM_OB_QUALITY
*   `OB_QUALITY_ELITE`: Score >= 85.0
*   `OB_QUALITY_HIGH`: Score >= 70.0
*   `OB_QUALITY_MEDIUM`: Score >= 55.0
*   `OB_QUALITY_LOW`: Score < 55.0

## Global Objects
The system uses global pointers for singleton-like access to core components:
*   `g_mlCore`: `CXAUUSD_MLCore`
*   `g_strategies`: `CXAUUSD_MLStrategies`
*   `g_riskManager`: `CXAUUSD_MLRisk`
*   `g_visualInterface`: `CXAUUSD_MLVisual`
