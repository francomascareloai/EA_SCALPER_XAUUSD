# Stop & Limit Bots - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/16305

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16305) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Stop & Limit Bots - expert for MetaTrader 4

[Patrick Burns](/en/users/atthecorner)

Views:
:   27885

Rating:
:   (25)

Published:
:   7 October 2016, 17:05
:   [SB.mq4](/en/code/download/16305/sb.mq4 "SB.mq4")
    (21.69 KB)
    [view](# "view")

    [LB.mq4](/en/code/download/16305/lb.mq4 "LB.mq4")
    (21.7 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16305.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Two EA's. One places Stop orders the other places Limit orders. The EA does not use any form of technical analysis, just price movement. EA works on any timeframe. Easy to back test and find historical winning parameters.

Code places arrow on chart for all pending orders. Top left of chart shows a running total of profit/loss.

All orders must be outside of broker's prescribed stop level. Trailing stop loss function.

In terminal, under comments, there is clear identification of order type.

![](https://c.mql5.com/18/53/EURUSD.mM1.png)

![](https://c.mql5.com/18/54/Picture1.png)

**Last comments |
[Go to discussion](/en/forum/97326)**
(15)

![Patrick Burns](https://c.mql5.com/avatar/2019/12/5DFECDE9-7802.jpg "Patrick Burns")

**[Patrick Burns](/en/users/atthecorner)**
|
11 Jun 2020 at 21:12

[aalaarajy](/en/users/aalaarajy "aalaarajy (aalaarajy)"):

Hi and thanks for such a grate job.

I dont know if you still follow up with this so I like to shoot my question in the hope of a responce

I tryed to put your bots on myÂ [demo account](/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties"), but something strange happens. You says it does not use any technical analysy and just depends on price movement. So I understood it that if you put the price distance 7 pips then it will be always 7 pips. But when I tryed that I experienced that some trades get open every 3 pips. Others every 15 pips. It seems somehow random. I have my timeframe set tu m15, so I thought this will matter and put it to 1h, and experienced that now it open trade after 40 pips or so. So it seems that it depending on the timeframe.

I hope you will explain if it is timeframe or the price distance the user set in from the settings that matter for openning trades.

Thanks

The timeframe will not make any difference. The issue may be the [stops level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders") of the broker.

![aalaarajy](https://c.mql5.com/avatar/avatar_na2.png "aalaarajy")

**[aalaarajy](/en/users/aalaarajy)**
|
12 Jun 2020 at 12:22

THanks for the responce.

But sorry, could you explain for me if I have understood it correctly.

As I know that XM and that is my broker have 6 pips as [stop level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"). Well, if I now set the price distance to 8 pips, and if I set the max trade to 100, will I then get 100 trades buy stop and 100 sell stop every 8 pips, or what?

Is there any candle conditions it also follow? Or it is just the price movements?

![Patrick Burns](https://c.mql5.com/avatar/2019/12/5DFECDE9-7802.jpg "Patrick Burns")

**[Patrick Burns](/en/users/atthecorner)**
|
12 Jun 2020 at 15:10

**aalaarajy:**  

THanks for the responce.

But sorry, could you explain for me if I have understood it correctly.

As I know that XM and that is my broker have 6 pips as [stop level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"). Well, if I now set the price distance to 8 pips, and if I set the max trade to 100, will I then get 100 trades buy stop and 100 sell stop every 8 pips, or what?

Is there any candle conditions it also follow? Or it is just the price movements?

If a broker has a stops level of 40 points, it will not allow a pending order to be placed within 40 points of the bid or ask price. The max trades is the total amount of open orders. The EA will place pending orders commensurate to the timeframe. So H1 means the EA will place a pending order every hour.

![aalaarajy](https://c.mql5.com/avatar/avatar_na2.png "aalaarajy")

**[aalaarajy](/en/users/aalaarajy)**
|
12 Jun 2020 at 18:26

Ok, then it is different from what I want of it. What I want is an EA that will keep placing [stop orders](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"), and if the market go back so one of the trades hit a stop loss or I close it manually the EA should place it again when the market visit the same open price of it. Can I make any changes to the code to get this, or what I am searching for should be found in another EA?

![Patrick Burns](https://c.mql5.com/avatar/2019/12/5DFECDE9-7802.jpg "Patrick Burns")

**[Patrick Burns](/en/users/atthecorner)**
|
15 Jun 2020 at 00:52

**aalaarajy:**  

Ok, then it is different from what I want of it. What I want is an EA that will keep placing [stop orders](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"), and if the market go back so one of the trades hit a stop loss or I close it manually the EA should place it again when the market visit the same open price of it. Can I make any changes to the code to get this, or what I am searching for should be found in another EA?

I understand what you are trying, but not sure your strategy would be profitable. I don't think this EA would be suitable. Best to try a different EA.

![Renko Chart from ticks (Most precise method)](https://c.mql5.com/i/code/expert.png)
[Renko Chart from ticks (Most precise method)](/en/code/16387)

Renko chart generator using the tick values.

![TimeInRange time checking function](https://c.mql5.com/i/code/library.png)
[TimeInRange time checking function](/en/code/16398)

Fast time range checking function. Doesn't use slow string parsing.

![Var Mov Avg 2016 (varmov)](https://c.mql5.com/i/code/indicator.png)
[Var Mov Avg 2016 (varmov)](/en/code/16492)

This indicator is based on the moving average, but it doesn't use any standard moving average indicators.

![Awesome Oscillator - 4 colors, customizable](https://c.mql5.com/i/code/indicator.png)
[Awesome Oscillator - 4 colors, customizable](/en/code/16440)

Awesome Oscillator, customizable, 4 colors (as seen on some AIMS YouTube videos), and some more parameters.