# Doubler - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/22820

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/22820) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Doubler - expert for MetaTrader 5

bobbybo  |
[English](javascript:void(false);)

[Русский](/ru/code/22820) [中文](/zh/code/22820) [Español](/es/code/22820) [Deutsch](/de/code/22820) [日本語](/ja/code/22820) [Português](/pt/code/22820)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   5959

Rating:
:   (27)

Published:
:   28 December 2018, 12:57

Updated:
:   17 January 2019, 11:29
:   [Doubler.mq5](/en/code/download/22820/doubler.mq5 "Doubler.mq5")
    (35.51 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/22820.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Idea by:** [Boris](/en/users/bobbybo "Boris (bobbybo)")

**Code mq5 by:** [barabashkakvn](/en/users/barabashkakvn)

**The EA works on hedge accounts only!**

A very simple idea: Open two opposite positions simultaneously. However, Stop Loss must be greater than Take Profit. We expect that the Take Profit of one of the positions would trigger first, and then the price would reverse and the Take Profit of the remaining position would trigger.

You can also enable trailing. To do so, pass a value greater than zero to **Trailing Stop**.

For each symbol and timeframe, a separate optimization of parameters is required. For example, the parameters range for optimization on H1 timeframe:

![](https://c.mql5.com/18/76/2018-10-18_07h52_30.png)

The Print result parameter displays trading operations logs (opening and modifying the positions).

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/22820](/ru/code/22820)

**Last comments |
[Go to discussion](/en/forum/296616)**
(4)

![Jonatas Rodrigues Do Nascimento Santos](https://c.mql5.com/avatar/2021/5/6094F160-927F.JPG "Jonatas Rodrigues Do Nascimento Santos")

**[Jonatas Rodrigues Do Nascimento Santos](/en/users/capitalplace)**
|
19 Apr 2021 at 06:24

**Automated-Trading:**  

[Doubler](/en/code/22820):

Author: [Vladimir Karputov](https://www.mql5.com/en/users/barabashkakvn "barabashkakvn")

This is a good idea. Congrats!

Vladimir congrats, do you have profit with him or just made an idea and share with the community.

![gmFar](https://c.mql5.com/avatar/2021/8/6126EB78-0EFC.jpg "gmFar")

**[gmFar](/en/users/gmfar)**
|
7 Sep 2021 at 00:26

i test that on [BitCoin](https://www.mql5.com/en/quotes/crypto/BTCUSD "BTCUSD chart: technical analysis")...

Incredibly, it answer in the test and does not work in the real or demo live accounts.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
7 Sep 2021 at 05:36

**gmFar [#](/en/forum/296616#comment_24469047) :**  

i test that on BitCoin...

Incredibly, it answer in the test and does not work in the real or demo live accounts.

Read and study two terminal log files.

![Vladimir Gulakov](https://c.mql5.com/avatar/2025/3/67c4a5ad-1b40.png "Vladimir Gulakov")

**[Vladimir Gulakov](/en/users/fobuysel)**
|
15 Feb 2023 at 20:45

The advisor has been tested. It works perfectly. It opens orders quickly. When closing it quickly opens new ones. No glitches. To open new orders, you need to close both old ones. Can be used for certain strategies.

![Hedge any positions](https://c.mql5.com/i/code/expert.png)
[Hedge any positions](/en/code/22823)

Opening an opposite position when reaching a profit of N pips

![Close all positions](https://c.mql5.com/i/code/expert.png)
[Close all positions](/en/code/22827)

Closing positions when reaching a profit level

![XFisher_org_v1](https://c.mql5.com/i/code/indicator.png)
[XFisher\_org\_v1](/en/code/22819)

Fisher indicator with an additional smoothing to eliminate the false intersections of the main and signal lines.

![FineTuningMACandle_Chl_HTF](https://c.mql5.com/i/code/indicator.png)
[FineTuningMACandle\_Chl\_HTF](/en/code/22818)

Indicator FineTuningMACandle\_Chl with the timeframe selection option available in its input parameters