# Assisted position closing tool - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/51095

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/51095) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Assisted position closing tool - expert for MetaTrader 5

[Ling Yang](/en/users/yangou)  |
[English](javascript:void(false);)

[Русский](/ru/code/51095) [中文](/zh/code/51095) [Español](/es/code/51095) [Deutsch](/de/code/51095) [日本語](/ja/code/51095) [Português](/pt/code/51095) [한국어](/ko/code/51095) [Français](/fr/code/51095) [Italiano](/it/code/51095) [Türkçe](/tr/code/51095)

Views:
:   3024

Rating:
:   (8)

Published:
:   8 October 2025, 12:58
:   [Auxiliary closing tool.mq5](/en/code/download/51095/auxiliary_closing_tool.mq5 "Auxiliary closing tool.mq5")
    (12.83 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/51095.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Two parameters;

The first one sets the stop loss amount, which must be negative. It does not work without input.

The second one is the take profit multiplier, based on the stop loss value.

The tool has a disadvantage, it does not recognise pending orders.

It has the advantage that a set stop loss will default to an order that does not require the tool to operate, making it convenient for users to hold both long-term and short-term orders.

It has two ways of stop loss: one is to set a stop loss for one of the orders to guide the closing of the position.

The second is to close the position using a multiple of the input.

This tool is designed to strictly limit the stop loss, especially for people who often trade stop loss frequently. If you often arbitrarily stop loss, then you can use it to discipline yourself.

Translated from Chinese by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/zh/code/51095](/zh/code/51095)

![Trading Session Mapping](https://c.mql5.com/i/code/script.png)
[Trading Session Mapping](/en/code/64546)

A tool to align the trading sessions names with broker server time, and local time

![Renko_Subwindow_ATRTrend](https://c.mql5.com/i/code/indicator.png)
[Renko\_Subwindow\_ATRTrend](/en/code/63485)

A combination of many known indicators

![OHLC Candles with Ask and Bid](https://c.mql5.com/i/code/indicator.png)
[OHLC Candles with Ask and Bid](/en/code/64697)

A candlestick chart which connects the ask price and bid price to the high and low of the candles

![MT5 to Telegram - Professional Trading Notifications Library](https://c.mql5.com/i/code/library.png)
[MT5 to Telegram - Professional Trading Notifications Library](/en/code/63585)

Complete Telegram integration for MT5. Send trading signals, screenshots, reports &amp; alerts to Telegram channels. Includes queue system, multi-channel support &amp; risk management.