# A Sample: Lot size computing - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/8583

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/8583) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# A Sample: Lot size computing - expert for MetaTrader 4

[AIRAT SAFIN](/en/users/ais)  |
[English](javascript:void(false);)

[Русский](/ru/code/8583) [中文](/zh/code/8583) [Español](/es/code/8583) [Deutsch](/de/code/8583) [Português](/pt/code/8583)

Views:
:   19174

Rating:
:   (7)

Published:
:   26 November 2008, 07:58

Updated:
:   21 April 2014, 14:53
:   [ACB4.MQ4](/en/code/download/8583/ACB4.MQ4 "ACB4.MQ4")
    (8.62 KB)

    [Download as ZIP](/en/code/download/8583.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Hello**

************************This code has two features:**********************************1. It shows risk management approach to the operation volume calculation.************************2. It shows difference between european and american methods of lot size definition.************It is result of collaboration in "[How do I calculate lot size?](https://www.mql5.com/en/forum/111230)" topic.******Thanks to all the participants******.**

**Best regards**

**Ais**

**Computing samples:**

![](https://c.mql5.com/18/19/AA.JPG)![](https://c.mql5.com/18/19/AI.JPG)   
  
![](https://c.mql5.com/18/19/AAG.JPG)![](https://c.mql5.com/18/19/AIG.JPG)

**Last comments |
[Go to discussion](/en/forum/26228)**
(3)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
5 Dec 2008 at 18:33

Useful indeed sir, but your coding style is amongst the worst I have ever seen! What's with the commented line numbering and the semi-colons at the ends of the lines? Were you not taught to indent your blocks?

![AIRAT SAFIN](https://c.mql5.com/avatar/2023/3/6420f3a5-28f8.png "AIRAT SAFIN")

**[AIRAT SAFIN](/en/users/ais)**
|
8 Dec 2008 at 01:34

**Hello**

**Semicolons at the ends of the lines and line numbering are result of code right margin control.  
I always inspect horizontal scroll bar to keep it invisible.  
Horisontal scroll bar appearance signalizes that somewhere code right margin is broken.  
Code right margin control lets me be sure that all my code is in my sight.**

**Best regards**

**Ais**

![AIRAT SAFIN](https://c.mql5.com/avatar/2023/3/6420f3a5-28f8.png "AIRAT SAFIN")

**[AIRAT SAFIN](/en/users/ais)**
|
18 Mar 2009 at 11:15

Lot size computing: Additional Information

In this code sample "Position" means marginal position.  
Value of "ali.PositionPoints" variаble means size of marginal position in points.

![A Sample: Chart metrics](https://c.mql5.com/i/code/expert.png)
[A Sample: Chart metrics](/en/code/8584)

Code sample

![Drag & drop scripts to modify all orders of a currency](https://c.mql5.com/i/code/script.png)
[Drag & drop scripts to modify all orders of a currency](/en/code/8592)

You pick the script and drag it on a chart's point. Then it uses this point to modify all stop/take profit levels of the chart's currency.

![A Sample: Lot size adjusting](https://c.mql5.com/i/code/expert.png)
[A Sample: Lot size adjusting](/en/code/8582)

Code sample

![Daily Open-SR (Dosr)](https://c.mql5.com/i/code/indicator.png)
[Daily Open-SR (Dosr)](/en/code/8428)

The trading technique that is based on the support/resistance that are determined at the daily opening.