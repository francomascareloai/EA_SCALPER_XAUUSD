# MQL4 Source Code Library for MetaTrader 4
           - 5

Source: https://www.mql5.com/en/code/mt4/page5

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Access the CodeBase from your [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

Couldn't find the right code? Order it in the [Freelance](https://www.mql5.com/en/job) section

[How to Write](https://www.mql5.com/en/articles/100) an Expert Advisor or an Indicator

# MQL4 Source Code Library for MetaTrader 4 - 5

![icon](https://c.mql5.com/i/code/code-icon.png)

The largest library features codes of free trading Expert Advisors, technical indicators and scripts. With the available applications you can trade in automated mode and analyze price dynamics. Use the library of codes to learn more about financial market sentiments.

Download free applications, test them and run in your MetaTrader 4. You can access them from the MetaTrader 4 platform and the MetaEditor development environment.

[Submit your code](/en/code/new)

![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

You are missing trading opportunities:

* Free trading apps
* Over 8,000 signals for copying
* Economic news for exploring financial markets

Registration
Log in

latin characters without spaces

a password will be sent to this email

An error occurred

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

Allow the use of cookies to log in to the MQL5.com website.

Please enable the necessary setting in your browser, otherwise you will not be able to log in.

 

[Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

* [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)

[1](/en/code/mt4)[2](/en/code/mt4/page2)[3](/en/code/mt4/page3)[4](/en/code/mt4/page4)[5](/en/code/mt4/page5)[6](/en/code/mt4/page6)[7](/en/code/mt4/page7)[8](/en/code/mt4/page8)[9](/en/code/mt4/page9)[10](/en/code/mt4/page10)[11](/en/code/mt4/page11)[12](/en/code/mt4/page12)[...](/en/code/mt4/page58)[104](/en/code/mt4/page104)

latest |

[best](/en/code/mt4/best)

[MACD on Chart](/en/code/47327 "MACD on Chart")

Show MACD directly on chart

[Donchian Channel](/en/code/47258 "Donchian Channel")

Donchian Channel with mid line and moving average of mid line.
Updated Dec 6, 2023 Minor code update

[PA RSI](/en/code/47237 "PA RSI")

The Oscillator Indicator for MetaTrader 4 is a powerful tool that accurately identifies the perfect signal on the completion of trends.

[Multi\_BreakEven.mt4](/en/code/47104 "Multi_BreakEven.mt4")

Multi\_BreakEven is a script file that allows multiples entry positions to set to breakeven using pips or target price when the trade is in your favor.

[Amazing Oscilator](/en/code/47073 "Amazing Oscilator")

A combination of data analysis from the Awesome Oscillator and the resulting direction of the candles relative to the previous range

[Rainbow Indicator for mt4](/en/code/47049 "Rainbow Indicator for mt4")

This is an indicator with a rainbow-like display, both for trend or pullback prediction.

[Take Profit based on your current profit](/en/code/47010 "Take Profit based on your current profit")

Most EAs tend to close orders in take profit based on the distance in pips from the purchase price. However, this MQL4 code is based mainly on the current profit.

[Simple Support and Resistance](/en/code/46970 "Simple Support and Resistance")

Simple Support, Resistance, and Mid-Line boilerplate

[Range Ratio](/en/code/46957 "Range Ratio")

Indicator shows histogram of ratio of sum of lower time frame ranges to current timeframe bar range

[M4HA](/en/code/46909 "M4HA")

Trend indicator based on the intersection of adaptive HMA and its smoothed line. I recommend using it together with the flat indicator to determine the beginning of a trend early

[Donchian Channel Scalping Strategy EA](/en/code/46774 "Donchian Channel Scalping Strategy EA")

A Donchian Channel Strategy breakout EA Scalper. Best results at H1.

[Price Rebound Calculator](/en/code/46717 "Price Rebound Calculator")

This indicator calculates the percentage of the probability of a price reversal from a given size of the maximum rollback based on the history of the chart movement

[The Double Bollinger Band Strategy MT4](/en/code/46630 "The Double Bollinger Band Strategy MT4")

The Double Bollinger Band Strategy makes use of two Bollinger Bands in order to filter entries and exits in the forex market.

[Trend Predictor](/en/code/46618 "Trend Predictor")

New level of trend prediction!

[Breakout Martin Gale Expert Advisor for mql4](/en/code/46592 "Breakout Martin Gale Expert Advisor for mql4")

This is an mql5 Expert Advisor trading the breakouts and using Martin Gale risk management.

[Super Scalper EMAs](/en/code/46546 "Super Scalper EMAs")

Low risk, max profit, winning strategy EA. Based upon Super Scalper EMAs indicator

[Using Moving Averages with an EA (Sample Source Code)](/en/code/46426 "Using Moving Averages with an EA (Sample Source Code)")

This time, we're providing a sample that enters based on the Golden Cross and Dead Cross of the moving averages.
If you want to see a sample where a long entry is made when the closing price of the candlestick crosses above the moving average, please refer to this article.

[MaybeAwo EA](/en/code/46314 "MaybeAwo EA")

a Versatile automated trading tool for the MetaTrader 4 platform. This EA is designed to assist traders in managing their positions effectively by offering features such as setting a breakeven point, trailing stop, stop loss, and take profit levels. It works with various input parameters, allowing you to customize its behavior to fit your trading strategy.

[Probability and Signals class](/en/code/46135 "Probability and Signals class")

With these classes you can create and test your signals runtime.

[Ranged Grid Bot EA with pending orders](/en/code/46242 "Ranged Grid Bot EA with pending orders")

The EA created sell/buy limit orders according to:
- Grid number of orders
- Trading range (computed automatically by uwing weekly highs and lows)
- Current price

[Ehlers reverse EMA](/en/code/46075 "Ehlers reverse EMA")

A trend or cycle indicator with very low lag.

[Gaussian Low Lag Filters](/en/code/46050 "Gaussian Low Lag Filters")

Gaussian Filter Multi Pole smoother of price data

[Plot History](/en/code/45988 "Plot History")

Plot trade history levels on the chart for MT4

[Grid and Martin Gale include file](/en/code/45598 "Grid and Martin Gale include file")

Enables Programmers to create Martin Gale and Grid Trading strategies with ease.

[Grid Trading Algo](/en/code/43796 "Grid Trading Algo")

This is a grid trading algorithm idea.

[KA-Gold Bot](/en/code/45323 "KA-Gold Bot")

KA-Gold Bot is an advanced trading advisor specifically designed for gold, utilizing the powerful combination of the Keltner channel strategy and two exponential moving averages (EMAs) - the 10-period EMA and the 200-period EMA.
Principle of Operation: The 10-period EMA represents the average price cutting above/below the Keltner band, confirming an uptrend/downtrend. The price being above the 200-period EMA supports the uptrend/downtrend. This indicates that the uptrend/downtrend has been stronger than the previous 10 periods, considering the volatility over the last 50 periods.

[Simple check open orders filter boolean function for Expert Advisors](/en/code/44892 "Simple check open orders filter boolean function for Expert Advisors")

This is a simple boolean function for the EA to detect if there is any previous open market orders without using the "OrdersTotal()" built-in function which might cause the EA to calculate positions not opened by each specific magicnumber provided by the EA.

[Ma Price Cross (Custom Time)](/en/code/44133 "Ma Price Cross (Custom Time)")

Buys when price breaks above the MA and Sells when price breaks below the MA. User can choose the time range (server time) to trade in.

[Strongest Pair Indicator](/en/code/44129 "Strongest Pair Indicator")

This will return the pair with the most growth in the user input start time and end time

[Multi SellLimitOrders & Multi SellStopOrders](/en/code/44038 "Multi SellLimitOrders & Multi SellStopOrders")

Multi Selllimit and Sellstop orders are script files that enable traders to place multiple orders with ease. These orders allow traders to enter the market at a specific price level, or at a specified number of pips away from the current market price, with stop-loss and take-profit levels. By default, the pips value is set to 400, which means the trade will be placed 400 pips away from the current market price for a 5-digit broker.
Moreover, the multi Selllimit and Sellstop orders offer traders the flexibility to customize their trading strategies. Traders can set the stop-loss level to zero if they do not use stop-loss, and can choose between a target price or a pip-based entry. This level of flexibility allows traders to tailor their trading strategies to their specific needs, which can result in better trading outcomes.

[Multi\_BuyLimitOrders & Multi\_BuyStopOrders](/en/code/44035 "Multi_BuyLimitOrders & Multi_BuyStopOrders")

Multi buylimit and buystop orders are script files that enable traders to place multiple orders with ease. With just one command, traders can place multiple buylimit or buystop orders using either a target price or pips. By default, the pips value is set to 400, which means the trade will be placed 400 pips away from the current market price for a 5-digit broker. This setup includes stop-loss and take-profit levels, which can be adjusted based on the trader's preferences.
Notably, these orders come with a level of flexibility that enables traders to fine-tune their trading strategies. For instance, a trader can opt to set the stop-loss level to zero if they do not use stop-loss.

[Multi SellOrders](/en/code/44024 "Multi SellOrders")

To assist traders who wish to open multiple sell orders quickly, a script file has been developed that allows them to execute a large number of trades with just one command. The default take profit and stop loss values are set in 5-digit broker format, but for traders using a 4-digit broker, the default must be TP=40 and SL=20.
Num\_of\_Sell is the number of trades to execute.
This script file can be extremely useful for traders who want to take advantage of market conditions quickly and efficiently. By simplifying the process of opening multiple sell orders, it can save traders valuable time and allow them to focus on other aspects of their trading strategy.

[Multi BuyOrders](/en/code/44023 "Multi BuyOrders")

To assist traders who wish to open multiple buy orders quickly, a script file has been developed that allows them to execute a large number of trades with just one command. The default take profit and stop loss values are set in 5-digit broker format, but for traders using a 4-digit broker, the default must be TP=40 and SL=20.
Num\_of\_Buy is the number trades the trader wish to open instantly.
This script file can be extremely useful for traders who want to take advantage of market conditions quickly and efficiently. By simplifying the process of opening multiple buy orders, it can save traders valuable time and allow them to focus on other aspects of their trading strategy.

[ChartButton Class MT4](/en/code/44020 "ChartButton Class MT4")

This class allows you to create buttons on the chart as if they were chart objects(have time and price coordinates) these objects can be dragged on the chart and when scrolling they stay at the same place. If you wan't to learn some Object Oriented Programming or if you wan't to understand how chartevents work or you wan't to create graphical interfaces, you can learn a lot from this.

[Auto TP multiplied by SL](/en/code/43973 "Auto TP multiplied by SL")

Th Expert will set the TP based on the SL manually set using the input multiplier. Using this you can set 2,3,4 etc times the SL set.

[Ofir Blue Telegram API for any indicator](/en/code/43921 "Ofir Blue Telegram API for any indicator")

Connect your indicator to Telegram with 3 lines of code
This sample code enables to connect your indicator to Ofir Blue, the first trading application for Telegram

[Change TPSL By Percentage](/en/code/43951 "Change TPSL By Percentage")

The Expert will help you change the TP/SL of all open orders by setting the TP/SL based on the input percentage value.

[AllAverages v4.9](/en/code/43879 "AllAverages v4.9")

One of the latest version of this indicator at the moment. Huge base of different modifications of moving averages, with multitimesframe function, sending signals to e-mail and push notifications.

[Exponential Commodity Channel Index](/en/code/43863 "Exponential Commodity Channel Index")

Commodity Channel Index using exponential moving averages.

[MoveStopLoss](/en/code/43793 "MoveStopLoss")

Move the stoploss as the trade moves in your direction at a specific distance.

[1](/en/code/mt4)[2](/en/code/mt4/page2)[3](/en/code/mt4/page3)[4](/en/code/mt4/page4)[5](/en/code/mt4/page5)[6](/en/code/mt4/page6)[7](/en/code/mt4/page7)[8](/en/code/mt4/page8)[9](/en/code/mt4/page9)[10](/en/code/mt4/page10)[11](/en/code/mt4/page11)[12](/en/code/mt4/page12)[...](/en/code/mt4/page58)[104](/en/code/mt4/page104)