# The smart averager - Hello Smart - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/16348

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16348) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# The smart averager - Hello Smart - expert for MetaTrader 5

[Andrey Kornishkin](/en/users/am2)  |
[English](javascript:void(false);)

[Русский](/ru/code/16348) [中文](/zh/code/16348) [Español](/es/code/16348) [Deutsch](/de/code/16348) [日本語](/ja/code/16348) [Português](/pt/code/16348)

Views:
:   6460

Rating:
:   (25)

Published:
:   18 January 2017, 09:23
:   [HelloSmart.mq5](/en/code/download/16348/hellosmart.mq5 "HelloSmart.mq5")
    (3.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16348.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The **Hello Smart** Expert Advisor averages losing positions. The **BuySell** trading direction is selected in the settings. Then, if the price goes in unfavorable direction, the EA opens an averaging order with a fixed volume of **Lot** at the **Step** distance specified in points. Once the EA accumulates positions of **BigLot** volume, the initial lot size increases by the **Mnogitel** coefficient. The position is closed upon reaching the **Profit** or **Loss** in the deposit currency. All EA operations are performed on the candle open prices.

The EA has been optimized at the interval from 11.01.2013 to 12.09.2016 for the EURUSD currency pair, H1 and Н4 periods.

**Settings:**

```mql5
input int BuySell     = 1;    // 1-Only Buy 2-Only Sell
input int Step        = 1000; // Step
input double Lot      = 0.1;  // Volume
input double BigLot   = 0.5;  // Big Lot
input double MaxLots  = 5;    // Maximum lot
input double Profit   = 60;   // Dollars Profit 
input double Loss     = 5100; // Dollars Loss
input double Mnogitel = 10;   // Lots Mnogitel 
```

![](https://c.mql5.com/18/53/1__5.png)

Fig1. Results of the EA trading and optimization from 11.01.2013 to 12.09.2016. EURUSD, H1

![](https://c.mql5.com/18/53/1__4.png)

Fig.2. Results of the EA trading and optimization from 11.01.2013 to 12.09.2016. EURUSD, H4

**Tips:**

* Recommended for use as a trading assistant and for developing your own strategies.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16348](/ru/code/16348)

**[Go to discussion](/en/forum/167139)**

![XvaMA_HTF](https://c.mql5.com/i/code/indicator.png)
[XvaMA\_HTF](/en/code/16342)

The XvaMA indicator with the timeframe selection option available in the input parameters.

![Exp_ColorXvaMA_Digit](https://c.mql5.com/i/code/expert.png)
[Exp\_ColorXvaMA\_Digit](/en/code/16341)

The Exp\_ColorXvaMA\_Digit Expert Advisor is based on the ColorXvaMA\_Digit indicator color change.

![Multi-currency night scalper - Night Scalper Multi](https://c.mql5.com/i/code/expert.png)
[Multi-currency night scalper - Night Scalper Multi](/en/code/16350)

Night scalper, trades until 0 am terminal time within a narrow range.

![JSatl_HTF](https://c.mql5.com/i/code/indicator.png)
[JSatl\_HTF](/en/code/16357)

The JSatl indicator with the timeframe selection option available in the input parameters.