# XP Forex Trade Manager Grid MT5 - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/42179

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/42179) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# XP Forex Trade Manager Grid MT5 - expert for MetaTrader 5

MQL BLUE

Published by:
:   [Marzena Maria Szmit](/en/users/mqlblue)

Views:
:   10166

Rating:
:   (19)

Published:
:   9 January 2023, 15:45

Updated:
:   24 March 2025, 16:18
:   [XP Trade Manager Grid.mq5](/en/code/download/42179/xp_trade_manager_grid.mq5 "XP Trade Manager Grid.mq5")
    (91.55 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/42179.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Forex Trade Manager Grid MT5 helps you to managing orders and achieve the goal. You only need to place first order with Take Profit, run EA and set in params profit (pips) you want to get. EA will be managing your positions, as will gather appointed number of pips. It‚Äôs a strategy for management of manual trades opened on current pair. The strategy adds positions to currently opened trades in a grid management (with chosen distance in pips between trades) - up to 15 trades (or less). First up to 3 trades are managed with individual take profits, after 4th trade the EA close whole grid on common level (break-even). After closing the trade on TP, it can be renewed. Whole cycle can be closed if loss is bigger than allowed risk balance percentage.¬†

**Parameters:**

"Additional Trade Params":¬†

AddNewTradeAfter ‚Äì distance in pips from last trade after which trades are added to the grid

‚ÄúTake Profit‚Äù

TakeProfit1Total (number) ‚Äì total TP in pips required from first position

TakeProfit1Partitive ‚Äì initial TP in pips for the first position in cycle

TakeProfit1Offset ‚Äì minimum distance in pips from take profit of last closed first position required to renew this first trade

TakeProfit 2/3 ‚Äì individual TP in pips for the second/third position in cycle

TakeProfit 4/5/6/‚Ä¶15Total ‚Äì total TP in pips from all positions in cycle (for 4 or more trades opened)

‚ÄúTradeParams‚Äù

MaxOrders ‚Äì maximum allowed number of trades in grid

Risk Balance % ‚Äì maximum allowed loss as percentage of the account balance (closes all opened positions)

Lots ‚Äì lot size for trades opened by the EA

Slippage ‚Äì allowed slippage in points

**Info:**

All parameters for trades and functions are settable in the parameters of the EA. The Forex Trade Manager Grid also display on the chart an information about the profit/loss from current cycle in pips and account currency.¬†

![](https://c.mql5.com/18/160/trade-manager-grid-mt5-1.png)

![](https://c.mql5.com/18/160/trade-manager-grid-mt5-2.png)

**Last comments |
[Go to discussion](/en/forum/439438)**
(4)

![ercanolcer](https://c.mql5.com/avatar/2018/10/5BBDD477-DA04.jpg "ercanolcer")

**[ercanolcer](/en/users/ercanolcer)**
|
12 Jan 2023 at 08:19

How to use? User manual?

![MQL TOOLS SL](https://c.mql5.com/avatar/2024/4/660db045-db29.jpg "MQL TOOLS SL")

**[Marzena Maria Szmit](/en/users/mqlblue)**
|
12 Jan 2023 at 16:06

Hi  
  
Open first position manually with TP.

![Priyanka Verma](https://c.mql5.com/avatar/2019/11/5DD63591-64A0.jpg "Priyanka Verma")

**[Priyanka Verma](/en/users/instaindicator)**
|
18 Oct 2024 at 08:13

There is a warning while compiling the code [possible loss of data](https://www.mql5.com/en/docs/basis/types/casting "MQL5 Documentation: Typecasting") due to type conversion from 'long' to 'int' Manager\_Grid.mq5 691 25 possible loss of data due to type conversion from 'ulong' to 'int' Manager\_Grid.mq5 828 47 can you please advise what to change to remove these warnings? I have also run the program with those warnings, however, there is no trade populated.

![MQL TOOLS SL](https://c.mql5.com/avatar/2024/4/660db045-db29.jpg "MQL TOOLS SL")

**[Marzena Maria Szmit](/en/users/mqlblue)**
|
24 Mar 2025 at 16:21

Hi

We‚Äôve added the new code, and it compiles without any issues. You might want to try checking it with a different account.

Have a nice dayüëçüìä

![xoshiro256 Random Number Generator](https://c.mql5.com/i/code/library.png)
[xoshiro256 Random Number Generator](/en/code/42098)

The 64-bit xoshiro256\*\* Random Number Generator.

![RSI Bot MT5](https://c.mql5.com/i/code/expert.png)
[RSI Bot MT5](/en/code/41739)

RSI Bot, send alert buy when RSI<=20, send alert sell when RSI>=80

![XP Forex Trade Manager MT5](https://c.mql5.com/i/code/expert.png)
[XP Forex Trade Manager MT5](/en/code/42180)

Forex Trade Manager MT5 simplifies managing open orders in MetaTrader 5.

![Price Line 3](https://c.mql5.com/i/code/indicator.png)
[Price Line 3](/en/code/42262)

Shows moving Last Price on Bid Line, LAst 24 hours percentage change, switch chart from arrow keys and more..