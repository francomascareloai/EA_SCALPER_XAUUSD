# Trading signals module based on WPRSIsignal indicator - library for MetaTrader 5

Source: https://www.mql5.com/en/code/843

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/843) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Trading signals module based on WPRSIsignal indicator - library for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/843) [中文](/zh/code/843) [Español](/es/code/843) [Deutsch](/de/code/843) [日本語](/ja/code/843) [Português](/pt/code/843)

Views:
:   6197

Rating:
:   (21)

Published:
:   1 March 2012, 15:57

Updated:
:   22 November 2016, 07:32
:   \MQL5\Indicators\

    [wprsisignal.mq5](/en/code/download/843/wprsisignal.mq5 "wprsisignal.mq5")
    (6.83 KB)
    [view](# "view")

    \MQL5\Include\Expert\Signal\MySignals\

    [wprsisignal.mqh](/en/code/download/843/wprsisignal.mqh "wprsisignal.mqh")
    (12.79 KB)
    [view](# "view")

    \MQL5\Experts\

    [expm\_wprsisignal.mq5](/en/code/download/843/expm_wprsisignal.mq5 "expm_wprsisignal.mq5")
    (7.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/843.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The signal is formed when a bar is closing. [WPRSIsignal](/en/code/599) indicator's color arrow serves as a market entry signal.

Place WPRSIsignal.ex5 compiled file to the terminal\_data\_catalogue\MQL5\Indicators.

Creation of a trading robot based on this trading signals module has nothing special in it. It has been described in details in the article "[MQL5 Wizard for Dummies](/en/articles/287)". The general idea of creating a trading signals module has been described in the article "[Simple Trading Systems Using Semaphore Indicators](/en/articles/358)".

Default Expert Advisor's input parameters have been used during the tests shown below. Stop Loss and Take Profit have not been used during the tests.

![Fig.1. Deals examples on the chart](https://c.mql5.com/18/6/1_Result__15.png "Fig.1. Deals examples on the chart")

Fig.1. Deals examples on the chart

Testing results for 2011 at NZDUSD H4:

![Fig.2. Test results chart](https://c.mql5.com/18/6/1_TesterGraphReport__16.png "Fig.2. Test results chart")

Fig.2. Test results chart

**Note:**

The Expert Advisor generated using MQL5 Wizard chooses the moments for opening and closing positions based on the results of the "voting" of trading signals added during the Expert Advisor creation. The main trading signals module (containing all added ones) also takes part in the "voting" but its LongCondition() and ShortCondition() methods always
return 0.

Since the smoothing by the number of present modules (basic one + one additional module) is performed during the "votes" calculation, threshold values should be indicated considering this fact. For this reason, Signal\_ThresholdOpen and Signal\_ThresholdClose values must be set to 40=(0+80)/2 and 20=(0+40)/2, respectively, after creation of the Expert Advisor code using MQL5 Wizard.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/843](/ru/code/843)

**[Go to discussion](/en/forum/6300)**

![Trading signals module based on Candles_Smoothed indicator](https://c.mql5.com/i/code/library.png)
[Trading signals module based on Candles\_Smoothed indicator](/en/code/829)

Trading signals module for MQL5 Wizard. The moment, when a candlestick formed by Candles\_Smoothed changes its color, indicates the time for market entry.

![Trading signals module based on PriceChannel_Stop indicator](https://c.mql5.com/i/code/library.png)
[Trading signals module based on PriceChannel\_Stop indicator](/en/code/837)

Trading signals module for MQL5 Wizard. The moment, when PriceChannel\_Stop indicator changes its color, indicates the time for market entry.

![CFastFile - class for working with uchar array as a virtual file](https://c.mql5.com/i/code/library.png)
[CFastFile - class for working with uchar array as a virtual file](/en/code/845)

The CFastFile eliminates the need for an intermediate writing of data to the physical file on disk. It provides the significant acceleration when working with data.

![Trading signals module based on ColorJFatl indicator](https://c.mql5.com/i/code/library.png)
[Trading signals module based on ColorJFatl indicator](/en/code/841)

Trading signals module for MQL5 Wizard. The moment, when ColorJFatl indicator changes its color, indicates the time for market entry.