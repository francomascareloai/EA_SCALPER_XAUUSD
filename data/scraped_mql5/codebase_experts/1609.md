# Demo_FileFind - script for MetaTrader 5

Source: https://www.mql5.com/en/code/1609

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/1609) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Demo\_FileFind - script for MetaTrader 5

[Automated-Trading](/en/users/automated-trading)  |
[English](javascript:void(false);)

[Русский](/ru/code/1609) [中文](/zh/code/1609) [Español](/es/code/1609) [Deutsch](/de/code/1609) [日本語](/ja/code/1609) [Português](/pt/code/1609)

Views:
:   4679

Rating:
:   (28)

Published:
:   27 March 2013, 14:46

Updated:
:   22 November 2016, 07:32
:   [demo\_filefindfirst.mq5](/en/code/download/1609/demo_filefindfirst.mq5 "demo_filefindfirst.mq5")
    (1.76 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/1609.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The script is a simple example of using functions for search and work with files and directories.

This script searches and displays names of all files and directories to the "Experts" folder which are located in the terminal local folder. The terminal local folder location can be obtained calling the [TerminalInfoString](/en/docs/check/terminalinfostring)() function.

```mql5
PrintFormat("The path to the terminal local folder: %s\\Files\\",TerminalInfoString(TERMINAL_DATA_PATH));
```

The script uses the useful property of the [FileIsExist](/en/docs/files/fileisexist)() function to find the directories. If the name of the current directory in the function parameter is specified, the function will return "false", and the [\_LastError](/en/docs/predefined/_lasterror)  variable will log an error 5018 - "This is not a file, this is a directory".

You can find more information about the description of the [FileFindFirst](/en/docs/files/filefindfirst)(), [FileFindNext](/en/docs/files/filefindnext)() and [FileFindClose](/en/docs/files/filefindclose)() functions in the Help.

**Code:**

```mql5
void OnStart()
  {
   string file_name;
   int    i=1;
//--- receive search handle in local folders' root
   long search_handle=FileFindFirst(InpFilter,file_name);
//--- check if FileFindFirst() function executed successfully
   if(search_handle!=INVALID_HANDLE)
     {
      //--- check if the passed strings are file or directory names in the loop
      do
        {
         ResetLastError();
         //--- if this is a file, the function will return true, if it is a directory, the function will generate error
         FileIsExist(file_name);
         PrintFormat("%d : %s name = %s",i,GetLastError()==5018 ? "Directory" : "File",file_name);
         i++;
        }
      while(FileFindNext(search_handle,file_name));
      //--- close search handle
      FileFindClose(search_handle);
     }
   else
      Print("Files not found!");
  }
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/1609](/ru/code/1609)

**[Go to discussion](/en/forum/11334)**

![FigurelliSeries](https://c.mql5.com/i/code/indicator.png)
[FigurelliSeries](/en/code/1608)

The indicator allows defining the trend direction

![CCIArrows](https://c.mql5.com/i/code/indicator.png)
[CCIArrows](/en/code/1605)

The semaphore signal indicator fixing moments of breakthrough of the zero level by the iCCI technical indicator and displaying these moments by color points

![Demo_FileCopy](https://c.mql5.com/i/code/script.png)
[Demo\_FileCopy](/en/code/1611)

The script demonstrates the example of using the FileCopy() function

![Demo_FileDelete](https://c.mql5.com/i/code/script.png)
[Demo\_FileDelete](/en/code/1610)

The script demonstrates the example of using the FileDelete() function