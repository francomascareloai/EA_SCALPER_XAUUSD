# MACD using QWMA - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/16912

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16912) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# MACD using QWMA - indicator for MetaTrader 5

[Mladen Rakic](/en/users/mladen)  |
[English](javascript:void(false);)

[Русский](/ru/code/16912) [中文](/zh/code/16912) [Español](/es/code/16912) [Deutsch](/de/code/16912) [日本語](/ja/code/16912) [Português](/pt/code/16912)

Views:
:   13587

Rating:
:   (28)

Published:
:   15 November 2016, 14:32

Updated:
:   21 April 2017, 10:23
:   [macd\_of\_qwma.mq5](/en/code/download/16912/macd_of_qwma.mq5 "macd_of_qwma.mq5")
    (28.25 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16912.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

MACD that uses a new version of QWMA moving average for calculation ...

After some experiments it turned out that qwma can be a kind of a "chameleon". Depending on the "speed" parameter it can be:

* Speed
  equal to 2 is the basic value  (or parabolic weighted moving average - whatever name is used).
* Speed 1 is equal to linear weighted moving average (LWMA).
* Speed 0 is equal to simple moving average (SMA).

And
in between and above, for each new speed it is a sort of an no-named (yet)
average. So, after all, we have now a completely new "family" of
average. The higher the "speed" parameter value, the faster the "qwma". That qwma is used by this macd to calculate a whole new set of possible macd(s) that, since some of the qwma(s) do not have a name at all, also are a complete novelty as a new kind of a macd not existed before.

![](https://c.mql5.com/18/55/qwma_macd.png)

The usage is the usual macd: this version already includes multi time frame, coloring on signal cross (osma is not added since the filled area is shoving quite nicely what the osma would just duplicate on the zero line) and the usual set of prices and alerts is already a part of this indicator. Some experimenting is recommended, but the rule of thumb is that the higher "speed" you use, the faster the macd will be and then you shall probably have to adjust the main macd periods.

**Last comments |
[Go to discussion](/en/forum/160992)**
(2)

![Lim Ling](https://c.mql5.com/avatar/avatar_na2.png "Lim Ling")

**[Lim Ling](/en/users/limyiling84)**
|
17 Sep 2017 at 16:23

is there a mt4 version? and can it be overlay on the main chart itself as band?

![GUY BERTRAND YANA](https://c.mql5.com/avatar/2019/9/5D76ECA3-5C7A.jpg "GUY BERTRAND YANA")

**[GUY BERTRAND YANA](/en/users/bertrandyann)**
|
10 Jun 2020 at 23:04

Mladen, you are the best.

Thanks for this modified [MACD](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/macd "MetaTrader 5 Help: MACD Indicator").

![Quantile bands - generalized](https://c.mql5.com/i/code/indicator.png)
[Quantile bands - generalized](/en/code/16911)

Quantile bands - generalized version.

![Double smoothed stochastic](https://c.mql5.com/i/code/indicator.png)
[Double smoothed stochastic](/en/code/16889)

Double smoothed stochastic - extended

![QWMA - quadratic weighted moving average](https://c.mql5.com/i/code/indicator.png)
[QWMA - quadratic weighted moving average](/en/code/16913)

QWMA - "quadratic weighet moving average" new generation

![Harmonic Pattern Finder V2](https://c.mql5.com/i/code/indicator.png)
[Harmonic Pattern Finder V2](/en/code/16852)

Indicator to display existent and emerging harmonic chart patterns.