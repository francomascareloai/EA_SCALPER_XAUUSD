# Variation Index - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/463

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/463) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Variation Index - indicator for MetaTrader 5

Ilnur  |
[English](javascript:void(false);)

[Русский](/ru/code/463) [中文](/zh/code/463) [Español](/es/code/463) [Deutsch](/de/code/463) [日本語](/ja/code/463) [Português](/pt/code/463) [한국어](/ko/code/463) [Français](/fr/code/463) [Italiano](/it/code/463) [Türkçe](/tr/code/463)

Published by:
:   [Nikolay Kositsin](/en/users/godzilla)

Views:
:   11736

Rating:
:   (24)

Published:
:   27 September 2011, 13:13

Updated:
:   6 September 2017, 12:38
:   [iVAR.mq5](/en/code/download/463/ivar.mq5 "iVAR.mq5")
    (13.04 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/463.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Real author:**

[Ilnur](https://www.mql5.com/en/users/ilnur "https://www.mql5.com/en/users/ilnur")

Variation Index shows if a trend or a flat movement is prevailing in the time series or random behaviour.

Nowadays, the most popular representatives of the fractal time functions are the financial time series. The fractal structure of these series is well-known and aсcording to Mandelbrot is a "theoretical reformulation of a down-to-earth bit of market folklore-namely, that movements of a stock or currency all look alike when a market chart is enlarged or reduced so that it 5ts the same time and price scale" [1].

Usually, to determine the fractal dimension the Hurst's exponent is calculated [2]. However, for the reliable
calculation of this exponent a huge amount of data is necesary (~ 10^3) and that is too much comparing to the duration of the trends of trading.

The authors [1] interpose the fractal characteristics - the variation index (m) that is closely related to the common fractal dimension. In distinct from the Hurst's exponent, the amount of information that is necessary for index determination is less by a factor of 2. It leads to use it as a local characteristics for determination of the dynamics of the price series. If m < 0.5, it can be interpretated as a trend and m > 0.5 - as a flat.

The suggested indicator calculates the variation index on a previous interval which is 2^n long. The "n" parameter is specified by the user.

The common rules of the indicator application are the following:

* If the value of the indicator is lower than 0.5, it means the trend state of the market.
* The extremely low value is often precedes the end (correction) of the current trend.
* If the value of the indicator is higher than 0.5, it means the flat state of the market.
* The extremely high value is often precedes the beginning of the considerable trends.
* If the value of the indicator is close to 0.5, it means an undefined state of the market.

This indicator was first implemented in MQL4 and published in [CodeBase at mql4.com](https://www.mql5.com/ru/code/8464 "https://www.mql5.com/ru/code/8464") 06.10.2008.

![Variation Index](https://c.mql5.com/18/3/iVAR__1.png "Variation Index")

**References**

1. [M.M. Dubovikov et al, Dimension of the Minimal Cover and Local Analysis of Fractal Time Series, 2004.](http://pubs.giss.nasa.gov/docs/2004/2004_Dubovikov_etal.pdf "http://pubs.giss.nasa.gov/docs/2004/2004_Dubovikov_etal.pdf")
2. [Edgar E. Peters, Fractal Market Analysis. Applying Chaos Theory to Investment and Economics, John Wiley & Sons, 2003.](/go?link=https://www.amazon.com/Fractal-Market-Analysis-Investment-Economics/dp/0471585246 "http://www.amazon.com/Fractal-Market-Analysis-Investment-Economics/dp/0471585246")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/463](/ru/code/463)

**Last comments |
[Go to discussion](/en/forum/4763)**
(9)

![kofesutra](https://c.mql5.com/avatar/2016/10/580E0549-58CC.png "kofesutra")

**[kofesutra](/en/users/kofesutra)**
|
2 Oct 2017 at 18:14

**Nikolay Kositsin:**  

A strange typo has been discovered! Wait for the publication of a new version.

  

Dear Nikolay, hello!

You haven't made a new version yet? I want to feel it ;)

![Nikolay Kositsin](https://c.mql5.com/avatar/2014/6/538DE448-E682.jpeg "Nikolay Kositsin")

**[Nikolay Kositsin](/en/users/godzilla)**
|
6 Oct 2017 at 09:58

**kofesutra:**  
   

Dear Nikolay, hello!

Have you made a new version yet? I want to feel it ;)

Can't you check it?

![Вячеслав Новиков](https://c.mql5.com/avatar/avatar_na2.png "Вячеслав Новиков")

**[Вячеслав Новиков](/en/users/stifneo)**
|
29 Jan 2018 at 16:30

**Nikolay Kositsin:**  
 Why don't you check it out?

I did. It doesn't work, you drag it with the mouse on the chart and no lines are displayed.... What's the matter. I really want to use it as one of the indicators of my EA.

![Nikolay Kositsin](https://c.mql5.com/avatar/2014/6/538DE448-E682.jpeg "Nikolay Kositsin")

**[Nikolay Kositsin](/en/users/godzilla)**
|
29 Jan 2018 at 17:34

**Вячеслав Новиков:**  
 I checked. It doesn't work, you drag it with the mouse to the chart and no lines are displayed.... What's the matter. I really want to use it as one of the indicators of my EA.

I checked it! Everything works.

![](https://c.mql5.com/3/170/picture.png)

On any timeframe. And, therefore, study the terminal [matrix](https://www.mql5.com/en/docs/matrix/matrix_types " MQL5 Documentation: Matrix and vector types"), where the indicators should lie and where you actually place them and how you compile them. I don't do personal training.

Well, you should also keep an eye on the number of indicators, if an indicator is beyond the first five hundred, it will not hang on the chart!

![Haruto Rat](https://c.mql5.com/avatar/2020/8/5F4B1E7E-4581.jpg "Haruto Rat")

**[Haruto Rat](/en/users/harutorat)**
|
7 Jan 2022 at 21:31

The first link died of old age, but fortunately it is preserved on archive.org: \*\*\*

![Five Tirone Levels](https://c.mql5.com/i/code/indicator.png)
[Five Tirone Levels](/en/code/458)

The indicator consists of five Tirone Levels that are, in fact, support and resistance levels based on a trading range for a certain period of time.

![Three Tirone Levels](https://c.mql5.com/i/code/indicator.png)
[Three Tirone Levels](/en/code/457)

The indicator consists of support and resistance levels based on a trading range for a certain period of time.

![DailyPivotPoints](https://c.mql5.com/i/code/indicator.png)
[DailyPivotPoints](/en/code/472)

The DailyPivot Points indicator helps to compose a picture of market future movements, in distinct from the other tools that hang behind the market.

![DailyPivotPoints_Full](https://c.mql5.com/i/code/indicator.png)
[DailyPivotPoints\_Full](/en/code/473)

The indicator helps to compose a picture of market future movements, in distinct from the other tools that hang behind the market. The information that became available in the course of the previous day is used to calculate the check points of the minor trend of the current day.