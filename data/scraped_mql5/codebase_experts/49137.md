# Reverse Trades For All Symbols Script - script for MetaTrader 4

Source: https://www.mql5.com/en/code/49137

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/49137) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Reverse Trades For All Symbols Script - script for MetaTrader 4

Fast and reliable Tested in Demo account

Published by:
:   [Deleted]

Views:
:   4940

Rating:
:   (3)

Published:
:   9 April 2024, 17:44

Updated:
:   10 April 2024, 00:21
:   [Reverse\_Trades\_For\_all\_Trades\_and\_Symbols\_V1.mq4](/en/code/download/49137/reverse_trades_for_all_trades_and_symbols_v1.mq4 "Reverse_Trades_For_all_Trades_and_Symbols_V1.mq4")
    (3.07 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/49137.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The strategy implemented in the script "Reverse\_Trades\_For\_all\_Trades\_and\_Symbols\_V1.mq4" reverses all open trades for all symbols on the trading platform. When executed, the script iterates through all open trades, closing each one and opening an opposite trade for the same symbol. This effectively reverses the direction of each trade, allowing traders to profit from changes in market direction. It is important to thoroughly test the script in a demo account before using it on a live trading account.

Here's a breakdown of the key components:

OnStart(): This function is called when the script starts. It calls the ReverseTrades() function.

ReverseTrades(): This function iterates through all open trades using a loop. For each trade, it selects the trade and retrieves essential information such as order type, open price, lot size, and symbol. Then, it closes the existing order using OrderClose() and opens an opposite order using OrderSend().

OrderClose(): This function closes the existing order with the specified ticket, lot size, and close price.

OrderSend(): This function opens a new order in the opposite direction with the specified symbol, order type, lot size, and open price.

The script provides feedback via the Print() function to inform about the status of each operation, such as whether an order was closed or opened successfully.

This script can be useful for traders who want to quickly reverse their positions across all symbols in their MetaTrader platform.

[![](https://c.mql5.com/18/155/Screenshot_2024-04-09_083804__1.png)](https://c.mql5.com/18/155/Screenshot_2024-04-09_083804.png "https://c.mql5.com/18/155/Screenshot_2024-04-09_083804.png")

[![](https://c.mql5.com/18/155/Screenshot_2024-04-09_083838__1.png)](https://c.mql5.com/18/155/Screenshot_2024-04-09_083838.png "https://c.mql5.com/18/155/Screenshot_2024-04-09_083838.png")

**Last comments |
[Go to discussion](/en/forum/465367)**
(3)

![Daniel Ken Kirchgatterer](https://c.mql5.com/avatar/avatar_na2.png "Daniel Ken Kirchgatterer")

**[Daniel Ken Kirchgatterer](/en/users/daniel.kirchgatterer)**
|
16 Dec 2024 at 22:27

Hello, is ist possible to make that for MT5 to please?

![Silk Road Trading LLC](https://c.mql5.com/avatar/2025/5/68239006-fc9d.png "Silk Road Trading LLC")

**[Ryan L Johnson](/en/users/rjo)**
|
16 Dec 2024 at 22:36

**Daniel Ken Kirchgatterer [#](/en/forum/465367#comment_55398133):**  
 Hello, is ist possible to make that for MT5 to please?

I wouldn't expect an MT5 version from the Author who is now "[Deleted]."

I'll have a look at the MQL4 code and assess it for conversion. Stay tuned...

![Silk Road Trading LLC](https://c.mql5.com/avatar/2025/5/68239006-fc9d.png "Silk Road Trading LLC")

**[Ryan L Johnson](/en/users/rjo)**
|
17 Dec 2024 at 02:25

@ [Daniel Ken Kirchgatterer](/en/users/daniel.kirchgatterer), I rewrote the script for MT5. It compiles without errors but has not been tested. Please test in demo only and post back.

![Trailing_StopLoss_for All_orders_and_symbols](https://c.mql5.com/i/code/expert.png)
[Trailing\_StopLoss\_for All\_orders\_and\_symbols](/en/code/49083)

Trailing\_StopLoss\_for All\_orders\_and\_symbols

![Simple continuous trend-following strategy for buying and selling based on predefined conditions](https://c.mql5.com/i/code/expert.png)
[Simple continuous trend-following strategy for buying and selling based on predefined conditions](/en/code/41679)

Simple continuous trend-following strategy for buying and selling based on predefined conditions

![Close Basket Pairs v1](https://c.mql5.com/i/code/expert.png)
[Close Basket Pairs v1](/en/code/49145)

This MQL4 EA is designed to close positions for a basket of currency pairs based on certain profit and loss thresholds.

![Virtual SL TP Pending with SL Trailing for Symbol Chart](https://c.mql5.com/i/code/expert.png)
[Virtual SL TP Pending with SL Trailing for Symbol Chart](/en/code/49146)

Virtual SL TP Pending with SL Trailing for Symbol Chart