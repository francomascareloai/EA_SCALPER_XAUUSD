# SAR RSI MTS - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/19940

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/19940) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# SAR RSI MTS - expert for MetaTrader 5

Collector  |
[English](javascript:void(false);)

[Русский](/ru/code/19940) [中文](/zh/code/19940) [Español](/es/code/19940) [Deutsch](/de/code/19940) [日本語](/ja/code/19940) [Português](/pt/code/19940)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6513

Rating:
:   (18)

Published:
:   1 March 2018, 11:55
:   [SAR RSI MTS.mq5](/en/code/download/19940/sar_rsi_mts.mq5 "SAR RSI MTS.mq5")
    (19.92 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/19940.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**The author of the idea**: [Collector](/en/users/collector "Collector (Collector)"), **the author of the MQL5 code**: [barabashkakvn](/en/users/barabashkakvn).

The rules of the trading system are as follows:

* **A signal to open BUY**: SAR on bar 1 is less than the Close of bar 0, SAR on bar 1 is less than SAR on bar 0, RSI on bar 0 is greater than 50.0;
* **A signal to open SELL**: SAR on bar 1 is greater than the Close of bar 0, SAR on bar 1 is greater than SAR on bar 0, RSI on bar 0 is less than 50.0;

Lot is calculated automatically based on the risk value as a percentage of free margin.

Condition to open a Sell position:

![SAR RSI MTS Open Sell](https://c.mql5.com/18/64/SAR_RSI_MTS_Open_Sell.png "SAR RSI MTS Open Sell")

### Input Parameters

* **Stop Loss (in pips)** - Stop Loss value;
* **Take Profit (in pips)** - Take Profit value;
* **Trailing Stop (in pips)** - trailing value;
* **Trailing Step (in pips)** - trailing step value;
* **Risk in percent for a deal from a free margin** - risk per trade as percentage of free margin.
* **Magic Number** - unique identifier of the EA;
* **SAR: price increment step - acceleration factor** - SAR indicator parameter;
* **SAR: maximum value of step** - SAR indicator parameter;
* **RSI: averaging period** - RSI indicator parameter;
* **RSI: type of price** - RSI indicator parameter.

Example for SAR RSI MTS 2017.06.08 - 2017.10.26 GBPUSD,M30:

![SAR RSI MTS GBPUSD,M30](https://c.mql5.com/18/64/SAR_RSI_MTS_GBPUSD7M30.png "SAR RSI MTS GBPUSD,M30")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/19940](/ru/code/19940)

**Last comments |
[Go to discussion](/en/forum/229130)**
(5)

![Anton187](https://c.mql5.com/avatar/avatar_na2.png "Anton187")

**[Anton187](/en/users/anton187)**
|
21 Aug 2019 at 19:25

Good afternoon.

What are the peculiarities of the work of this Expert Advisor on the FORTS [Moscow Exchange](https://www.mql5.com/en/articles/1284 "Article: Fundamentals of exchange pricing on the example of the derivatives section of the Moscow Exchange ") market? Position accounting is netting. Is it possible to adapt it to work with contracts?

During testing it does not always enter a deal. The algorithm is interesting, but I would like to improve it together....

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
22 Aug 2019 at 06:05

**Anton187:**  

Good afternoon.

What are the peculiarities of the work of this Expert Advisor on the FORTS Moscow Exchange market? Position accounting is netting. Is it possible to adapt it to work with contracts?

During testing it does not always enter a deal. The algorithm is interesting, but I would like to improve it together....

I have no idea who "FORTS" is: the market is either forex or stock exchange (please do not confuse the Exchange and all sorts of trading organisations). At the moment I have no opportunity to check and test on the stock exchange. But the [Expert Advisor](https://www.mql5.com/en/market/mt5/ "A Market of Applications for the MetaTrader 5 and MetaTrader 4") itself can simultaneously hold both BUY and SELL - which will be very bad for netting.

![Anton187](https://c.mql5.com/avatar/avatar_na2.png "Anton187")

**[Anton187](/en/users/anton187)**
|
22 Aug 2019 at 10:02

Thank you for your reply.

FORTS is futures rts dollar euro on the Moscow Exchange. I'm not confused. The real stock exchange :)

[https://www.mql5.com/en/articles/1284](/en/articles/1284) - BASICS OF EXCHANGE PRICING ON THE EXAMPLE OF THE FUTURES SECTION OF THE MOSCOW EXCHANGE

![igor65333](https://c.mql5.com/avatar/avatar_na2.png "igor65333")

**[igor65333](/en/users/igor65333)**
|
23 Aug 2023 at 15:02

Good afternoon! Can you tell me... Your Expert Advisor is now working on a 30 min chart... and it puts lots every half an hour... if the conditions are met) but the conditions are not changing quickly, the number of trades in the market is growing every half an hour... how can I make it so that the [entry into the market](https://www.metatrader5.com/en/terminal/help/trading/performing_deals#position_manage "MetaTrader 5 Help: Opening and Closing Positions in the MetaTrader 5 Trading Terminal") would be once, before triggering either take or stop...??

![Vladimir Lovec](https://c.mql5.com/avatar/2025/11/691ae5ac-cca1.png "Vladimir Lovec")

**[Vladimir Lovec](/en/users/lovec)**
|
11 Feb 2025 at 11:56

Here is a link to SAR indicators and advisors. https://www.[mql5.com/ru/users/lovec/seller](https://www.mql5.com/en/users/lovec/seller "https://www.mql5.com/en/users/lovec/seller")

![Ambush](https://c.mql5.com/i/code/expert.png)
[Ambush](/en/code/19936)

The Expert Advisor uses Buy Stop and Sell Stop orders to trade news and large price movements.

![RndTrade](https://c.mql5.com/i/code/expert.png)
[RndTrade](/en/code/19931)

Opening positions randomly after a certain time interval.

![EMA Cross Contest Hedged](https://c.mql5.com/i/code/expert.png)
[EMA Cross Contest Hedged](/en/code/19945)

A trading system based on three indicators: two iMAs (Moving Average) and iMACD (Moving Average Convergence/Divergence, MACD).

![AO_Divergence](https://c.mql5.com/i/code/indicator.png)
[AO\_Divergence](/en/code/19950)

The indicator searches for divergences and displays them on the chart of the custom AO indicator.