# Simple Support and Resistance - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/46970

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/46970) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Simple Support and Resistance - indicator for MetaTrader 4

[THOMAS RAY GURCHIEK](/en/users/gurchiekt)

Views:
:   15149

Rating:
:   (9)

Published:
:   23 October 2023, 16:45
:   [GC\_SupportResistance.mqproj](/en/code/download/46970/gc_supportresistance.mqproj "GC_SupportResistance.mqproj")
    (1.65 KB)

    [GC\_SupportResistance.mq4](/en/code/download/46970/gc_supportresistance.mq4 "GC_SupportResistance.mq4")
    (2.67 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/46970.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is super simple starter code for anyone looking to work or build with support and resistance. It includes a mid-line which is calculated using the average of the support and resistance values.

The default setting for the number of bars to look back is 50. This can be updated by changing the value of "Lookback" on the input tab.

[![Support Resistance Mid-Line](https://c.mql5.com/18/152/SupportResistanceScreenie__1.png "Support Resistance Mid-Line")](https://c.mql5.com/18/152/SupportResistanceScreenie.png "https://c.mql5.com/18/152/SupportResistanceScreenie.png")

**Last comments |
[Go to discussion](/en/forum/456197)**
(5)

![Gracias Ubaid](https://c.mql5.com/avatar/2023/10/6533A9FD-2A81.png "Gracias Ubaid")

**[Gracias Ubaid](/en/users/graciasubaid)**
|
25 Oct 2023 at 10:53

indicator installed but TL of support resistance and midpoint not appearing

![Dhiren Dalal](https://c.mql5.com/avatar/2023/3/6412D713-E2A3.jpg "Dhiren Dalal")

**[Dhiren Dalal](/en/users/dhirendalal)**
|
31 Oct 2023 at 16:02

its not working. installed. or send me guide how to installed.

![Azad Amanuel Gorgis Gorgis](https://c.mql5.com/avatar/2019/8/5D5C7F4F-4532.jpg "Azad Amanuel Gorgis Gorgis")

**[Azad Amanuel Gorgis Gorgis](/en/users/azademma)**
|
18 Dec 2023 at 03:12

add these codes

> ```mql5
> #property indicator_chart_window
> #property indicator_buffers 3
> #property indicator_color1  Red
> #property indicator_color2  Blue
> #property indicator_color3  White
> #property indicator_width1  2
> #property indicator_width2  2
> #property indicator_width3  2
> #property strict
> //--- inputs
> input int Lookback = 50;
> 
> //--- indicator buffers
> double         SupportBuffer[];
> double         ResistanceBuffer[];
> double         MidLineBuffer[];
> //+------------------------------------------------------------------+
> //| Custom indicator initialization function                         |
> //+------------------------------------------------------------------+
> int OnInit()
>   {
> //--- indicator buffers mapping 
>    SetIndexBuffer(0,SupportBuffer);  SetIndexStyle(0,DRAW_LINE); SetIndexArrow(0,159); 
>    SetIndexBuffer(1,ResistanceBuffer);  SetIndexStyle(1,DRAW_LINE); SetIndexArrow(1,159); 
>    SetIndexBuffer(2,MidLineBuffer);  SetIndexStyle(2,DRAW_LINE); SetIndexArrow(2,159);
> ```
>
> Improperly [formatted code](/en/articles/24#insert-code) edited by moderator.

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
18 Dec 2023 at 04:23

**[@Azad Amanuel Gorgis Gorgis](/en/users/azademma) [#](/en/forum/456197#comment_51198992):** add these codes
> Improperly [formatted code](/en/articles/24#insert-code) edited by moderator.

Please**, always** [use the **CODE button (Alt-S)**](/en/articles/24#insert-code) when inserting code.

> [![Code button in editor](https://c.mql5.com/3/171/MQL5_Editor_Code_Button__1.png "Code button in editor")](https://c.mql5.com/3/171/MQL5_Editor_Code_Button.png "https://c.mql5.com/3/171/MQL5_Editor_Code_Button.png")

![FERDINAND TAMPUBOLON](https://c.mql5.com/avatar/2024/10/6700cabe-13f2.jpg "FERDINAND TAMPUBOLON")

**[FERDINAND TAMPUBOLON](/en/users/untungla)**
|
11 May 2024 at 08:29

thank you for correction code

![Range Ratio](https://c.mql5.com/i/code/indicator.png)
[Range Ratio](/en/code/46957)

Indicator shows histogram of ratio of sum of lower time frame ranges to current timeframe bar range

![M4HA](https://c.mql5.com/i/code/indicator.png)
[M4HA](/en/code/46909)

Trend indicator based on the intersection of adaptive HMA and its smoothed line. I recommend using it together with the flat indicator to determine the beginning of a trend early

![Take Profit based on your current profit](https://c.mql5.com/i/code/expert.png)
[Take Profit based on your current profit](/en/code/47010)

Most EAs tend to close orders in take profit based on the distance in pips from the purchase price. However, this MQL4 code is based mainly on the current profit.

![Rainbow Indicator for mt4](https://c.mql5.com/i/code/indicator.png)
[Rainbow Indicator for mt4](/en/code/47049)

This is an indicator with a rainbow-like display, both for trend or pullback prediction.