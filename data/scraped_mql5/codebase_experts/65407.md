# SAR_MACD_EA - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/65407

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/65407) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# SAR\_MACD\_EA - expert for MetaTrader 4

Educardo Trading

Published by:
:   [Jakobus Botes](/en/users/jakobusbotes)

Views:
:   3250

Rating:
:   (1)

Published:
:   30 October 2025, 06:22
:   [SAR-MACD-EA signal sample.png](/en/code/download/65407/SAR-MACD-EA_signal_sample.png "SAR-MACD-EA signal sample.png")
    (17.93 KB)

    [SAR\_MACD\_EA.mq4](/en/code/download/65407/SAR_MACD_EA.mq4 "SAR_MACD_EA.mq4")
    (25.99 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/65407.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

So far this expert is based on a 15 min bar or candle chart, so the MACD is used as early indication of direction. the focus is on the parabolic sar as first signal to indicate a buy or sell secondly it looks where the closed of bar or candle indicated on the chart if the third candle back was below sma and previous candle closed was above sma and sar flipped below the price. that constitute as a buy signal, if macd shows bullish move and sar flipped below price but previous candle close (close[1]) is still below the sma it waits for 5 candles window for price to close above the sma.

Be low is examples of the idea

![](https://c.mql5.com/18/170/xauusd_15m_sell.png)

the idea is that as soon as the candle close below the sma the 3rd candle should be above the sma and within that time frame the SAR should also flipped above the price, by this time macd confirms either at the same time or few candles back a bearish move.

this picture shows a buy

![xauusd 15min buy signal](https://c.mql5.com/18/170/xauusd_15m_buy.png "xauusd 15min buy signal")

**Last comments |
[Go to discussion](/en/forum/498995)**
(1)

![frkul88](https://c.mql5.com/avatar/2019/1/5C379EAE-B52D.png "frkul88")

**[frkul88](/en/users/frkul88)**
|
8 Nov 2025 at 16:02

On which Instruments did u thought about using that EA?  
I tired on [EURUSD](https://www.mql5.com/en/quotes/currencies/eurusd "EURUSD chart: technical analysis") M15 but its doing nothing.  
thanks  
greetings!

![Heikin Ashi MT4 EA](https://c.mql5.com/i/code/expert.png)
[Heikin Ashi MT4 EA](/en/code/64833)

Designed to trade using Heikin Ashi candles. By smoothing price action and filtering out market noise, this EA creates a clear map of market direction, allowing traders to catch strong trends, avoid false reversals, and manage trades with confidence.

![Reverse Engineered RSI (MT4)](https://c.mql5.com/i/code/indicator.png)
[Reverse Engineered RSI (MT4)](/en/code/64759)

Reverse Engineered RSI projects traditional RSI levels — 30, 50, and 70 — directly onto the price chart instead of the oscillator window.
This lets traders see where RSI overbought, oversold, and equilibrium zones align with actual market prices, making it easier to spot precise support, resistance, and potential reversal levels without switching views or relying on hidden momentum data.

![Data collector (profit/equity)](https://c.mql5.com/i/code/indicator.png)
[Data collector (profit/equity)](/en/code/65634)

I wrote this indicator to compare two modes, timeframes and analyze the settings of my EA. You can make adjustments to suit your requirements or add something. The data collected is saved to a file every 5 minutes (one file per instance).

![ZigZag HH HL LH LL Pattern Label Indicator (MT4)](https://c.mql5.com/i/code/indicator.png)
[ZigZag HH HL LH LL Pattern Label Indicator (MT4)](/en/code/66106)

This indicator is an enhanced version of the standard ZigZag used in MetaTrader 4.
It automatically detects and labels structural price points: Higher High (HH),
Higher Low (HL), Lower High (LH), and Lower Low (LL). The indicator draws trend
lines between ZigZag points and prints the market structure on the chart in real time.
Useful for:
• Market structure analysis (HH, HL, LH, LL)
• Pattern recognition (Head & Shoulders, Quasimodo, Break of Structure)
• Trend continuation / reversal confirmation
• Dashboard scanners and multi-timeframe systems
The code has been optimized to remove warnings, uses only MQL4-compatible
functions, and ensures clean object management with timeframe tagging.
Suitable for manual traders, system builders, and EA developers.