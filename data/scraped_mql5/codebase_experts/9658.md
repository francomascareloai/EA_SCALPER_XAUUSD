# Nevalyashka_BreakdownLevel - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/9658

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9658) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Nevalyashka\_BreakdownLevel - expert for MetaTrader 4

[Vladimir Khlystov](/en/users/cmillion)  |
[English](javascript:void(false);)

[Русский](/ru/code/9658) [Español](/es/code/9658) [Deutsch](/de/code/9658) [Português](/pt/code/9658)

Views:
:   11611

Rating:
:   (9)

Published:
:   10 May 2010, 08:54

Updated:
:   21 April 2014, 14:54
:   [Nevalyashka\_BreakdownLevel.mq4](/en/code/download/9658/Nevalyashka_BreakdownLevel.mq4 "Nevalyashka_BreakdownLevel.mq4")
    (6.85 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9658.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The strategy of trade - the breakdown of the maximum / minimum of the selected time period.  
To compensate for the unprofitable orders, use the "tumbler" with an increase in the lot on the principle of the Martingale.  
This advisor calculates the maximum and minimum prices in the time interval between

**TimeStart** (start time of the observation period) and  
**TimeEnd** (end time of the observation period)

So you can choose the most optimal for trading period.

Next, in excess of the maximum price of this period, exhibited a warrant to purchase. If the price went below the minimum, then for sale.  
Stop loss is exposed on the opposite border of the period.  
TP exposed to a level equal to the height of the observation period.  
Open orders can be closed at certain times Adviser

**TimeCloseOrder** (time in which occurs the closing of all orders)

If you set TimeCloseOrde = 0 or less TimeEnd, then the closure orders will only footsteps, excluding TimeCloseOrder.  
If the order is closed by the loss, it opens the opposite order with the increased by a factor K\_martin lot.  
Feet from the new order is placed in such a way as to cover the resulting loss. If the order was closed profit, then the adviser awaits launch of the next period (TimeEnd) and all repeats.

Parameter **No\_Loss** - go to no loss, when a order half of its profits, SL order is transferred to the level of open orders.

An Expert Advisor feels great to brokers with 4 and 5 characters, but will not work in the DC, where barred foot with the discovery orders

  

![](https://c.mql5.com/18/22/1_2__2.gif)

Period, a time frame allocated to the price chart.

To succeed under this strategy must be clearly understood when the price can make a "breakthrough." Ie take into account the time-critical news and the opening sessions.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/9658](/ru/code/9658)

**Last comments |
[Go to discussion](/en/forum/27411)**
(5)

![Fadel](https://c.mql5.com/avatar/avatar_na2.png "Fadel")

**[Fadel](/en/users/fadel)**
|
10 May 2010 at 10:09

hi

i have it to run as it is, but its always giving a sad face.

any thing about it?

10x in advanced

![Automated-Trading](https://c.mql5.com/avatar/2021/6/60C759A6-5565.png "Automated-Trading")

**[Automated-Trading](/en/users/automated-trading)**
|
10 May 2010 at 16:52

**adaheem:**  

hi

i have it to run as it is, but its always giving a sad face.

any thing about it?

10x in advanced

  

It works. Have you enabled the [Expert Advisors](https://www.mql5.com/en/market/mt5 "A Market of Applications for the MetaTrader 5 and MetaTrader 4")?

![](https://c.mql5.com/3/36/nev.png)

**-**
|
12 May 2010 at 17:16

**adaheem:**  

hi

i have it to run as it is, but its always giving a sad face.

any thing about it?

10x in advanced

  
 hi, you have to apply Allow live trading in expert [properties](https://www.mql5.com/en/docs/basis/preprosessor/compilation "MQL5 Documentation: Program Properties (#property)")

![Fadel](https://c.mql5.com/avatar/avatar_na2.png "Fadel")

**[Fadel](/en/users/fadel)**
|
13 May 2010 at 06:49

hi

its working but its only making a one trade a day not more.

how can i modify it?

thanks

![Cep Yogi](https://c.mql5.com/avatar/2017/11/5A10C81D-00A9.png "Cep Yogi")

**[Cep Yogi](/en/users/masyogispd)**
|
5 Nov 2024 at 06:08

I use this robot which is your mt5 version. I run it on mt5 it always stops itself or the robot likes to exit itself, can you explain it input datetime InpTimeStart = D'2023.07.19 03:30:00';
input date time InpTimeEnd = D'2050.07.19 04:30:00';
input bool InpUseTimeClose = false;
input date time InpTimeClose = D'2050.07.19 23:30:00';
input double InpLot = 1;
input double InpK\_martin = 2;

![3 Simple Scripts](https://c.mql5.com/i/code/script.png)
[3 Simple Scripts](/en/code/9657)

3 Scripts to simplify scalper operations. The scripts puts new OrderBuy, new OrderSell or CloseAllPositiveOrder.

![Multi function price indicator](https://c.mql5.com/i/code/indicator.png)
[Multi function price indicator](/en/code/9656)

Multi function price indicator

![Drop Pending Buy Script](https://c.mql5.com/i/code/script.png)
[Drop Pending Buy Script](/en/code/9666)

This script opens a pending buy order by just point and drop the script in the place you want. The script will automatically place a "limit buy order" if you point and drop below actual bid. The script will automatically place a "stop buy order" if you

![Drop Pending Sell Script](https://c.mql5.com/i/code/script.png)
[Drop Pending Sell Script](/en/code/9667)

This script opens a pending sell order by just point and drop the script in the place you want.