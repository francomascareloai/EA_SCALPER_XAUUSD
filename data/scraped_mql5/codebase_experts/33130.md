# Log4mql(mini) MT5 - library for MetaTrader 5

Source: https://www.mql5.com/en/code/33130

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/33130) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Log4mql(mini) MT5 - library for MetaTrader 5

[lippmaje](/en/users/lippmaje)

Views:
:   4068

Rating:
:   (13)

Published:
:   20 January 2021, 22:05

Updated:
:   9 March 2021, 03:35
:   \MQL5\Include\

    [log4mqlm.mqh](/en/code/download/33130/log4mqlm.mqh "log4mqlm.mqh")
    (40.63 KB)
    [view](# "view")

    [log4mqlm\_sample.mq5](/en/code/download/33130/log4mqlm_sample.mq5 "log4mqlm_sample.mq5")
    (5.35 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/33130.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Log4mql(mini) - light header-only version of Log4mql that provides standardized logging.

[![Sample output MT5](https://c.mql5.com/18/95/log4mqlm_mt5_log__3.jpg "Sample output MT5")](https://c.mql5.com/18/95/log4mqlm_mt5_log__2.jpg "https://c.mql5.com/18/95/log4mqlm_mt5_log__2.jpg")

### 

### Installation/Usage

* Add log4mqlm.mqh to your Include folder.
* View the sample code to get an overview of the usage.

### Inputs

Log4mql(mini) requires only one input field. There is no logging to files.

* Loglevel, supports Trace, Debug, Info, Warn, Error and Fatal

[![Log4mql(mini) Inputs](https://c.mql5.com/18/95/log4mqlm_mt5__1.jpg "Log4mql(mini) Inputs")](https://c.mql5.com/18/95/log4mqlm_mt5.jpg "https://c.mql5.com/18/95/log4mqlm_mt5.jpg")

### Message Pattern

The message pattern will have a fixed format which corresponds to its appropriate severity level, according to below table.

| Severity | Format | Sample output |
| --- | --- | --- |
| Info (the commonly used default) | *%func: %msg* | OnInit:  Log level: TRACE |
| Debug, Trace | *%func(%file:%line): %msg* | OnInit(log4mqlm\_sample.mq5:72): initializing |
| Warn | *WARN %func(%file:%line): %msg* | WARN SomeFunction(log4mqlm\_sample.mq5:64): stoploss too tight |
| Error | *ERROR %func(%file:%line): %msg* optionally followed by*: [, error %lasterr - %lasterrdesc]* | ERROR OnDeinit(log4mqlm\_sample.mq5:85): open 'some file' failed,  error 5004 - Cannot open file |
| Fatal | *FATAL* ... as above | FATAL  ... |

### 

### Functions

Log4mql(mini) provides functions and preprocessor macros for logging, all macros are to be used like functions.

| Return type | Function name | Description |
| --- | --- | --- |
| bool | PRINT (...) | Prints its message if log level is set at least to INFO (= normal logging behavior).  Supports up to 9 arguments - PRINT("1",2,etc) - if you need more, expand the templates.  Returns *true* if message was logged, else *false*. |
| bool | PRINTF (string format,...) | Like PRINT but prints a formatted message. Same rules as known from PrintFormat apply. |
| bool | WARN (...)  WARNF (string format,...) | Prints its message if log level is set at least to WARN. |
| bool | ERROR (...)  ERRORF (string format,...) | Prints its message if log level is at least ERROR. Adds \_LastError description if set. |
| bool | FATAL (...)  FATALF (string format,...) | Like ERROR, but with termination. You should call *ExpertRemove()* or exit immediately otherwise after this.  Example:    *if(step<MinStep) { FATALF("invalid step size: %f",step); ExpertRemove(); return; }* |
| bool | DEBUG (...)  DEBUGF (string format,...) | Messages for DEBUG level. |
| bool | TRACE (...)  TRACEF (string format,...) | Messages for TRACE (more verbose than DEBUG, for function entries, calculations etc). |
|  |  |  |
| string | L4mq.LastMessage() | Get the last message that has been logged. |
| int | L4mq.LastLevel() | Get the severity level of the last logging event. |
| int | L4mq.Level() | Get the severity level of the logger. |
| string | L4mq.LevelAsString() | Get the severity level of the logger as string. |
| void | L4mq.SetLevel(int) | Set the severity level for the logger. |
| ulong | L4mq.SeqNr() | Get the sequence number of the last logged event. |
| bool | L4mq.logged | *true* if the last event was logged. |
|  |  |  |
| string | Log4mql::GetErrorDescription(int err) | Get the description of an error code like \_LastError. |
| string | Log4mql::GetUninitReason(int reason) | Get the description of the uninit reason. |
| string | Log4mql::LoglevelToString(int level) | Convert a log level to a descriptive string. |

### 

### Notes

* As the functionality strives to be as simple as possible, there is no logging to files. You could implement some on your own if you want.
* You are free to use this code in your work, however, if you share the source code you must not remove the copyright and license notice.
* The full functionality of Log4mql is available here: [https://www.mql5.com/en/code/31425](/en/code/31425) (MT4) or here: [https://www.mql5.com/en/code/31452](/en/code/31452) (MT5)

**[Go to discussion](/en/forum/360804)**

![Spread Informer](https://c.mql5.com/i/code/expert.png)
[Spread Informer](/en/code/33120)

This EA collects information about the spread and shows the statistics on the chart.
When the EA ends its working, it prints all statistics to the Journal, which can be useful for the Strategy Tester.

![selection sort - array sorting algorithm](https://c.mql5.com/i/code/library.png)
[selection sort - array sorting algorithm](/en/code/33104)

an in-place comparison sorting algorithm

![Breakout Strength Meter - MT5](https://c.mql5.com/i/code/script.png)
[Breakout Strength Meter - MT5](/en/code/33226)

The breakout strength meter is a trading tool that is used to identify which currencies are the strongest to breakout, and which currencies are the weakest to breakout

![insertion sort - array sorting algorithm](https://c.mql5.com/i/code/library.png)
[insertion sort - array sorting algorithm](/en/code/33253)

a simple sorting algorithm that people use to manually sort cards in a bridge hand