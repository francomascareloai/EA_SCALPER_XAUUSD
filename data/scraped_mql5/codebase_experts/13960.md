# Expert_RSI_Stochastic_MA - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/13960

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/13960) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Expert\_RSI\_Stochastic\_MA - expert for MetaTrader 4

[Oksana Berenko](/en/users/cat7)  |
[English](javascript:void(false);)

[Русский](/ru/code/13960) [中文](/zh/code/13960) [Español](/es/code/13960) [Deutsch](/de/code/13960) [日本語](/ja/code/13960) [Português](/pt/code/13960)

Views:
:   36793

Rating:
:   (50)

Published:
:   11 December 2015, 15:40

Updated:
:   22 November 2016, 07:32
:   [ea\_rsi\_stocho\_ma.mq4](/en/code/download/13960/ea_rsi_stocho_ma.mq4 "ea_rsi_stocho_ma.mq4")
    (14.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/13960.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This Expert Advisor uses three indicators: MA(150), RSI(3) with the levels of 80 and 20, Stochastic(6, 3, 3) with the levels of 70 and 30. These parameters can be changed and customized. Also, the input parameters of the Expert Advisor need to be changed if the used quotes are not 5-digit.

1. The **direction** of the deal entry is based on the MA (Moving Average). Only one deal per each side can be opened.

* If Bid > MA, then consider the buy direction.
* If Ask < MA, then consider the sell direction.

2. The position **entry** when the RSI and Stochastic conditions are met.

* Buy if RSI and Stochastic are below the minimum level, i.e. RSI < 20 and Stochastic < 30.
* Sell if RSI and Stochastic are above the maximum level, i.e. RSI > 80 and Stochastic > 70.

3. **Exit** the deal by Stochastic.

> Exit in the green in points.

* (Trailing Stop = 0) If the Trailing Stop in the input parameters is zero, then close the position once the Stochastic reaches the opposite level, if the deal is in green in points.

> b) close if the position is BUY and Stochastic > 70 and OpenPrice <= Bid   
> s) Close if the position is SELL and Stochastic < 30 and OpenPrice >= Ask

* (Trailing Stop > 0) if the Trailing Stop is set in the input parameters, then once the Stochastic reaches the opposite level, the Stop Loss is trailed every time a new candlestick is opened on a specified distance from the price. It can be seen in the first figure. As a result, closed by trailing stop. It should be noted that a negative closure is also possible here, as Stop Loss does not get into the breakeven immediately at times.

> Closure at a loss in points.

* (allow Loss = 0) If allow Loss in the input parameters is equal to 0, then close the position once the Stochastic reaches the opposite level, if the deal is at a loss in points.

> b) Close if the position is BUY and Stochastic > 70 and OpenPrice > Bid   
> s) Close if the position is SELL and Stochastic < 30 and OpenPrice < Ask

* (allow Loss > 0) If allow Loss is set in the input parameters, and the position is out of the deal entry zone by Stochastic, and the deal is at a loss by the specified amount or more, then the position is closed.

> b) Close if the position is BUY and Stochastic > 30 and OpenPrice - Bid >= allow Loss in points  
> s) Close if the position is SELL and Stochastic < 70 and Ask - OpenPrice >= allow Loss in points

![RSI_Stochastic_MA_01](https://c.mql5.com/18/42/RSI_Stochastic_MA_01.png "RSI_Stochastic_MA_01")

![RSI_Stochastic_MA_03](https://c.mql5.com/18/44/RSI_Stochastic_MA_03_en.png "RSI_Stochastic_MA_03")

**Important!**

The purpose of this Expert Advisor is researching the market and the RSI and the Stochastic indicators. If this EA gets thought through, then a result with good profit may be obtained.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/13960](/ru/code/13960)

**Last comments |
[Go to discussion](/en/forum/68668)**
(27)

![Mario Alberto Velasco Martinez](https://c.mql5.com/avatar/avatar_na2.png "Mario Alberto Velasco Martinez")

**[Mario Alberto Velasco Martinez](/en/users/mariovm86)**
|
5 Mar 2019 at 19:07

Hi Oksana

Can you add a TakinProfit [Parameter](https://www.mql5.com/en/docs/directx/dxinputset "MQL5 Documentation: DXInputSet function") to this EA please??

I like the strategy used by this EA but I think it would be much better with a TakinProfit Option.

Thanks

![Jon137](https://c.mql5.com/avatar/avatar_na2.png "Jon137")

**[Jon137](/en/users/jon137)**
|
26 Dec 2019 at 16:54

Hi Oksana

I m new here. Where can I get the [source code](/go?link=https://forge.mql5.io/help/en/guide "MQL5 Algo Forge: Cloud Workspace for Algorithmic Trading Development").

Tq

![Kenneth Parling](https://c.mql5.com/avatar/2025/11/69272bcd-4185.jpg "Kenneth Parling")

**[Kenneth Parling](/en/users/kenpar)**
|
26 Dec 2019 at 17:50

**Jon137:**  
 Hi Oksana

I m new here. Where can I get the source code.

Tq

you got it right in front of you eyes

![source](https://c.mql5.com/3/302/source.png "source")

![payam149](https://c.mql5.com/avatar/avatar_na2.png "payam149")

**[payam149](/en/users/payam149)**
|
27 Feb 2020 at 22:11

I also cannot find [source code](/go?link=https://forge.mql5.io/help/en/guide "MQL5 Algo Forge: Cloud Workspace for Algorithmic Trading Development"). where can I get and find it

![Oluseye Agboola](https://c.mql5.com/avatar/avatar_na2.png "Oluseye Agboola")

**[Oluseye Agboola](/en/users/agboola)**
|
10 Feb 2022 at 09:20

Please what is the best timeframe to use this EA

![Updated Nevalyashka](https://c.mql5.com/i/code/expert.png)
[Updated Nevalyashka](/en/code/14181)

The Expert Advisor reverses the orders after closing.

![VR Engulfing Pattern](https://c.mql5.com/i/code/indicator.png)
[VR Engulfing Pattern](/en/code/14336)

A simple indicator, which informs the trader about the appearance of "Bullish Engulfing" or "Bearish Engulfing" candlestick patterns on all timeframes.

![iFibonacci](https://c.mql5.com/i/code/indicator.png)
[iFibonacci](/en/code/14393)

This indicator will Draw Fibonacci Tools such as Retracement, Arc, Fan, Expansion, Time Zones. Based on ZigZag indicator.

![Trailing Stop that can do everything](https://c.mql5.com/i/code/expert.png)
[Trailing Stop that can do everything](/en/code/14119)

The Expert Advisor moves the Stop Loss in the direction of the price movement using various methods.