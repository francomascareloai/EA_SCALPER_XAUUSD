# Classic 2 Moving Averages crossover EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/26315

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/26315) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Classic 2 Moving Averages crossover EA - expert for MetaTrader 5

[Andrey Barinov](/en/users/wahoo)

Views:
:   38617

Rating:
:   (63)

Published:
:   9 August 2019, 11:59

Updated:
:   9 December 2022, 08:04
:   [Moving Averages.mq5](/en/code/download/26315/moving_averages.mq5 "Moving Averages.mq5")
    (800.04 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/26315.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is a classic trading strategy based on two Moving Averages crossover. Buys when fast MA crosses slow MA from below and sells when fast MA crosses slow MA from above.

This code can be used in both MetaTrader5 and MetaTrader4. **Just change the file extension from .mq5 to .mq4** and compile the file in MetaEditor.

This expert advisor is designed with **visual strategy builder -****Mission Automate. Code is generated automatically. More info:** [https://www.mql5.com/en/articles/4951](/en/articles/4951)

This EA is available as a template in a free demo version, so you can easily modify / customise it without programming.

### Parameters

![inputs](https://c.mql5.com/18/84/inputs__5.png "inputs")

### Examples

[![trades](https://c.mql5.com/18/84/trades__3.png "trades")](https://c.mql5.com/18/84/trades__2.png "https://c.mql5.com/18/84/trades__2.png")

**Last comments |
[Go to discussion](/en/forum/319738)**
(38)

![Ishe Pangidzayi](https://c.mql5.com/avatar/2021/1/5FF8BA4F-5B6E.jpg "Ishe Pangidzayi")

**[Ishe Pangidzayi](/en/users/tthomemakers)**
|
29 Sep 2021 at 07:57

**Andrey Barinov [#](/en/forum/319738/page4#comment_24902133):**  

Recently they have changed Market rules, forcing everyone to remove all demo versions. Currently there is no demo version, so you can only check the software if you either rent it or buy it.

understood - thanks

![Wai Leong Wong](https://c.mql5.com/avatar/2020/11/5FBF8467-B590.jpg "Wai Leong Wong")

**[Wai Leong Wong](/en/users/madtwong)**
|
24 Feb 2022 at 10:15

The BE and TSL does not work if the open trade goes into negative value before turning positive..

Any ways to ratified this error?

![Andrey Barinov](https://c.mql5.com/avatar/2024/8/66c306a3-9200.png "Andrey Barinov")

**[Andrey Barinov](/en/users/wahoo)**
|
24 Feb 2022 at 10:23

**madt wong [#](/en/forum/319738/page4#comment_27927235):**  

The BE and TSL does not work if the open trade goes into negative value before turning positive..

Any ways to ratified this error?

It is not an error. BE and TSL can not work while the trade is in negative

![Gabriel BM](https://c.mql5.com/avatar/avatar_na2.png "Gabriel BM")

**[Gabriel BM](/en/users/gabrielbm)**
|
5 Jul 2024 at 16:26

Hello everyone,

I'm reaching out for assistance to implement a specific feature: "Close on opposite signal - True." However, I would like trades to close on an opposite signal only if they result in a profit. If a trade is currently at a loss, I prefer it to remain open.

Additionally, I am interested in limiting the number of trades open in the same direction with an option such as "just let X trades remain open in the same direction." This means that X trades would be opened in both directions and would only be closed if they are profitable.

Is it possible to achieve these functionalities? Any guidance or suggestions on how to effectively implement these features would be highly appreciated.

Thank you all in advance for your assistance!

![Saki3d](https://c.mql5.com/avatar/avatar_na2.png "Saki3d")

**[Saki3d](/en/users/saki3d)**
|
1 May 2025 at 14:46

Hi, i was trading manually basic MA strategy when i saw this EA, input my MA settings and result was good. Now i am using this EA my live account it gives good results, can u please say What is TSL settings for, thank you for this EA.

![dTrends](https://c.mql5.com/i/code/indicator.png)
[dTrends](/en/code/26214)

Arrow trends by iBearsPower and iBullsPower indicator for MT5

![Utility to view the statistics for a Single Bar of any time frame](https://c.mql5.com/i/code/indicator.png)
[Utility to view the statistics for a Single Bar of any time frame](/en/code/26195)

The utility will display the high, low, open, close and time statistics for any user selected bar of any timeframe for the symbol of the chart the utility resides on.

![Bars and Rates Information Utility, displays how many bars there are in all timeframes for any user selected symbol, and shows the 'CopyRates' information availablity for any bar](https://c.mql5.com/i/code/indicator.png)
[Bars and Rates Information Utility, displays how many bars there are in all timeframes for any user selected symbol, and shows the 'CopyRates' information availablity for any bar](/en/code/26316)

This utility is not a trading or market information utility. This will likely only interest those writing (or debugging) indicators using multiple timeframes and collecting information using Bars (or iBars) and CopyRates.
The utility creates a list showing the number of Bars reported by the "Bars" function and shows the success of CopyRates for any selected bar by displaying that bar's time from the collected data (or, it shows the error).

![RSI Levels Expert Advisor](https://c.mql5.com/i/code/expert.png)
[RSI Levels Expert Advisor](/en/code/26317)

Classic trading strategy based on RSI levels. Buys when RSI is oversold and sells when RSI is overbought.
This expert advisor is designed with visual strategy builder - Mission Automate. Code is generated automatically. More info: https://www.mql5.com/en/articles/4951