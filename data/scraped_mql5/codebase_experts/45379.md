# New Concept: Trailing Take Profit - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/45379

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/45379) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# New Concept: Trailing Take Profit - expert for MetaTrader 5

[ManiABLS](/en/users/maniabls)

Views:
:   12839

Rating:
:   (9)

Published:
:   11 July 2023, 12:02
:   [TrailingTakeProfit.mq5](/en/code/download/45379/trailingtakeprofit.mq5 "TrailingTakeProfit.mq5")
    (3.73 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/45379.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

> On contrast with Trailing Stop which a stop loss trails price until the price hits the stop loss and the position gets closed in profit, introducing Trailing Take Profit which take profit trails price when a position is in loss and ultimately the position gets closed with a loss.
>
> For example, If a position is in loss and current price hits TrailingTPStart (e.g. TailingTPStart is 500 points, when price reach 500 points from open price and the position is in -500 points in loss), Take profit starts to trail price and TrailingTPDistance is the max distance of trailing take profit and price.
>
> I do not know it will help you or not, but this concept can be used in some EA without stop loss to lower loss in some points.
>
> 1. Run the TrailingTakeProfit EA.
> 2. If TrailingTP\_Mode is true, The EA will run.
> 3. Put the symbol name like, GBPUSD in the EA.
> 4. Set TrailingTPStart . Which is the points from current price that take profit starts to run and trail the price when a position is in loss.
> 5. Set TrailingTPDistance. Which is the maximum distance in points between take profit and current price.

 [![TrailingTakeProfit](https://c.mql5.com/18/147/GBPUSDM30__1.png "TrailingTakeProfit")](https://c.mql5.com/18/147/GBPUSDM30.png "https://c.mql5.com/18/147/GBPUSDM30.png")

**Last comments |
[Go to discussion](/en/forum/450576)**
(5)

![Melchior Kaluzinski](https://c.mql5.com/avatar/2023/7/64aedaf6-20bd.jpg "Melchior Kaluzinski")

**[Melchior Kaluzinski](/en/users/zharatustra)**
|
14 Jul 2023 at 14:06

Hello, thank you for the Idea! I will try the following modification: The [Take Profit](https://www.mql5.com/en/articles/7113 "Article: Scratching Profits to the Last Pip ") is going to be pushed in market direction in an adjustable distance. In the case of a long position the tp will stay for example 10 pips above price, until there is a drop of more then 10 pips. Then the tp will follow the price down in 10 pips distance to get "stopped" out after any **increase** in price of 10 pips.

![ManiABLS](https://c.mql5.com/avatar/2022/9/631493f7-39d7.jpg "ManiABLS")

**[ManiABLS](/en/users/maniabls)**
|
16 Jul 2023 at 13:27

**Melchior Kaluzinski [#](/en/forum/450576#comment_48130809):**  
 Hello, thank you for the Idea! I will try the following modification: The [Take Profit](/en/articles/7113 "Article: Scratching Profits to the Last Pip ") is going to be pushed in market direction in an adjustable distance. In the case of a long position the tp will stay for example 10 pips above price, until there is a drop of more then 10 pips. Then the tp will follow the price down in 10 pips distance to get "stopped" out after any **increase** in price of 10 pips.

Hello, I appreciate your interest in Trailing Take Profit EA. Please share your results afterwards.

![tiarma pakpahan](https://c.mql5.com/avatar/2015/8/55BC5BF2-B077.jpg "tiarma pakpahan")

**[tiarma pakpahan](/en/users/tiar_fx)**
|
19 Dec 2023 at 13:36

hello, do you have the mt4 version?

thank you

![jmonk86](https://c.mql5.com/avatar/2023/9/650dc9a7-f61c.png "jmonk86")

**[jmonk86](/en/users/jmonk86)**
|
15 Jan 2024 at 01:50

This already exists in a different form. This is already in the trailing stop/profit in the EA wizard.

![Ananyi Alexander](https://c.mql5.com/avatar/avatar_na2.png "Ananyi Alexander")

**[Ananyi Alexander](/en/users/ananyialex-gmail)**
|
24 Jun 2025 at 07:08

please can someone help me with mt4 trailing [take profit](https://www.mql5.com/en/articles/7113 "Article: Scratching Profits to the Last Pip ")

![Dealing with time (2) functions](https://c.mql5.com/i/code/library.png)
[Dealing with time (2) functions](/en/code/45287)

Calculate DST for USA, EUR, AUD and RUB and the offset time of the broker automatically from the 70's until 2030 - even in the Strategy Tester of MQ.

![Strength Index Signal](https://c.mql5.com/i/code/indicator.png)
[Strength Index Signal](/en/code/45033)

provides clear arrows which clearly show the direction of the currency pair.

![Dynamic Support and Resistance](https://c.mql5.com/i/code/indicator.png)
[Dynamic Support and Resistance](/en/code/45435)

The "Dynamic Support and Resistance" Indicator is a versatile tool that combines support and resistance levels with real-time market dynamics. By incorporating previous daily highs and lows, it provides valuable insights into market psychology and identifies potential areas of price reversals or breakouts.
With its ability to adapt to changing market conditions and customizable options, traders can stay ahead of trends and make informed decisions. This indicator is suitable for various trading styles and timeframes, empowering both experienced and novice traders with a competitive edge.
## Check out new Liquidity Hunter EA that uses SMC : https://www.mql5.com/en/market/product/121106

![PNG](https://c.mql5.com/i/code/library.png)
[PNG](/en/code/45439)

Forget about BMP files like a bad dream. Thanks to this library, you can now use the PNG format, which has a number of advantages, such as being more compact without losing image quality and maintaining transparency.