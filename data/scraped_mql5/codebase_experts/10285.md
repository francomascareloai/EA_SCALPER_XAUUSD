# Send Price Quotes By Email (Up to 50 quotes of your choice) - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/10285

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/10285) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Send Price Quotes By Email (Up to 50 quotes of your choice) - expert for MetaTrader 4

[blackhawk](/en/users/blackhawk)

Views:
:   18112

Rating:
:   (4)

Published:
:   10 May 2011, 08:07

Updated:
:   21 April 2014, 14:55
:   [Price\_Quotes\_By\_Email.mq4](/en/code/download/10285/Price_Quotes_By_Email.mq4 "Price_Quotes_By_Email.mq4")
    (31.75 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/10285.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Do you want to receive your quotes by email in a clean an organized way ?

This EA is easy to use. You just need to introduce the desired frecuency of the emails (minutes) and the name of the symbols you want to add to the email.

Then you compile and you just need to drop the EA on an active Chart. The market must be open for the EA to work, so I recommend to drop it on a EURUSD chart because FOREX opens 24 hrs a day. When you want to stop the EA from sending emails you don't need to remove the EA from the chart. If you set the minutes frecuency to 0 (zero) the EA will stop running and compile the EA.

The EA runs only when it's the time to send the email and "sleep" other times, so the consumption of the PC resources is low.

ATTENTION: You need to enable and configure the email on MT4 before using this EA (go to TOOLS >> OPTIONS >> EMAIL)

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

**IMPORTANT: THIS EA COULD NOT WORK IN SOME CASES GIVING THIS ERROR:** **"Mail: 451 Invalid Smtp line - Should end with CRLF"**

This EA need to use a code structure which is not supported by all servers, specially those servers (like Yahoo) that are enforcing some fairly strict email related RFC standards (rules) in their email checks.   
If the EA is not selling emails correctly and when you check your MT4 Journal you have this message: **"Ma il: 451 Invalid Smtp line - Should end with CRLF",** you will need to try with another email account that is supporting a more complex smtp coding.

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

  

![](https://c.mql5.com/18/24/Send_email.jpg)

**Last comments |
[Go to discussion](/en/forum/28033)**
(5)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
10 May 2011 at 19:54

Thanks for sharing BlackHawk! :-)

I'm getting this error: 2011.05.10 12:44:31 **Mail: 451 Invalid Smtp line - Should end with CRLF**

(My configuration - I havent had this issue sending email before from my mt4 platform: **smtp.att.yahoo.com**: 587)**.** Please advise as I'm not sure what the CRLF means. Thanks!

![blackhawk](https://c.mql5.com/avatar/avatar_na2.png "blackhawk")

**[blackhawk](/en/users/blackhawk)**
|
12 May 2011 at 17:17

**bnbb2004:**  

Thanks for sharing BlackHawk! :-)

I'm getting this error: 2011.05.10 12:44:31 **Mail: 451 Invalid Smtp line - Should end with CRLF**

(My configuration - I havent had this issue sending email before from my mt4 platform: **smtp.att.yahoo.com**: 587)**.** Please advise as I'm not sure what the CRLF means. Thanks!

RESPONSE TO THE PROBLEM: **Mail: 451 Invalid Smtp line - Should end with CRLF**

This error it is because the EA is trying to send email through or to a mail server that is enforcing some fairly strict email related RFC standards (rules) in their email [checks](https://www.mql5.com/en/docs/common/GetTickCount64 "MQL5 Documentation: GetTickCount64 function"). I tried with my yahoo email account and had the same problem. I think that the problem is due to the use of line breaks like "\n" or tabs like "\t".

What I recommend is to try with another email account that uses a server that is compatible with that type of code.

Note: I have no problems with emails sent from MT4 using my yahoo account when the email is short and the entire message is on the same line, but in this EA we can send up to 50 different symbols at the same time, and we need to use this code structure which is not supported by all the servers.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
15 May 2011 at 01:54

**blackhawk:**  

**bnbb2004:**  

Thanks for sharing BlackHawk! :-)

I'm getting this error: 2011.05.10 12:44:31 **Mail: 451 Invalid Smtp line - Should end with CRLF**

(My configuration - I havent had this issue sending email before from my mt4 platform: **smtp.att.yahoo.com**: 587)**.** Please advise as I'm not sure what the CRLF means. Thanks!

RESPONSE TO THE PROBLEM: **Mail: 451 Invalid Smtp line - Should end with CRLF**

This error it is because the EA is trying to send email through or to a mail server that is enforcing some fairly strict email related RFC standards (rules) in their email checks. I tried with my yahoo email account and had the same problem. I think that the problem is due to the use of line breaks like "\n" or tabs like "\t".

What I recommend is to try with another email account that uses a server that is compatible with that type of code.

Note: I have no problems with emails sent from MT4 using my yahoo account when the email is short and the entire message is on the same line, but in this EA we can send up to 50 different symbols at the same time, and we need to use this code structure which is not supported by all the servers.

This is my ISP's SMTP settings (ATT Uverse) so I'm not sure which other email account service I could use. Did you have any luck with another email account yet?

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
16 May 2011 at 04:10

Can you help me get to be an active email MetaTrader

![aknsms](https://c.mql5.com/avatar/avatar_na2.png "aknsms")

**[aknsms](/en/users/aknsms)**
|
6 Oct 2011 at 17:19

Great EA. now i can post quotes or [account info](https://www.mql5.com/en/docs/constants/environment_state/accountinformation "MQL5 documentation: Account Properties") or both to my twitter/facebook directly.

![Source Code](https://c.mql5.com/i/code/expert.png)
[Source Code](/en/code/10286)

This is first EA I am providing for everyone to see and work upon. This is written by me. This EA should be used on EURUSD 15min with initial capital of $1000.

![Stop Loss Mover](https://c.mql5.com/i/code/expert.png)
[Stop Loss Mover](/en/code/10287)

This EA automatically moves your stop loss to break even at a predefined level.

![VSA by the master the market e-book](https://c.mql5.com/i/code/indicator.png)
[VSA by the master the market e-book](/en/code/10290)

this indicator is from the e-book master the market of Tom Williams, calling VSA method. It plots many arrow sign of the weakness and strength definition. Just point the mouse out at the sign, then the definition will show.

![MTF MACD scalper](https://c.mql5.com/i/code/indicator.png)
[MTF MACD scalper](/en/code/10297)

This is a Multi time frame indicator based on the MACD. I was attempting to see if I could get a good entry on the M5 chart, and make the MACD values of the H1,H4,D align with the M5.