# Arrows and Curves EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/19643

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/19643) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Arrows and Curves EA - expert for MetaTrader 5

Kola1  |
[English](javascript:void(false);)

[Русский](/ru/code/19643) [中文](/zh/code/19643) [Español](/es/code/19643) [Deutsch](/de/code/19643) [日本語](/ja/code/19643) [Português](/pt/code/19643)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   9842

Rating:
:   (20)

Published:
:   1 March 2018, 09:38
:   \MQL5\Indicators\

    [arrows\_curves.mq5](/en/code/download/19643/arrows_curves.mq5 "arrows_curves.mq5")
    (15.3 KB)
    [view](# "view")

    [Arrows and Curves EA.mq5](/en/code/download/19643/arrows_and_curves_ea.mq5 "Arrows and Curves EA.mq5")
    (18.6 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/19643.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**The author of the idea**: [Nikolay](/en/users/kola1 "Nikolay (Kola1)"), **the mq5 code author**: [barabashkakvn](/en/users/barabashkakvn).

The Expert Advisor trades based on signals generated by the [Arrows&Curves](/en/code/414 "Arrows&Curves - indicator for MetaTrader 5") indicator:

![Arrows&Curves](https://c.mql5.com/18/63/Arrows7Curves.png "Arrows&Curves")

Position volume management: either fixed volume (the 'Lots' parameter should be greater than zero) or risk as percent of free margin ('Lots' should be less than or equal to zero, in this case the 'Risk' parameter will be used).

### Position Opening Conditions

* If the indicator buffer #0 is not equal to zero, it is a Buy signal;
* If the indicator buffer #1 is not equal to zero, it is a Sell signal;

### Input Parameters

* **Lots (if "Lots" <=0.0 -> will use the setting "Risk")** - position volume;
* **Stop Loss (if "0" - the setting is disabled) (in pips)** - stop loss value;
* **Take Profit (if "0" - the setting is disabled) (in pips)** - take profit value;
* **Trailing Stop (if "0" - the setting is disabled) (in pips)** - trailing stop value;
* **Trailing Step (if "0" - the setting "Trailing Stop" is disabled) (in pips)** - trailing step value;
* **Risk in percent for a deal from a free margin** - risk per trade as percent of free margin;
* **reversal period** - indicator parameter;
* **Channel** - indicator parameter;
* **Stop Channel** - indicator parameter;
* **shift** - indicator parameter.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/19643](/ru/code/19643)

**Last comments |
[Go to discussion](/en/forum/229011)**
(38)

![SmamkeleSimz](https://c.mql5.com/avatar/avatar_na2.png "SmamkeleSimz")

**[SmamkeleSimz](/en/users/smamkelesimz)**
|
16 Jun 2020 at 13:38

**Vladimir Karputov:**  
 So in the indicated time period there are no signals on SELL.

i tried M1 M5 AND M15 same thing is happenning

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
16 Jun 2020 at 15:59

**SmamkeleSimz :**  

i tried M1 M5 AND M15 same thing is happenning

If the trading situation allows, the indicator gives a signal. I took the first character that came across and showed you - there are signals and BUY and SELL:

[Forum on trading, automated trading systems and testing trading strategies](/en/forum)

[Experts: Arrows and Curves EA](/en/forum/229011/page3#comment_16912265)

[Vladimir Karputov](/en/users/barabashkakvn), 2020.06.16 05:53

Everything works great. Example settings and result:

[![ ](https://c.mql5.com/3/323/2020-06-16_06h51_50__1.png " ")](https://c.mql5.com/3/323/2020-06-16_06h51_50.png "https://c.mql5.com/3/323/2020-06-16_06h51_50.png")

[![ ](https://c.mql5.com/3/323/2020-06-16_06h52_13__1.png " ")](https://c.mql5.com/3/323/2020-06-16_06h52_13.png "https://c.mql5.com/3/323/2020-06-16_06h52_13.png")

[![ ](https://c.mql5.com/3/323/2020-06-16_06h51_28__1.png " ")](https://c.mql5.com/3/323/2020-06-16_06h51_28.png "https://c.mql5.com/3/323/2020-06-16_06h51_28.png")

![SmamkeleSimz](https://c.mql5.com/avatar/avatar_na2.png "SmamkeleSimz")

**[SmamkeleSimz](/en/users/smamkelesimz)**
|
17 Jun 2020 at 19:28

**Vladimir Karputov:**  

If the trading situation allows, the indicator gives a signal. I took the first character that came across and showed you - there are signals and BUY and SELL:

Hi, I managed to fixed it but.. when it has the "pink"  dot as [sell signal](https://www.mql5.com/en/docs/constants/objectconstants/enum_object "MQL5 documentation: Object Types") it open sell as it suppose too but if the next candle does not have the dot "pink" the SELL close and it Open a BUY without the BUY SIGNAL "lime DOT".

what could be causing this?

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
18 Jun 2020 at 04:12

**SmamkeleSimz :**  

Hi, I managed to fixed it but.. when it has the "pink"  dot as [sell signal](/en/docs/constants/objectconstants/enum_object "MQL5 documentation: Object Types") it open sell as it suppose too but if the next candle does not have the dot "pink" the SELL close and it Open a BUY without the BUY SIGNAL "lime DOT".

what could be causing this?

The EA looks at these two buffers:

```mql5
   bool need_open_buy=(iCustomGet(handle_iCustom,0,1)==0.0)?false:true;
   bool need_open_sell=(iCustomGet(handle_iCustom,1,1)==0.0)?false:true;
```

![Mike Duffus](https://c.mql5.com/avatar/2023/9/6514D8FA-D3A9.png "Mike Duffus")

**[Mike Duffus](/en/users/mikeduffus)**
|
20 Nov 2023 at 14:50

I like this EA, however I feel like it might work a lot better if it was constrained to only certain hours of the day. Would that functionality be difficult to add?

![AdaptiveRVICloud_System_HTF](https://c.mql5.com/i/code/indicator.png)
[AdaptiveRVICloud\_System\_HTF](/en/code/19639)

Two AdaptiveRVICloud indicators from different timeframes on one chart.

![XDidi_Index_System_HTF](https://c.mql5.com/i/code/indicator.png)
[XDidi\_Index\_System\_HTF](/en/code/19638)

Two "Didi Needles" indicators from different timeframes on one chart.

![ExpertZZLWA](https://c.mql5.com/i/code/expert.png)
[ExpertZZLWA](/en/code/19646)

The Expert Advisor allows checking the potential profitability of the ZigZagLW Addition indicator.

![Exp_XDidi_Index_Cloud_Duplex](https://c.mql5.com/i/code/expert.png)
[Exp\_XDidi\_Index\_Cloud\_Duplex](/en/code/19647)

Two identical trading systems based on the change in the color of the XDidi\_Index\_Cloud indicator cloud for long and short trades, which can be configured in different ways in one Expert Advisor.