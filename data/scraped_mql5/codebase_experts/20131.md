# MathCeilRoundFloor - script for MetaTrader 5

Source: https://www.mql5.com/en/code/20131

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/20131) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# MathCeilRoundFloor - script for MetaTrader 5

[Vladimir Karputov](/en/users/barabashkakvn)  |
[English](javascript:void(false);)

[Русский](/ru/code/20131) [中文](/zh/code/20131) [Español](/es/code/20131) [Deutsch](/de/code/20131) [日本語](/ja/code/20131) [Português](/pt/code/20131)

Views:
:   4300

Rating:
:   (12)

Published:
:   18 April 2018, 17:07
:   [MathCeilRoundFloor.mq5](/en/code/download/20131/mathceilroundfloor.mq5 "MathCeilRoundFloor.mq5")
    (3.33 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/20131.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

An example of mathematical functions:

* [MathCeil](/en/docs/math/mathceil "MQL5 Reference → Math Functions → MathCeil") returns the nearest upper integer;
* [MathRound](/en/docs/math/mathround "MQL5 Reference → Math Functions → MathRound") rounds a number to the nearest integer;
* [MathFloor](/en/docs/math/mathfloor "MQL5 Reference → Math Functions → MathFloor") returns the nearest lower integer.

The code:

```mql5
//+------------------------------------------------------------------+
//|                                           MathCeilRoundFloor.mq5 |
//|                              Copyright © 2016, Vladimir Karputov |
//|                                           http://wmua.ru/slesar/ |
//+------------------------------------------------------------------+
#property copyright "Copyright © 2016, Vladimir Karputov"
#property link      "http://wmua.ru/slesar/"
#property description "MathCeil: Returns integer numeric value closest from above"
#property description "MathRound: Rounds of a value to the nearest integer"
#property description "MathFloor: Returns integer numeric value closest from below"
#property description "MathCeil: Returns integer numeric value closest from above"
#property description "MathRound: Rounds of a value to the nearest integer"
#property description "MathFloor: Returns integer numeric value closest from below"
#property version   "1.003"
//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
  {
//---
   double price=1.01561;
   Print("\n","Start price: ",DoubleToString(price,5));
   for(int i=0;i<10;i++)
     {
      Print("MathCeil(",DoubleToString(price,5),") ->  ",MathCeil(price));
      Print("MathRound(",DoubleToString(price,5),") ->  ",MathRound(price));
      Print("MathFloor(",DoubleToString(price,5),") ->  ",MathFloor(price));
      Print("");
      price+=1.9;
     }
  }
```

Starting with "price" equal to 1.01561 and then increase it by 1.9 in a loop.

Result:

```mql5
Start price: 1.01561
MathCeil(1.01561) ->  2.0
MathRound(1.01561) ->  1.0
MathFloor(1.01561) ->  1.0

MathCeil(2.91561) ->  3.0
MathRound(2.91561) ->  3.0
MathFloor(2.91561) ->  2.0

MathCeil(4.81561) ->  5.0
MathRound(4.81561) ->  5.0
MathFloor(4.81561) ->  4.0

MathCeil(6.71561) ->  7.0
MathRound(6.71561) ->  7.0
MathFloor(6.71561) ->  6.0

MathCeil(8.61561) ->  9.0
MathRound(8.61561) ->  9.0
MathFloor(8.61561) ->  8.0

MathCeil(10.51561) ->  11.0
MathRound(10.51561) ->  11.0
MathFloor(10.51561) ->  10.0

MathCeil(12.41561) ->  13.0
MathRound(12.41561) ->  12.0
MathFloor(12.41561) ->  12.0

MathCeil(14.31561) ->  15.0
MathRound(14.31561) ->  14.0
MathFloor(14.31561) ->  14.0

MathCeil(16.21561) ->  17.0
MathRound(16.21561) ->  16.0
MathFloor(16.21561) ->  16.0

MathCeil(18.11561) ->  19.0
MathRound(18.11561) ->  18.0
MathFloor(18.11561) ->  18.0

```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/20131](/ru/code/20131)

**[Go to discussion](/en/forum/238276)**

![Fractured Fractals](https://c.mql5.com/i/code/expert.png)
[Fractured Fractals](/en/code/20127)

The Expert Advisor uses the Fractals indicator signals to place pending orders and trail the Stop Loss level of positions.

![AD](https://c.mql5.com/i/code/indicator.png)
[AD](/en/code/20124)

The AD (Accumulation Distribution) indicator with three calculation methods.

![BHS system](https://c.mql5.com/i/code/expert.png)
[BHS system](/en/code/20132)

The EA trades using pending Buy Stop and Sell Stop orders, applying the iAMA (Adaptive Moving Average, AMA) indicator based on a "round price". Position trailing.

![Fractal_TL](https://c.mql5.com/i/code/indicator.png)
[Fractal\_TL](/en/code/20138)

An indicator for automatic drawing of trendlines based on fractals of a given timeframe.