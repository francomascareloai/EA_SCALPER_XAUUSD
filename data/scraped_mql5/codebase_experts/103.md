# Simple MA Expert Advisor - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/103

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/103) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Simple MA Expert Advisor - expert for MetaTrader 5

[Karlis Balcers](/en/users/tsaktuo)  |
[English](javascript:void(false);)

[Русский](/ru/code/103) [中文](/zh/code/103) [Español](/es/code/103) [Deutsch](/de/code/103) [日本語](/ja/code/103) [Português](/pt/code/103) [한국어](/ko/code/103) [Français](/fr/code/103) [Italiano](/it/code/103) [Türkçe](/tr/code/103)

Views:
:   19406

Rating:
:   (51)

Published:
:   27 April 2010, 10:28

Updated:
:   22 November 2016, 07:32
:   [k\_esimplema.mq5](/en/code/download/103/k_esimplema.mq5 "k_esimplema.mq5")
    (3.82 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/103.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Really simple EA for those who needs an example and for those who is looking for something to try out new [Strategy Tester](https://www.metatrader5.com/en/automated-trading/strategy-tester).

EA is based on two [MA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma) lines. If one lines is crossing another then SELL or BUY.

![Simple MA Expert Advisor](https://c.mql5.com/18/0/TesterGraphReport2010q04026.png "Simple MA Expert Advisor")

  

M30, Last month, after optimization.

**Last comments |
[Go to discussion](/en/forum/864)**
(15)

![Karlis Balcers](https://c.mql5.com/avatar/2022/12/63a16109-a35c.jpg "Karlis Balcers")

**[Karlis Balcers](/en/users/tsaktuo)**
|
12 Oct 2010 at 23:28

**bdwezensky:**  

I was happy to find your code example as it solved my problem of buffering the MA and making it appear on a chart.  Thanks for posting it.

The one question that I have is how does it make the decision to close the open order?

Thanks

Only with SL and TP.

![polymath](https://c.mql5.com/avatar/avatar_na2.png "polymath")

**[polymath](/en/users/polymath)**
|
5 Aug 2012 at 09:41

I tested this EA in the strategy tester, the stoploss doesn't seem to function properly and there's a big gap between the balance curve and the equity curve indicating that the trades are not closed even if the price already reached the [stoploss level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"). Anybody knows why? Thanks in advance!

![Michael Philipp](https://c.mql5.com/avatar/2014/12/547DA95F-9A88.jpg "Michael Philipp")

**[Michael Philipp](/en/users/mph63xx)**
|
7 Dec 2013 at 10:37

**polymath:**  
 I tested this EA in the strategy tester, the stoploss doesn't seem to function properly and there's a big gap between the balance curve and the equity curve indicating that the trades are not closed even if the price already reached the [stoploss level](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders"). Anybody knows why? Thanks in advance!

on trading is not enough using only MA is depending same on MFI, RSI, stochastic. The MA not include this information. but there exist no one including controls to booth  indicators right now. most time to identificating the best SL (stoploss) is neccessari to have information of RSI, stochastic, MFI. for example : if MA 200 is getting and RSI anc stochastic is again high most time would go again up or down ( dipending of trade direction). same is for dayli economic calendar information there can move a pair over 100 pips and is not calculated in the EA's. look friday EUR USD there was a big move but eur has getting the way again ( this move can broke an little SL).

![Belpu Prajwal Rao](https://c.mql5.com/avatar/avatar_na2.png "Belpu Prajwal Rao")

**[Belpu Prajwal Rao](/en/users/prajwalrao2013)**
|
31 May 2020 at 15:40

Hi,

I'm facing some issues with the code. It's showing error order filling type. Please look into the screenshots attached. [![Screenshot for error: Strategy tester settings](https://c.mql5.com/3/321/mt5programerror2__1.JPG "Screenshot for error: Strategy tester settings")](https://c.mql5.com/3/321/mt5programerror2.JPG "https://c.mql5.com/3/321/mt5programerror2.JPG") [![mt5 editor with same code as provided above](https://c.mql5.com/3/321/mt5programerror__1.JPG "mt5 editor with same code as provided above")](https://c.mql5.com/3/321/mt5programerror.JPG "https://c.mql5.com/3/321/mt5programerror.JPG") [![Strategy tester showing the error generated](https://c.mql5.com/3/321/mt5programerror3__1.JPG "Strategy tester showing the error generated")](https://c.mql5.com/3/321/mt5programerror3.JPG "https://c.mql5.com/3/321/mt5programerror3.JPG")10030 error caught

![Juvenille Emperor Limited](https://c.mql5.com/avatar/2019/4/5CB0FE21-E283.jpg "Juvenille Emperor Limited")

**[Eleni Anna Branou](/en/users/eleanna74)**
|
31 May 2020 at 16:10

**prajwalrao2013:**  

Hi,

I'm facing some issues with the code. It's showing error order filling type. Please look into the screenshots attached.10030 error caught

You've testing an old EA, it would be strange if it didn't had any errors after so many years.

![PivotPointUniversal](https://c.mql5.com/i/code/indicator.png)
[PivotPointUniversal](/en/code/102)

The indicator plots Pivot levels for all available history. There are 5 variants of Pivot levels is supported: Classic, Fibonacci, Demark, Camarilla, Woodies. There are 3 calculation periods: daily, weekly, monthly. For the daily pivot levels it's possible to specify the GMT time shift.

![Murrey Math Lines (support and resistance)](https://c.mql5.com/i/code/indicator.png)
[Murrey Math Lines (support and resistance)](/en/code/101)

The indicator plots Murrey Math Lines for all available history, it doesn't uses any objects.

![Clipboard](https://c.mql5.com/i/code/script.png)
[Clipboard](/en/code/104)

The script gets contents from the Windows Clipboard.

![Bollinger Bandwidth 1.0 for MetaTrader 5](https://c.mql5.com/i/code/indicator.png)
[Bollinger Bandwidth 1.0 for MetaTrader 5](/en/code/105)

The indicator Measures the distance between the Bollinger Bands ® and providing it as a singular indicator, using the MetaTrader 5 techniques to simplify Bollinger calculations.