# OpenTicks - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/16787

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16787) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# OpenTicks - expert for MetaTrader 5

zerkmax1  |
[English](javascript:void(false);)

[Русский](/ru/code/16787) [中文](/zh/code/16787) [Español](/es/code/16787) [Deutsch](/de/code/16787) [日本語](/ja/code/16787) [Português](/pt/code/16787)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   4216

Rating:
:   (19)

Published:
:   19 January 2017, 16:57

Updated:
:   27 June 2018, 13:39
:   \MQL5\Include\Trade\

    [PartialClosing.mqh](/en/code/download/16787/partialclosing.mqh "PartialClosing.mqh")
    (6.47 KB)
    [view](# "view")

    [OpenTicks.mq5](/en/code/download/16787/openticks.mq5 "OpenTicks.mq5")
    (18.93 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16787.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Author of the idea** — [Maksim Zerkalov](/en/users/zerkmax1 "Maksim Zerkalov (zerkmax1)"), **author of the mq5 code** — [barabashkakvn](/en/users/barabashkakvn).

When opening a new bar, the EA analyzes the value of the previous four bars:

if(iHigh(1)>iHigh(2) && iHigh(2)>iHigh(3) &&   
      iHigh(3)>iHigh(4) && iOpen(1)>iOpen(2) &&   
      iOpen(2)>iOpen(3) && iOpen(3)>iOpen(4))  
      BuyOp=true;

When we have an open position, then the "HalfLots" variable value is checked in the

void TrailingStairs(ulong m\_ticket,ushort trldistance)

trailing block. In other words, the system checks if it is possible to partially close a profitable position. If "HalfLots==true", the position is closed partially:

m\_trade\_partial.PositionClose(m\_position.Ticket(),-1,half\_volume);

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16787](/ru/code/16787)

**Last comments |
[Go to discussion](/en/forum/167459)**
(13)

![Temur Yunusov](https://c.mql5.com/avatar/avatar_na2.png "Temur Yunusov")

**[Temur Yunusov](/en/users/timur9996)**
|
7 Nov 2016 at 12:56

[<http://forum.moex.com/viewtopic.asp?t=20831>](/go?link=https://www.moex.com/ "http://forum.moex.com/viewtopic.asp?t=20831")

1. Server Bot of the Exchange in Chicago, New York or MICEX draws candlesticks literally a couple of seconds before the closing time

Time to burn the old topic, because these 'artists' are being too brazen =)

Why, the whole minute try to raise, lower the price, when it can be done in the last seconds and you will not be spoilt by the 'breakdown picture' for example.

For those who don't understand: from 01sec to 45sec, a minute candle is a completely different candle, and from 45sec to 59sec it is 'rising' or 'falling' and at the exit, i.e. after closing, it is a completely different candle.

[http://forum.moex.com/viewtopic.asp?t=20831](/go?link=https://www.moex.com/ "http://forum.moex.com/viewtopic.asp?t=20831")

2. our brokers (Sberbank, Uralsib, AlfaBank, Rosselkhozbank, Otkritie, Neftegazprom, Gazprombank and others) that give access to the BIRGUA, do not provide service even primitive risk management and can not put for your portfolio trivial maximum loss for the day. That's the way it is. We live like in the Stone Age. FUNNY, THOUGH!

It is because of this 'drawing' that we get numerous shadows on 1-5 min candles, not because someone is hitting the glass on the Exchange.

Doll and Moosehead does not work in Standard Timeframes M5, M15, M30, H1.

I can develop a whole Theory on this!

CUCKLE is a native of ancient Babylon, and as we know the Theory of Time where 1 hour = 60 minutes \_\_Created in ancient Babylon.

The hexadecimal number system is a positional numbering system based on the integer base 60. Invented by Sumerians in the 3rd millennium BC.

After the Akkadian conquest of the Sumerian state there existed for a long time simultaneously two monetary units: shekel (shekel) and mina, and their ratio 1 mina = 60 shekels was established.

[https://ru.wikipedia.org/wiki/Шестидесятеричная\_система\_счисления](https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D1%81%D1%82%D0%B8%D0%B4%D0%B5%D1%81%D1%8F%D1%82%D0%B5%D1%80%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F "https://ru.wikipedia.org/wiki/%D0%A8%D0%B5%D1%81%D1%82%D0%B8%D0%B4%D0%B5%D1%81%D1%8F%D1%82%D0%B5%D1%80%D0%B8%D1%87%D0%BD%D0%B0%D1%8F_%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%B0_%D1%81%D1%87%D0%B8%D1%81%D0%BB%D0%B5%D0%BD%D0%B8%D1%8F")

Shekel, Shekel, ay lulu, Diamond Hand Movie Quotes

Shekel, Shekel, ay lulu, a shekel (shekel) and a mina, (1 mina = 60 shekels).

[https://www.youtube.com/watch?v=iR\_C00T9NJE](https://www.youtube.com/watch?v=iR_C00T9NJE "https://www.youtube.com/watch?v=iR_C00T9NJE")

Standard Timeframes are necessary to breed Moose, that's why CUCKL is a Moose Breeder.

1. that's what CUCKL and VOCAL are for.

[https://www.youtube.com/watch?v=f\_w2qayA4A4](https://www.youtube.com/watch?v=f_w2qayA4A4 "https://www.youtube.com/watch?v=f_w2qayA4A4")

2. to that CUCKL and VOCAL

[https://www.youtube.com/watch?v=f3IByTmGwqQ](https://www.youtube.com/watch?v=f3IByTmGwqQ "https://www.youtube.com/watch?v=f3IByTmGwqQ")

![Temur Yunusov](https://c.mql5.com/avatar/avatar_na2.png "Temur Yunusov")

**[Temur Yunusov](/en/users/timur9996)**
|
7 Nov 2016 at 13:04

[How to Catch a CUCKLE by the Horns] 3 Ticks a day and [CUCKLE Caught  by the Horns]  
 [ How  to Catch a Moose  by the Horns]  
 [ How to Catch a Bull by the Horns]  
 3 Ticks a day and you're either in the Plus or you've caught a Moose?   
 [Risk Manager PASSES Moose  not every 60-seconds, but every 3-ticks! ]   
[http://www.youtube.com/watch?v=nNwPuaHF-jo&t=13m03s](https://www.youtube.com/watch?v=nNwPuaHF-jo&t=13m03s "http://www.youtube.com/watch?v=nNwPuaHF-jo&amp;t=13m03s")

Bulls make money, Bears make money.. And pigs-- They just get slaughtered. Money doesn't sleep.

[![](https://c.mql5.com/3/108/_abz_0s05by2np_w5y_qum2n_bbxn4w_9uqu9.png)](https://c.mql5.com/3/108/_ehw_lbgb591b6_q58_4nowz_g7r1ef_8f2px.png "https://c.mql5.com/3/108/_ehw_lbgb591b6_q58_4nowz_g7r1ef_8f2px.png")

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
7 Nov 2016 at 13:13

I would not like to stop this pure stream of creation, then please note that in the terminal standard timeframes, these are:

**1 minute, 2 minutes, 3 minutes, 4 minutes, 5 minutes, 6 minutes, 10 minutes, 12 minutes, 15 minutes, 20 minutes, 30 minutes, 1 hour, 2 hours, 3 hours, 4 hours, 6 hours, 8 hours, 12 hours, 1 day, 1 week, 1 month.**

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
7 Nov 2016 at 14:30

**Vladimir Karputov:**  

I would not like to stop this pure stream of creation, then please note that in the terminal standard timeframes, these are:

**1 minute, 2 minutes, 3 minutes, 4 minutes, 5 minutes, 6 minutes, 10 minutes, 12 minutes, 15 minutes, 20 minutes, 30 minutes, 1 hour, 2 hours, 3 hours, 4 hours, 6 hours, 8 hours, 12 hours, 1 day, 1 week, 1 month.**

So, Vladimir, where are your arguments in favour of MT5? Now you can draw any candles. 3 seconds or 3 ticks. And let whoever wants to see how it will look like. And analyse it, if necessary.

![ilyav](https://c.mql5.com/avatar/avatar_na2.png "ilyav")

**[ilyav](/en/users/ilyav)**
|
25 Jun 2018 at 22:09

Definitely reptiloid)

![Exp_CenterOfGravityCandle](https://c.mql5.com/i/code/expert.png)
[Exp\_CenterOfGravityCandle](/en/code/16786)

The Exp\_CenterOfGravityCandles Expert Advisor is based on signals of the CenterOfGravityCandles indicator.

![WPR_Histogram_Round_HTF](https://c.mql5.com/i/code/indicator.png)
[WPR\_Histogram\_Round\_HTF](/en/code/16784)

The WPR\_Histogram\_Round indicator with the timeframe selection option available in the input parameters.

![Exp_TimesDirection](https://c.mql5.com/i/code/expert.png)
[Exp\_TimesDirection](/en/code/16811)

The Expert Advisor opens and closes positions at the predefined moments in time.

![SilverTrend_Signal_Alert](https://c.mql5.com/i/code/indicator.png)
[SilverTrend\_Signal\_Alert](/en/code/16812)

SilverTrend semaphore signal indicator features alerts, emails and push notifications.