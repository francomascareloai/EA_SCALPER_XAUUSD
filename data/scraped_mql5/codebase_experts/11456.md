# IcqMessenger - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/11456

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/11456) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# IcqMessenger - expert for MetaTrader 5

[mao](/en/users/mustaddon1)  |
[English](javascript:void(false);)

[Русский](/ru/code/11456) [中文](/zh/code/11456) [Español](/es/code/11456) [Deutsch](/de/code/11456) [日本語](/ja/code/11456) [Português](/pt/code/11456)

Views:
:   4594

Rating:
:   (33)

Published:
:   21 January 2015, 13:19
:   [exp\_statusbot.mq4](/en/code/download/11456/exp_statusbot.mq4 "exp_statusbot.mq4")
    (9.7 KB)
    [view](# "view")

    [mustwatcher\_v1\_16.zip](/en/code/download/11456/mustwatcher_v1_16.zip "mustwatcher_v1_16.zip")
    (65.76 KB)

    [Download as ZIP](/en/code/download/11456.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Backgrounds / Usage Motivation

Using the automated trading system, once in a while we may need to enquire information concerning account balance, opened positions, etc., being far from a trading terminal, but having Internet connection and ICQ on any computer (or any other device). One does not have time nor desire to install and log in **MetaTrader** to get such a common information. So the idea of finding a way to get needed information concerning a trading account via ICQ has appeared.

Implementation

I chose <saving information in txt-file> ; <sending information on request> as a way to implement the idea.

1. I developed a common mt-advisor **exp\_statusbot** for saving information. It saves information concerning account balance in **status.txt** and opened positions changes in **notify.txt**.
2. To send information from txt-files, I made the simplest icqbot **mustwatcher**. It will analyze a request and send an answer to its author.

Installation Instructions

1. Download and compile **exp\_statusbot.****mq4**.
2. Launch MT and add the advisor to any chart.
3. Download icqbot **mustwatcher\_v1.16.zip**.
4. Launch the bot (please ensure that "Microsoft .NET Framework 3.5" is installed on your computer)
5. Using **Add** button add needed **status.txt** and **notify.txt** (located in **<metatrader\_dir>\experts\files\statusbot**) to the list
6. Register UIN for the bot (Universal Identification Number, or flatly the ICQ number which can be obtained on the official web-site [https://www.icq.com/register](/go?link=https://www.icq.com/register "/go?link=https://www.icq.com/register"))
7. Enter UIN of the bot and a password.
8. Enter your name as an administrator.
9. Click **Connect**

Then send command **!****status** (as the file is named **status.txt**) from your UIN and get what we needed.

[![](https://c.mql5.com/18/30/status_wos_1.png)](/)

To enable automatic notifier of changed files (here **notify.txt**) we shall enter **!****spamon.** And after a corresponding change we receive what we subscribed to =)

[![](https://c.mql5.com/18/30/notify_wos_1.png)](/)

The administrator can add other users to the registry, if they also need an access to this information.  
 This is just an example. Needless to say that you can make as many txtfiles with any content as you wish and receive this content upon corresponding demand.  
 The list of all available commands appears by means of **!help** or can be seen in the file **<mustwatcher****\_dir>\data\help\_admin.txt**.  
 The bot's interface contains several buttons, so you won't be confused.

The End.  
   
   
   
 Updates  
  **MustWatcher v1.05** Automatic connection function when the program is launched is added.   
   
 **MustWatcher v1.06** A checkbox of program automatic launch (when the operating system is launched) is added. It can be minimized to a tray.  
   
 **MustWatcher v1.07** 1) The list scheme for files necessary to be viewed and meant for automatic notification is changed. Now before obtaining content of a text-file, you shall add it to the list (**Watcher** tab) using **Add** button. 2) Feedback system which allows to write any text to a file is changed. Now you can add your own commands (**Feedback** tab) with any text and file record.  
   
 **exp\_statusbot.****mq4** Function that records data file, which shall be sent via email, is added.  
 **exp\_statusbot.****mq5** Function that records data file necessary for email report is added.  
   
 **MustWatcher v1.08** Function that generates a detailed report and sends it to stated email is added. In order to receive a report you shall add the data file to the corresponding list (**Watcher** tab). A file name without a suffix is also a request command (for example, if you send command **!report**, the bot will generate a report on the basis of data from **report.txt**).  
   
 **MustWatcher v1.10** Bugfix.  
   
 **MustWatcher v1.13** Optimization. Fixed errors.

**MustWatcher v1.16** Optimization. Fixed errors.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/11456](/ru/code/11456)

**Last comments |
[Go to discussion](/en/forum/39878)**
(1)

![Mohammed Abdulwadud Soubra](https://c.mql5.com/avatar/2023/8/64de3a47-6ab8.jpg "Mohammed Abdulwadud Soubra")

**[Mohammed Abdulwadud Soubra](/en/users/soubra2003)**
|
23 May 2016 at 00:34

Many

thanks

![Exp_ExchangePrice](https://c.mql5.com/i/code/expert.png)
[Exp\_ExchangePrice](/en/code/11372)

The Exp\_ExchangePrice EA is based on the signals of the ExchangePrice trend indicator.

![Exp_MaByMa](https://c.mql5.com/i/code/expert.png)
[Exp\_MaByMa](/en/code/11345)

The Exp\_MaByMa EA is based on the signals of the MaByMa trend indicator.

![Pairs Trading](https://c.mql5.com/i/code/expert.png)
[Pairs Trading](/en/code/11777)

The robot opens two positions, profits of which overlap each other, and waits for a profit.

![Exp_CronexMFI](https://c.mql5.com/i/code/expert.png)
[Exp\_CronexMFI](/en/code/2383)

The Exp\_CronexMFI is based on the signals generated by the CronexMFI oscillator.