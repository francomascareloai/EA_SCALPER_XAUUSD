# Nova - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/19218

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/19218) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Nova - expert for MetaTrader 5

Hust  |
[English](javascript:void(false);)

[Русский](/ru/code/19218) [中文](/zh/code/19218) [Español](/es/code/19218) [Deutsch](/de/code/19218) [日本語](/ja/code/19218) [Português](/pt/code/19218)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   7318

Rating:
:   (37)

Published:
:   3 November 2017, 12:38

Updated:
:   28 February 2018, 10:51
:   [Nova.mq5](/en/code/download/19218/nova.mq5 "Nova.mq5")
    (31.58 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/19218.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**The author of the idea**: [Vit](/en/users/hust "Vit (Hust)"), **the mq5 code author**: [barabashkakvn](/en/users/barabashkakvn).

### Input Parameters

* **N-seconds ago** - the number of seconds to record price movement.
* **Step (in pips)** - step value.
* **Lots** - position volume.
* **Stop Loss (in pips)** - Stop Loss value.
* **Take Profit (in pips)** - Take Profit value.
* **Coefficient, if the stop-loss is triggered** - lot increase ratio after the stop loss.

The Expert Advisor analyzes the last '**N-seconds ago**' seconds and compares with the current price.

The Expert Advisor monitors triggering of Stop Loss and Take Profit by using the excellent enumeration [ENUM\_DEAL\_REASON](/en/docs/constants/tradingconstants/dealproperties#enum_deal_reason):

| Identifier | Description |
| --- | --- |
| \*\*\* |  |
| DEAL\_REASON\_SL | The deal was executed as a result of Stop Loss activation |
| DEAL\_REASON\_TP | The deal was executed as a result of Take Profit activation |
| \*\*\* |  |

If Stop Loss has triggered, the lot of the next position will be increased in accordance with the '**Coefficient, if the stop-loss is triggered**' parameter.

### Position Opening Rules

* **BUY** - bar #1 must be bullish (Close > Open) and the current price must be higher than the price '**N-seconds ago**' by '**Step**'.
* **SELL** - bar #1 must be bearish (Close < Open) and the current price must be lower than the price '**N-seconds ago**' by '**Step**'.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/19218](/ru/code/19218)

**Last comments |
[Go to discussion](/en/forum/218741)**
(10)

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
22 Mar 2018 at 09:38

**issah5:**  

I must have misspoken... so that **N-seconds ago** is in milliseconds

Set the**"N-seconds ago"** parameter to 1. You can try to set it to "0".

![issah5](https://c.mql5.com/avatar/avatar_na2.png "issah5")

**[issah5](/en/users/issah5)**
|
22 Mar 2018 at 10:46

**Vladimir Karputov:**  

Set the**"N-seconds ago"** parameter to 1. You can try setting it to "0".

I tried both 0 and 1... But it's too much variation....

![a11051605](https://c.mql5.com/avatar/avatar_na2.png "a11051605")

**[a11051605](/en/users/a11051605)**
|
21 Nov 2018 at 02:12

I like this EA...high volume trader for sure. I use it so far on m15 time frame.

![Uladzislau Miarzlou](https://c.mql5.com/avatar/2017/8/599FE310-8A4C.jpg "Uladzislau Miarzlou")

**[Uladzislau Miarzlou](/en/users/mason_one)**
|
7 Nov 2019 at 19:31

Hello, I'm testing on the server, and the following problem has arisen: when a lot reaches a size larger than the maximum possible, the robot does not open and writes in the log "broker [comment:](https://www.mql5.com/en/docs/common/comment "MQL5 documentation: Comment function") No money". Is it possible to make it reset the cycle every time it reaches the maximum lot size? When it reaches the maximum, it starts with Lots from the settings.

I also put a parameter in it to work in a certain period of the session, can this be the reason?

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
7 Nov 2019 at 19:33

**mason\_one:**  

Hello, I'm testing on the server, and the following problem has arisen: when a lot reaches a size larger than the maximum possible, the robot does not open and writes in the log "broker comment: No money". Is it possible to make it reset the cycle every time it reaches the maximum lot size? When it reaches the maximum, it starts with Lots from the settings.

I also put a parameter in it to work in a certain period of the session, can this be the reason?

The current version is written on outdated cycles of [trade request checking](https://www.mql5.com/en/docs/constants/structures/mqltradecheckresult "MQL5 Documentation: MqlTradeCheckResult"). It will not be rewritten anymore.

![e-Skoch pending orders](https://c.mql5.com/i/code/expert.png)
[e-Skoch pending orders](/en/code/19207)

Works with pending stop orders (Buy Stop and Sell Stop). Monitors spread %.

![Locker](https://c.mql5.com/i/code/expert.png)
[Locker](/en/code/19177)

The EA lock positions.

![MACD Stochastic](https://c.mql5.com/i/code/expert.png)
[MACD Stochastic](/en/code/19233)

The trading system is based on iMACD (Moving Average Convergence/Divergence, MACD) and iStochastic (Stochastic Oscillator)

![Resistance & Support](https://c.mql5.com/i/code/indicator.png)
[Resistance & Support](/en/code/19241)

The indicator of support and resistance lines calculated based on the iFractals (Fractals) indicator values.