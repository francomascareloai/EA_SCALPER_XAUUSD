# BrainTrend2Sig - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/395

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/395) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# BrainTrend2Sig - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/395) [中文](/zh/code/395) [Español](/es/code/395) [Deutsch](/de/code/395) [日本語](/ja/code/395) [Português](/pt/code/395) [한국어](/ko/code/395) [Français](/fr/code/395) [Italiano](/it/code/395) [Türkçe](/tr/code/395)

Views:
:   18902

Rating:
:   (39)

Published:
:   30 July 2011, 14:04

Updated:
:   22 November 2016, 07:32
:   [braintrend2sig.mq5](/en/code/download/395/braintrend2sig.mq5 "braintrend2sig.mq5")
    (8.33 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/395.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Description:

BrainTrend2Sig is an indicator of the market trends that assigns colors to candlesticks according to the trend direction.

While there is a downward trend on the market, all candlesticks are colored in red. As soon as the trend is upwards, all succeeding candlesticks will be colored in blue.

BrainTrend2Sig algorithm is based on the processing of [ATR](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/atr) and [Stochastic Oscillator](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/so) indicators' information. In this indicator I extracted all algorithm variables that can be controlled into the indicator's input parameters, so it can be used not only with the default settings now.

![BrainTrend2Sig](https://c.mql5.com/18/3/BrainTrend2Sig__1.png "BrainTrend2Sig")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/395](/ru/code/395)

**Last comments |
[Go to discussion](/en/forum/4265)**
(6)

![Niсolai Chirillin](https://c.mql5.com/avatar/2020/12/5FE6F024-DCBB.jpg "Niсolai Chirillin")

**[Niсolai Chirillin](/en/users/nik_kirillin)**
|
7 Nov 2020 at 11:04

Could you please tell me how to configure BrainTrend2Sig to [send notification](https://www.mql5.com/en/docs/network/sendnotification "MQL5 documentation: SendNotification function") in messenger or as SMS or phone call?

thanks in advance

![Edgar Akhmadeev](https://c.mql5.com/avatar/avatar_na2.png "Edgar Akhmadeev")

**[Edgar Akhmadeev](/en/users/dali)**
|
9 Nov 2020 at 11:05

That's an interesting indicator. I don't see "all variables" though, only one. Two more I pulled out myself (from constants).

Do you plan to publish a non-arrow indicator for subwindow based on it?

![Edgar Akhmadeev](https://c.mql5.com/avatar/avatar_na2.png "Edgar Akhmadeev")

**[Edgar Akhmadeev](/en/users/dali)**
|
9 Nov 2020 at 11:08

**Boris Egorov:**  

how do I connect to it from my EA?

if possible example code!!!

iCustom + [CopyBuffer](https://www.mql5.com/en/docs/series/copybuffer "MQL5 documentation: CopyBuffer function")

![Daniel Gomes](https://c.mql5.com/avatar/2022/1/61E6B07A-5972.jpg "Daniel Gomes")

**[Daniel Gomes](/en/users/daniel_kahuna)**
|
20 Sep 2023 at 09:57

Hello good morning, I'm trying to use the indicator in a custom EA. In mt4 it works perfectly, but in mt5 I have difficulty doing the same, in mt4 I call the indicator this way and it has worked:

```mql5
Hello good morning, I'm trying to use the indicator in a custom EA. In mt4 it works perfectly, but in mt5 I have difficulty doing the same, in mt4 I call the indicator this way and it has worked:


// Chama a função iCustom para obter o valor da seta azul
   redArrowValue = iCustom(Symbol(), Period(), "BT2", 0, 0);

// Chama a função iCustom para obter o valor da seta vermelha
   blueArrowValue = iCustom(Symbol(), Period(), "BT2", 1, 0);





// Condição de venda: Preço acima da linha de cima e sinal de venda no BT2
   if(!HasOpenPositions(Symbol(), MagicNumber) && CheckStartMarket() && currentPrice > upBuffer && redArrowValue == 1 && blueArrowValue > 0 && previousOpen > upBuffer)
     {
      SellOrder(TakeProfit, StopLoss);
      partialCloseActivated = false;
      breakevenActivated = false;
      Alert("Venda efetuada!");
     }

// Condição de compra: Preço abaixo da linha de baixo e sinal de compra no BT2
   if(!HasOpenPositions(Symbol(), MagicNumber) && CheckStartMarket() && currentPrice < dnBuffer && blueArrowValue == 2 && redArrowValue > 0 && previousOpen < dnBuffer)
     {
      BuyOrder(TakeProfit, StopLoss);
      partialCloseActivated = false;
      breakevenActivated = false;
      Alert("Compra efetuada!");
     }
  }


```

![NP Dhamala](https://c.mql5.com/avatar/2024/9/66F574C7-DCFB.png "NP Dhamala")

**[NP Dhamala](/en/users/npdhamala8088)**
|
4 Jan 2025 at 19:37

it is so good in 30 [minutes timeframe](https://www.mql5.com/en/docs/constants/chartconstants/enum_timeframes "MQL5 documentation: Chart Timeframes") for me. remember everyone has different edges

![BrainTrend2](https://c.mql5.com/i/code/indicator.png)
[BrainTrend2](/en/code/394)

BrainTrend2 is an indicator of the market trends that assigns colours to candlesticks according to the trend direction.

![Ergodic DTI-Oscillator Blau_Ergodic_DTI](https://c.mql5.com/i/code/indicator.png)
[Ergodic DTI-Oscillator Blau\_Ergodic\_DTI](/en/code/385)

Ergodic DTI-Oscillator (Directional Trend Index) by William Blau.

![BrainTrend2Stop](https://c.mql5.com/i/code/indicator.png)
[BrainTrend2Stop](/en/code/396)

BrainTrend2Stop is a trend reversal detection indicator, it is displayed by the stops line. Intersection of the line indicates trend reversal and the time to close previously opened positions.

![BrainTrend1](https://c.mql5.com/i/code/indicator.png)
[BrainTrend1](/en/code/391)

Trend direction indicator BrainTrend1.