# Overlay Chart Modified to not repaint on each bar - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/26289

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/26289) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Overlay Chart Modified to not repaint on each bar - indicator for MetaTrader 4

Sameer

Published by:
:   [Brian Rumbles](/en/users/ea_research_development)

Views:
:   29365

Rating:
:   (13)

Published:
:   6 August 2019, 19:43
:   [modified overlay chart.mq4](/en/code/download/26289/modified_overlay_chart.mq4 "modified overlay chart.mq4")
    (17.38 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/26289.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

[![Modified Overlay Chart USDJPY vs USDCHF](https://c.mql5.com/18/84/Chart_Overlay__1.PNG "Modified Overlay Chart USDJPY vs USDCHF")](https://c.mql5.com/18/84/Chart_Overlay.PNG "https://c.mql5.com/18/84/Chart_Overlay.PNG")

image: Modified Overlay Chart USDJPY vs USDCHF (4hr chart)

Function

The Original Overlay Chart is used to have two currencies or 2 assets on 1 chart.

The relative price of the one currency can be seen in terms on the other currency.  
For example, on the EURUSD chart, using
this indicator, The USDCHF could be added and the USDCHF price will be shown in terms of EURUSD price.

Use

This could be useful for strategies that depend on the convergence or divergence of 2 currencies or assets. Some people informally refer to
this as 'correlation' or 'arbitrage' or more formally 'co-integration' strategies or 'relative value'.

Changes/updates/improvements

The Original indicator will re-center its calculation on every bar, and hence the price will keep shifting up and down and so the historical
relative values do not remain constant. This indicator was modified so that the 'center' or initial relative reference point stays fixed
and does not update each bar. It will only update the initial center point (Re-initialize) when the indicator is reloaded or settings are
changed. (The indicator does however show the changes of the current prices on the same chart, just to clarify).

This indicator also paints for history far back, while the original does not. I may have also changed one or two other things in the original
code, you can find the
[original code here](/en/code/7933).

Inputs  
The SET CENTER input is which bar back in the history the indicator should use to be the fixed initial point to compare the 2
currencies or assets.

**Last comments |
[Go to discussion](/en/forum/319533)**
(2)

![david mackay](https://c.mql5.com/avatar/2014/6/53AAD890-2E9F.jpg "david mackay")

**[david mackay](/en/users/blaiserboy)**
|
17 Nov 2019 at 17:58

I am getting an error message  '[array
out of range](/en/articles/2555 "Article \"The checks a trading robot must pass before publication in the Market\"")'  (178,26)

Would there be a fix for this error?

Thank you

![sibulele01](https://c.mql5.com/avatar/avatar_na2.png "sibulele01")

**[sibulele01](/en/users/sibulele01)**
|
1 Jul 2020 at 18:40

it doesn't seem to want to open on my mt4 platform.. any suggestions?

![Evenly weighted DXY and changeable base currency](https://c.mql5.com/i/code/indicator.png)
[Evenly weighted DXY and changeable base currency](/en/code/26287)

Currency Index that calculates evenly on all 7 major pairs. Can also change base currency. Based on No Nonsense Forex podcast.

![Automatically enable or disable the automated trading button](https://c.mql5.com/i/code/expert.png)
[Automatically enable or disable the automated trading button](/en/code/26270)

Let say you have an EA and you want it to trade in between an interval of time but you do not have the source codes to modify the EA.
This utility allows you to automatically enable or disable the automated trading button. You can use the codes as an EA, Indicator or script but I used as an EA.
You can remove Ordersend command because I set it only for the codes to past the test but it is meaningless.

![SailSystemEA](https://c.mql5.com/i/code/expert.png)
[SailSystemEA](/en/code/26327)

This Expert Advisor is a pure hedging system.

![FlySystemEA](https://c.mql5.com/i/code/expert.png)
[FlySystemEA](/en/code/26326)

This Expert Advisor is a pure scalping system.