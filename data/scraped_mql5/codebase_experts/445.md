# Fibonacci retracement - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/445

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/445) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Fibonacci retracement - indicator for MetaTrader 5

[PipSlayer42](/en/users/pipslayer42)  |
[English](javascript:void(false);)

[Русский](/ru/code/445) [中文](/zh/code/445) [Español](/es/code/445) [Deutsch](/de/code/445) [日本語](/ja/code/445) [Português](/pt/code/445) [한국어](/ko/code/445) [Français](/fr/code/445) [Italiano](/it/code/445) [Türkçe](/tr/code/445)

Views:
:   29831

Rating:
:   (27)

Published:
:   12 August 2011, 12:47

Updated:
:   22 November 2016, 07:32
:   [fibo\_retrace.mq5](/en/code/download/445/fibo_retrace.mq5 "fibo_retrace.mq5")
    (6.21 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/445.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Real author:**

ggekko

The indicator plots the Fibonacci retracement levels on the chart for a user-defined number of bars without having to draw the [Fibonacci retracement object](https://www.metatrader5.com/en/terminal/help/objects/fibo).

The user specifies how many bars they want to use for the retracement and then the indicator keeps track of the highest highs and lowest lows and plots the levels accordingly.

If a new high is more recent than a new low, then the indicator assumes it to be an uptrend and the levels show were the price might encounter support if it retraces. If a low is more recent than a high, then the indicator assumes it to be a downtrend and the lines show were the price might encounter resistance if it retraces.

The original idea and code were published in the [Code Base on mql4.com](https://www.mql5.com/en/code/10214) 2011.04.11.

![Fibonacci retracement](https://c.mql5.com/18/3/EURUSDH4.png "Fibonacci retracement")

**Last comments |
[Go to discussion](/en/forum/4405)**
(3)

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
21 Nov 2013 at 12:06

Fibonacci Retracements (based on [stockcharts article](https://www.mql5.com/go?link=http://stockcharts.com/school/doku.php?id=chart_school:chart_analysis:fibonacci_retracemen "http://stockcharts.com/school/doku.php?id=chart_school:chart_analysis:fibonacci_retracemen"))

  
**Introduction**

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
31 Jan 2014 at 11:05

The 3 Step Retracement Strategy (adapted from [dailyfx article](https://www.mql5.com/go?link=https://www.dailyfx.com/forex/education/trading_tips/chart_of_the_day/2014/01/31/The_3_Step_Retracement_Strategy.html "http://www.dailyfx.com/forex/education/trading_tips/chart_of_the_day/2014/01/31/The_3_Step_Retracement_Strategy.html"))

* Retracements are pullbacks within a trend.
* Find the trend and resistance using trendlines.
* Entries can be planned using a Fibonacci retracement.

**Find A Trendline**  
  
Before we can consider trading a pricing swing, we need to first be able to find market direction as well as support or resistance. This issue can be solved by creating a trendline. These areas can be found on a chart by either connecting to highs or lows, then extrapolating their direction on the chart. In a downtrend traders should look for price action to be declining under trendline resistance, while in uptrend prices should be advancing above trendline support.

![](https://c.mql5.com/3/29/trendline1.png)

**Fibonacci Retracements**

Once market direction and trendline resistance is identified, we need to identify an area to enter into the market. This can be done by finding a confluence of resistance using a Fibonacci retracement. These retracement values are displayed as a percentage of the previous move as measured from swing high/low in a downtrend. Much like our previously drawn trendline, these retracements can pinpoint areas where the market may turn. Traders should look to see where these two values converge and then plan to enter the market.

![](https://c.mql5.com/3/29/trendline2.png)

**Exiting Positions**

Now that we have a plan to enter the market on a price swing, traders will need to identify when it is time to exit the market. This is always the third and final step of any successful strategy! In order to manage risk, traders should first consider where to set a stop order. In a downtrend like the USDJPY daily chart, traders should consider placing this value above resistance. On the chart below stop orders have been placed outside of resistance, above our current trendline and previous swing high.

![](https://c.mql5.com/3/29/trendline3.png)

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
13 Jun 2014 at 07:44

[Forum on trading, automated trading systems and testing trading strategies](/en/forum)

[Indicators: ZZ\_Ensign\_Fibo](/en/forum/29223#comment_947153)

[newdigital](https://www.mql5.com/en/users/newdigital "https://www.mql5.com/en/users/newdigital"), 2014.06.13 07:43

The Rabbit Hole of Fibonacci (adapted from [this article](https://www.mql5.com/go?link=https://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/06/12/Looking-down-the-rabbit-hole.html "http://www.dailyfx.com/forex/education/trading_tips/daily_trading_lesson/2014/06/12/Looking-down-the-rabbit-hole.html"))  

* We look at the history and background of the mathematical concept known as ‘The Fibonacci Sequence’
* We show you how traders can apply these mathematical studies to their trading.

In this article, we’re going to look at a more subjective form of Support and Resistance analysis: We’re going to investigate Fibonacci. In our next three pieces, we’ll take all of these support and resistance mechanisms and we’ll show you how traders can actually put them to use.  
  **Fibonacci**  
   
 This is one of the more in-depth support and resistance methods out there, and there are a lot of different ways that traders look to integrate Fibonacci in their trading.  
   
 Taking a step back, Fibonacci is named after the 12th century mathematician, Leonardo of Pisa. In 1202 AD, Leonardo published a composition with the name of Liber Abaci that consisted of a numerical sequence that eventually became named after him. Leonardo of Pisa didn’t discover the sequence; he merely used it as an example in his composition.  
   
 The sequence is thought to have been originally used by Indian mathematicians as early as the 6th century; and in Liber Abaci, this numerical sequence was introduced the western world. The sequence introduced by Leonardo of Pisa was a system that found the next value in the sequence by adding the two previous numbers. The sequence shared in Liber Abaci was as follows:  
  
![](https://c.mql5.com/3/41/fibo1.png)  
  
Today these values are called ‘Fibonacci numbers’ and are used by many traders as input values for indicators along with a slew of other purposes.   
   
 But input values on trading indicators aren’t the only place that we’ll see this system at work. The Fibonacci sequence has excited mathematicians and scientists for thousands of years because of its numerous applications in the world around us. One of the initial applications that Leonardo of Pisa investigated in his original manuscript was the population growth of rabbits. He found that as an isolated population of rabbits grew, the population would grow according the Fibonacci sequence. Starting with one pair of rabbits, the population would then grow to two; which would become three, and then five, eight, thirteen, etc. The sequence is also prominent in population growth within honeybees, the number of petals on a flower, and the formation of pine cones just to name a few.  
   
 Many believe the Fibonacci sequence to be the language of nature itself. If you want to see more on this topic, Fibonacci was prominently featured as part of the movie Pi; the fictional movie released in 1998 that follows a mathematician’s quest in predicting the future based on mathematics. But even outside of fictional movies, the numerous manners with which the sequence appears in the world around us is fascinating and definitely worthy of a google-search.  
   
 But that’s not the only exciting aspect of the Fibonacci sequence. More fascinating is what we can see if we look just a little bit below the surface. If you take the ratio of any two successive numbers, such as 144 and 233 and divide the second number (233) by the first (144), you’ll eventually move towards a very special number of 1.618 (61.8%). In this specific example, the exact value would be ‘1.6180555…’ The deeper we get in the sequence, the closer this ratio moves towards 1.618 until eventually the ratio stands at exactly 1.618. This number is the prize behind Fibonacci, and it has fascinated mathematicians and scientists for thousands of years.  
   
 The number of 1.618 is called ‘The Golden Ratio,’ and can be found in numerous applications within nature ranging from the spirals of a sea shell to leaf arrangements of a houseplant.  
  
![](https://c.mql5.com/3/41/fibo2.png)

![Module of Trade Signals, Based on T3 Indicator](https://c.mql5.com/i/code/library.png)
[Module of Trade Signals, Based on T3 Indicator](/en/code/447)

The downward crossover of T3 moving average is a signal to open a long position, the upward crossover of T3 moving average is a signal to open short position.

![T3](https://c.mql5.com/i/code/indicator.png)
[T3](/en/code/424)

T3 Moving Average is based on multiple exponential smoothing of price.

![Variation](https://c.mql5.com/i/code/indicator.png)
[Variation](/en/code/422)

This trend indicator shows the current trend direction and moments for closing of the opened position.

![Simple timer next candle](https://c.mql5.com/i/code/indicator.png)
[Simple timer next candle](/en/code/455)

A non-invasive candle time that can be positioned next to price or near a corner.