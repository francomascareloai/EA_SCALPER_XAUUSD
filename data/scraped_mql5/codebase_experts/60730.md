# Moving Average x Relative Strength Indicator EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/60730

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/60730) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Moving Average x Relative Strength Indicator EA - expert for MetaTrader 5

Arap  |
[English](javascript:void(false);)

[Русский](/ru/code/60730) [中文](/zh/code/60730) [Español](/es/code/60730) [Deutsch](/de/code/60730) [日本語](/ja/code/60730) [Português](/pt/code/60730) [한국어](/ko/code/60730) [Français](/fr/code/60730) [Italiano](/it/code/60730) [Türkçe](/tr/code/60730)

Published by:
:   [Harrison Kiptallam Kipchumba](/en/users/araproja)

Views:
:   6690

Rating:
:   (7)

Published:
:   22 June 2025, 02:46
:   [marsi\_ea.mq5](/en/code/download/60730/marsi_ea.mq5 "marsi_ea.mq5")
    (8.12 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/60730.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

MARSI- [![Backtest](https://c.mql5.com/18/164/Screenshot_2025-06-22_054223__1.png "Backtest")](https://c.mql5.com/18/164/Screenshot_2025-06-22_054223.png "https://c.mql5.com/18/164/Screenshot_2025-06-22_054223.png") [![Drawdown/loss(-1.07%)](https://c.mql5.com/18/164/Screenshot_2025-06-22_054240__1.png "Drawdown/loss(-1.07%)")](https://c.mql5.com/18/164/Screenshot_2025-06-22_054240.png "https://c.mql5.com/18/164/Screenshot_2025-06-22_054240.png")EA is a beginner-friendly Expert Advisor (EA) that combines the logic of the **Relative Strength Index (RSI)** and a **Simple Moving Average (SMA)** to identify and execute trading signals on financial markets like XAUUSD (Gold).

The EA is built to demonstrate:

* Dynamic lot sizing based on account risk
* RSI-based overbought/oversold entry conditions
* Trend filtering using a Moving Average
* SL and TP levels adjusted to symbol tick precision

This EA is **especially useful for learners** who are experimenting with technical strategies and want to understand how indicator handles, dynamic risk, and broker digit differences affect trading logic.

---

### **Trading Logic**

The EA operates with the following entry rules:

* **Buy when**:

  + The current price is above the moving average (bullish)
  + RSI is below the oversold threshold (suggesting price will rise)
* **Sell when**:

  + Price is below the moving average (bearish)
  + RSI is above the overbought threshold (suggesting price will fall)
* Stop Loss and Take Profit are configured using \_Point , adjusted based on the broker’s pricing precision ( \_Digits ).

---

### **External Input Parameters**

| Variable | Description |
| --- | --- |
| maPeriod | Period used for Simple Moving Average |
| rsiPeriod | Period used for Relative Strength Index |
| rsiOverbought | RSI threshold above which the market is considered overbought (sell trigger) |
| rsiOversold | RSI threshold below which the market is considered oversold (buy trigger) |
| riskPercent | Percentage of balance to risk per trade |
| stopLoss | Stop Loss distance in points |
| takeProfit | Take Profit distance in points |
| slippage | Maximum allowed slippage in points |

---

### **Recommended Usage**

* **Symbol**: XAUUSD (Gold)
* **Timeframe**: M15 or H1
* **Broker**: Any broker with proper tick data (test across both 2/3 and 4/5 digit brokers for consistency)
* **Backtest Range**: 3–6 months recommended
* **Conditions**: Ensure tick data is available for reliable RSI/MA values

---

### **Additional Notes**

* The function PipSize() helps normalize pip values across brokers with different \_Digits .
* The EA automatically calculates a lot size based on the current account balance and defined risk.
* Code is modular and easily extendable with trailing stops, news filters, or other conditions.
* This Project is an ongoing one and feedbacks are welcome!

**[Go to discussion](/en/forum/489519)**

![Candle size](https://c.mql5.com/i/code/indicator.png)
[Candle size](/en/code/56281)

The "Candle\_size.mq5" indicator was developed to display the size of candles on the chart, providing a clear and detailed visual analysis of price movements. It calculates the difference between the high and low prices of each candle and displays the formatted value as text next to the corresponding candle. This feature is especially useful for traders who want to assess volatility or identify specific patterns of price behaviour.

![MACD coloured histogram](https://c.mql5.com/i/code/indicator.png)
[MACD coloured histogram](/en/code/56382)

The MACD Coloured Histogram is an enhanced version of the classic MACD (Moving Average Convergence Divergence) indicator, designed to provide a clearer and more intuitive visual analysis of market momentum. This indicator combines traditional MACD functionalities with a dynamic histogram that changes colour based on the relationship between the MACD Line and the Signal Line, allowing traders to quickly identify trends, reversal points and moments of indecision in the market.

![Price Time Scale](https://c.mql5.com/i/code/indicator.png)
[Price Time Scale](/en/code/56228)

Custom time and price scale.

![CryptoTrend](https://c.mql5.com/i/code/expert.png)
[CryptoTrend](/en/code/56107)

CryptoTrend 1.00 Expert Advisor is an automated trading system designed for trading cryptocurrency (in particular, BTC). Main features: Bollinger indicator: Used to identify market extremes and generate buy and sell signals. Order Block filtering: Allows to find support and resistance levels, which helps to reduce the number of false signals. Self-learning: The entry threshold is adapted depending on the statistics of winning and losing trades, which allows the Expert Advisor to adapt to changing market conditions. Risk management: Calculates stop loss (SL) and take profit (TP) levels based on risk analysis and correlation