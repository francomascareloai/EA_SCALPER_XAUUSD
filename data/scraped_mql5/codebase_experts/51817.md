# Logging Class for both MQL4 and MQL5 - library for MetaTrader 5

Source: https://www.mql5.com/en/code/51817

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/51817) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Logging Class for both MQL4 and MQL5 - library for MetaTrader 5

[Simone Lamanna](/en/users/stormwave)  |
[English](javascript:void(false);)

[Русский](/ru/code/51817) [中文](/zh/code/51817) [Español](/es/code/51817) [Deutsch](/de/code/51817) [日本語](/ja/code/51817) [Português](/pt/code/51817) [한국어](/ko/code/51817) [Français](/fr/code/51817) [Italiano](/it/code/51817) [Türkçe](/tr/code/51817)

Views:
:   4017

Rating:
:   (7)

Published:
:   31 August 2024, 14:44

Updated:
:   2 September 2024, 18:29
:   [Logging.mq5](/en/code/download/51817/logging.mq5 "Logging.mq5")
    (9.08 KB)
    [view](# "view")

    \MQL5\Include\

    [Logging.mqh](/en/code/download/51817/logging.mqh "Logging.mqh")
    (44.87 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/51817.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

## CDebugLogger Class: A Comprehensive Logging Utility for MQL4/5

The **CDebugLogger** class is a powerful and flexible logging utility specifically designed for MQL4/5 environments. It is an essential tool for developers who need to monitor, debug, and track the behavior of their applications with precision. Below, we explore the key features and capabilities of this class.

### Key Features

* **Multiple Log Levels:** The CDebugLogger class supports logging at different levels of importance, including *INFO*, *WARNING*, *ERROR*, and *DEBUG*. This allows developers to filter and focus on messages of particular significance.
* **Timestamp Inclusion:** Developers can choose to include timestamps in their log messages, with customizable formats. This feature is crucial for tracking the exact time of events and debugging time-sensitive issues.
* **File Logging:** The class provides robust support for logging to files. Developers can enable or disable file logging, specify the log file's path, and choose whether to save logs in a common folder. Additionally, logs can be saved in a CSV format, making them easy to parse and analyze.
* **Contextual Information:** To enhance the clarity of log messages, the CDebugLogger class allows the inclusion of function signatures, file names, and line numbers. This contextual information helps in pinpointing the exact location of issues within the code.
* **Silent Keywords:** A unique feature of this class is the ability to silence logs that contain specific keywords. This is particularly useful for preventing sensitive information, such as passwords or confidential data, from being logged.
* **Filter Keywords:** Another unique feature of this class is the ability to filter logs that contain specific keywords. This is particularly useful for debugging by focusing only on logs that are relevant to specific issues. Developers can narrow down the log output to include only messages containing certain terms, making it easier to identify and address problems related to those terms without being overwhelmed by unrelated log entries.

### Example Usage

Below is an example of how to initialize and use the CDebugLogger class:

```mql5
// Initialize the logger with INFO level logging to a file
CDebugLogger logger(INFO, true, "log.txt", true, TIME_DATE | TIME_MINUTES, false, true, true, true);

// Log a simple message
logger.Log(INFO, "This is an info message");

// Silence a keyword
logger.AddSilentKeyword("password");

// Log a message that will be silenced
logger.Log(INFO, "User entered password: 1234");

// Enable file logging
logger.EnableFileLogging(true, "debug.log", false);

// Remove a silenced keyword
logger.RemoveSilentKeyword("password");

// Log a message after removing the keyword from the silence list
logger.Log(INFO, "User entered password: 1234");

// Add a keyword to filter logs
logger.AddFilterKeyword("success");

// Log a message that will be filtered out
logger.Log(INFO, "Operation failed");

// Log a message that will pass the filter
logger.Log(INFO, "Operation successful");

// Remove a keyword from the filter
logger.RemoveFilterKeyword("success");

// Initialize using the generic Log function
logging.Initialize(WARNING, true, "warnings.log", true, TIME_SECONDS, true, false, true, true);

// Log a warning using the generic Log function
Log(WARNING, "This is a warning message");
```

### Script Example

To utilize the CDebugLogger class in a script, simply include the necessary library at the beginning of your file, as shown below:

```mql5
//--- It is important to include this header file before all others
#include <Logging.mqh>  


//+------------------------------------------------------------------+
//| Script program start function                                    |
//+------------------------------------------------------------------+
void OnStart()
{
   //--- Initialize the logger with INFO level, logging to a file
   //--- Including timestamps and saving in CSV format
   int log_options = 0; // FILENAME | LINE | FUNCSIG;
   logging.Initialize(INFO, true, "example_log.txt", true, TIME_DATE | TIME_MINUTES | TIME_SECONDS, false, log_options, true);

   //--- Log a simple informational message
   Log(INFO, "Script started successfully.");

   //--- Log a warning message
   Log(WARNING, "This is a warning message.");

   //--- Log an error message
   Log(ERROR, "This is an error message.");

   //--- Log a debug message
   Log(DEBUG, "This is a debug message for debugging purposes.");

   //--- Add a keyword to silence logs containing 'password'
   logging.AddSilentKeyword("password");

   //--- Attempt to log a message containing the silenced keyword
   Log(INFO, "User entered password: 12348"); // This message will be silenced

   //--- Remove the silenced keyword
   logging.RemoveSilentKeyword("password");

   //--- Log the message again, now it will be logged
   Log(INFO, "User entered password: 1234");

   //--- Use the generic Log function to log a message
   Log(INFO, "This message is logged using the generic Log function.");

   //--- Use the Print macro to log a message at the INFO level
   Print("This message is logged using the Print macro.");

   //--- Demonstrate logging with different combinations of options
   logging.Initialize(INFO, true, "log_with_options.txt", true, TIME_DATE | TIME_MINUTES, false, FILENAME | LINE, true);
   Log(INFO, "This log includes only the file name and line number.");

   logging.Initialize(INFO, true, "log_with_funcsig.txt", true, TIME_DATE | TIME_MINUTES | TIME_SECONDS, false, FUNCSIG, true);
   Log(INFO, "This log includes only the function signature.");

   logging.Initialize(INFO, true, "log_custom_order.txt", true, TIME_MINUTES, false, LINE | FILENAME | FUNCSIG, true);
   Log(INFO, "This log includes line number, file name, and function signature in a custom order.");

   //--- Add a keyword to filter logs containing 'important'
   logging.AddFilterKeyword("important");

   //--- Log some messages to demonstrate the filter
   Log(INFO, "This is an important message."); // This message will be visible
   Log(INFO, "This is a regular message.");    // This message will not be visible

   //--- Remove the filter keyword to show all logs
   logging.RemoveFilterKeyword("important");

   //--- Log a final message indicating the end of the script
   Log(INFO, "Script execution completed.");
}
```

### Output CSV example:

```mql5
Timestamp,Level,Message
"2024.09.01 18:31:44","INFO","Script started successfully."
"2024.09.01 18:31:44","WARNING","This is a warning message."
"2024.09.01 18:31:44","ERROR","This is an error message."
"2024.09.01 18:31:44","DEBUG","This is a debug message for debugging purposes."
"2024.09.01 18:31:44","INFO","User entered password: 1234"
"2024.09.01 18:31:44","INFO","This message is logged using the generic Log function."
"2024.09.01 18:31:44","INFO","This message is logged using the Print macro."
```

```mql5
Timestamp,Level,Message,Filename,Line
"2024.09.01 18:31","INFO","This log includes only the file name and line number.","Logging.mq5","135"
```

```mql5
Timestamp,Level,Message,Funcsig
"2024.09.01 18:31:44","INFO","This log includes only the function signature.","void OnStart()"
```

```mql5
Timestamp,Level,Message,Filename,Line,Funcsig
"18:31","INFO","This log includes line number, file name, and function signature in a custom order.","Logging.mq5","141","void OnStart()"
"18:31","INFO","This is an important message.","Logging.mq5","147","void OnStart()"
"18:31","INFO","Script execution completed.","Logging.mq5","154","void OnStart()"
```

### Conclusion

The **CDebugLogger** class is an invaluable tool for any MQL4/5 developer. With its wide range of customizable features, it enables precise logging and monitoring of applications, facilitating easier debugging and better application performance tracking. Whether you need simple message logging or detailed contextual information, the CDebugLogger class provides a reliable and efficient solution tailored to your development needs.

For more information about the CDebugLogger class or to explore other advanced tools and solutions, visit [StormWave Technologies](/go?link=https://stormwave.co/ "https://stormwave.co/").

**Last comments |
[Go to discussion](/en/forum/472351)**
(11)

![Dominik Egert](https://c.mql5.com/avatar/2024/2/65db1363-e44b.jpg "Dominik Egert")

**[Dominik Egert](/en/users/dominik_egert)**
|
12 Sep 2024 at 09:40

**hini [#](/en/forum/472351#comment_54546613):**  

How to solve this problem?

Actually, it is simple, but probably not easy.

Think of your output journal as of a list, or an array. Each element representing a specific location in your code. So for each "print to journal" call, you have a separate element.

Each element has its own list of entries, and as long as they repeat (message is equal to previous), a counter and timestamp is recorded. Once they are not equal, you print the last message including first and last timestamp and counter.

That should give you a sort of filter to avoid spamming the terminals expert log.

Once the program ends, you dump out all not yet printed messages.

![hini](https://c.mql5.com/avatar/2024/3/65e98921-0708.jpg "hini")

**[hini](/en/users/hini)**
|
12 Sep 2024 at 15:14

**Dominik Egert [#](/en/forum/472351#comment_54551829):**  

Actually, it is simple, but probably not easy.

Think of your output journal as of a list, or an array. Each element representing a specific location in your code. So for each "print to journal" call, you have a separate element.

Each element has its own list of entries, and as long as they repeat (message is equal to previous), a counter and timestamp is recorded. Once they are not equal, you print the last message including first and last timestamp and counter.

That should give you a sort of filter to avoid spamming the terminals expert log.

Once the program ends, you dump out all not yet printed messages.

Thank you for your reply. I'm currently using your MQL Plus Enhanced Debugging Support library to print logs. However, sometimes it prints a large amount of repetitive logs, and I don't have a method to resolve this issue at the moment. The solution you suggested is one approach, and I'll try it when I have time. It requires careful design of the logging system.

![Alain Verleyen](https://c.mql5.com/avatar/2024/5/663a6cdf-e866.jpg "Alain Verleyen")

**[Alain Verleyen](/en/users/angevoyageur)**
|
12 Sep 2024 at 22:26

**Dominik Egert [#](/en/forum/472351#comment_54551829):**  

Actually, it is simple, but probably not easy.

Think of your output journal as of a list, or an array. Each element representing a specific location in your code. So for each "print to journal" call, you have a separate element.

Each element has its own list of entries, and as long as they repeat (message is equal to previous), a counter and timestamp is recorded. Once they are not equal, you print the last message including first and last timestamp and counter.

That should give you a sort of filter to avoid spamming the terminals expert log.

Once the program ends, you dump out all not yet printed messages.

It's simple AND easy.

![Dominik Egert](https://c.mql5.com/avatar/2024/2/65db1363-e44b.jpg "Dominik Egert")

**[Dominik Egert](/en/users/dominik_egert)**
|
13 Sep 2024 at 09:16

**hini [#](/en/forum/472351#comment_54555078):**  

Thank you for your reply. I'm currently using your MQL Plus Enhanced Debugging Support library to print logs. However, sometimes it prints a large amount of repetitive logs, and I don't have a method to resolve this issue at the moment. The solution you suggested is one approach, and I'll try it when I have time. It requires careful design of the logging system.

It could be integrated with lib debug.

Lib Debug though is not intended to be a logging facility, but a debug log, giving you a full trace of your code.

![VitalDefender Inc.](https://c.mql5.com/avatar/2024/10/671828b8-3968.png "VitalDefender Inc.")

**[Simone Lamanna](/en/users/stormwave)**
|
22 Sep 2024 at 13:16

**Alain Verleyen [#](/en/forum/472351#comment_54560120):**  
 It's simple AND easy.

I updated the code to V2 with a debouncing mechanism to avoid constantly spamming logs  
  
[https://www.mql5.com/en/code/52298](https://www.mql5.com/en/code/52298 "https://www.mql5.com/en/code/52298")

![HiLo](https://c.mql5.com/i/code/indicator.png)
[HiLo](/en/code/51643)

High and Low Line Indicator

![Save OHLCV Data from Chart to CSV File](https://c.mql5.com/i/code/script.png)
[Save OHLCV Data from Chart to CSV File](/en/code/51567)

This script saves all the OHLCV data available on the chart to a CSV file.

![Max trade volume checker for your trading account](https://c.mql5.com/i/code/expert.png)
[Max trade volume checker for your trading account](/en/code/51877)

A dialog to display the maximum lot size permitted on the underlying asset for different types of orders (buy, sell, pending buy, and pending sell).

![BuySell + SL + TP](https://c.mql5.com/i/code/script.png)
[BuySell + SL + TP](/en/code/51939)

script to open a buy position at the current price in the MT5 window with a specified stop loss (in pips) and take profit (in pips)