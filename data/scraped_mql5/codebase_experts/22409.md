# Autotrader Momentum - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/22409

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/22409) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Autotrader Momentum - expert for MetaTrader 5

Collector  |
[English](javascript:void(false);)

[Русский](/ru/code/22409) [中文](/zh/code/22409) [Español](/es/code/22409) [Deutsch](/de/code/22409) [日本語](/ja/code/22409) [Português](/pt/code/22409)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6353

Rating:
:   (17)

Published:
:   25 October 2018, 18:03
:   [Autotrader Momentum.mq5](/en/code/download/22409/autotrader_momentum.mq5 "Autotrader Momentum.mq5")
    (35.21 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/22409.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**The author of the idea** - [Collector](/en/users/collector "Collector (Collector)")

**mq5 code author** - [barabashkakvn](/en/users/barabashkakvn)

The EA works on netting and hedging accounts. Trading signals are checked only when a new bar appears, while trailing works constantly. When opening a position, a stop loss (**Stop Loss**) and take profit (**Take Profit**) are placed immediately.

To disable stop loss, take profit or trailing, simply set **Stop Loss**, **Take Profit** or **Trailing Stop** to "0.0".

Position opening signals - comparing Close price on the current bar #**Current bar** with the one on the compared bar #**Comparable bar**:

* BUY open signal: Close #**Current bar** > Close #**Comparable bar**
* SELL open signal: Close #**Current bar** < Close #**Comparable bar**

BUY open signal is also SELL close one, while SELL open signal also serves as BUY close one. A previous position is closed first, and a new one is opened afterwards.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/22409](/ru/code/22409)

**Last comments |
[Go to discussion](/en/forum/285643)**
(4)

![109387 Ковалев](https://c.mql5.com/avatar/avatar_na2.png "109387 Ковалев")

**[109387 Ковалев](/en/users/109387)**
|
3 Oct 2018 at 08:41

**Automated-Trading:**  

[Autotrader Momentum](/en/code/22409):

Author: [Vladimir Karputov](/ru/users/barabashkakvn "barabashkakvn")

Hello!!! Can you tell me why the Expert Advisor opens only for buying? What should I do to make a SELL position?

![109387 Ковалев](https://c.mql5.com/avatar/avatar_na2.png "109387 Ковалев")

**[109387 Ковалев](/en/users/109387)**
|
3 Oct 2018 at 08:50

This is in the tester at (0) takeprofit and stopplos.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
3 Oct 2018 at 09:08

**109387:**  

Hello!!! Can you tell me why the Expert Advisor opens only to buy? What to do to make it SELL position?

Type of trading account: netting or hedge, symbol, timeframe, dates from- on, full [settings of](https://www.metatrader5.com/en/terminal/help/algotrading/trade_robots_indicators "Help: Setting up and running the Expert Advisor in MetaTrader 5 Client Terminal") the [EA](https://www.metatrader5.com/en/terminal/help/algotrading/trade_robots_indicators "Help: Setting up and running the Expert Advisor in MetaTrader 5 Client Terminal")? Without these data I can't say anything.

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
28 Dec 2023 at 20:30

tester, the strategy indicates short trading times, with the shortest trade lasting 1 second, the longest 1 minute and 30 seconds, with an average trade of around 9 seconds. For the strategy tester I have set a ping of 25 milliseconds based on my own home network.

My question now is why the EA is not executing trades in the live chart. Could it be due to a bug in the code? I have been looking into this problem for two days but have not been able to find a solution yet. To find out whether it is the code, it would be extremely helpful if one of you could check whether the EA is placing trades for you. It should be noted that another EA I am using is working properly and has a different magic number.

I would be extremely grateful if you could let me know your thoughts on this.

---

I came across a specific [trading strategy](https://www.mql5.com/en/articles/3074 "Article: Comparative Analysis of 10 Trending Strategies ") and meticulously tested it in the strategy tester, where it demonstrated favourable profits. However, I've noticed that the associated Expert Advisor (EA) doesn't place any trades when applied to the live chart. In the strategy tester, the strategy indicates short trading times, with the shortest trade lasting 1 second, the longest 1 minute and 30 seconds, and an average trade duration of about 9 seconds. I've set a ping of 25 milliseconds for the strategy tester, based on my home network.

My question now is why the EA isn't executing trades in the live chart. Could it be due to an error in the code? I've been grappling with this issue for two days now and haven't found a solution yet. To determine if it's a code-related problem, it would be extremely helpful if someone could check whether the EA places trades for them. It's worth noting that another EA I'm using works correctly and has a different magic number.

I would greatly appreciate it if you could provide your insights on this matter.

![xMASumAvg](https://c.mql5.com/i/code/indicator.png)
[xMASumAvg](/en/code/22418)

X MA Sum Average indicator

![MA_Trend](https://c.mql5.com/i/code/indicator.png)
[MA\_Trend](/en/code/22419)

MA Trend indicator

![TimeZonePivotsOpenSystem](https://c.mql5.com/i/code/indicator.png)
[TimeZonePivotsOpenSystem](/en/code/22407)

The indicator paints candles going beyond the TimeZonePivots channel

![WPR_Histogram_Vol_HTF](https://c.mql5.com/i/code/indicator.png)
[WPR\_Histogram\_Vol\_HTF](/en/code/22405)

WPR\_Histogram\_Vol indicator with the timeframe selection option available in input parameters