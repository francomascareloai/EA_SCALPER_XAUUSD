# Exp_SpearmanRankCorrelation_Histogram_TimeWeekPeriod - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/23342

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/23342) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Exp\_SpearmanRankCorrelation\_Histogram\_TimeWeekPeriod - expert for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/23342) [Español](/es/code/23342)

Views:
:   7205

Rating:
:   (25)

Published:
:   7 February 2019, 09:10
:   \MQL5\Include\

    [TradeAlgorithms.mqh](/en/code/download/23342/tradealgorithms.mqh "TradeAlgorithms.mqh")
    (242.04 KB)
    [view](# "view")

    \MQL5\Indicators\

    [SpearmanRankCorrelation\_Histogram.mq5](/en/code/download/23342/spearmanrankcorrelation_histogram.mq5 "SpearmanRankCorrelation_Histogram.mq5")
    (17.83 KB)
    [view](# "view")

    [Exp\_SpearmanRankCorrelation\_Histogram\_TimeWeekPeriod.mq5](/en/code/download/23342/exp_spearmanrankcorrelation_histogram_timeweekperiod.mq5 "Exp_SpearmanRankCorrelation_Histogram_TimeWeekPeriod.mq5")
    (22.97 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/23342.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Expert [Advisor Exp\_SpearmanRankCorrelation\_Histogram](/en/code/23279) with the added option of trading within the weekly range only, the borders of which are specified in the EA's input settings:

```mql5
input bool   TimeTrade=true;      //Allow trading by intervals
//----
input DAYS_OF_WEEK StartD=ENUM_DAY_OF_WEEK_2;  //Trading start (Day of the week)
input HOURS  StartH=ENUM_HOUR_8;  //Trading start (Hour)
input MINUTS StartM=ENUM_MINUT_0; //Trading start (Minute)
input SECONDS StartS=ENUM_SECOND_0; //Trading start (Second)
//----
input DAYS_OF_WEEK EndD=ENUM_DAY_OF_WEEK_5;  //Trading end (Day of the week)
input HOURS  EndH=ENUM_HOUR_20;   //Trading end (Hour)
input MINUTS EndM=ENUM_MINUT_59;  //Trading end (Minute)
input SECONDS EndS=ENUM_SECOND_40; //Trading end (Second)
```

For the generated EA to operate correctly, the compiled **SpearmanRankCorrelation\_Histogram.ex5** indicator file should be available in the **<terminal\_data\_directory>\MQL5\Indicators** folder.

Note that the TradeAlgorithms.mqh library file allows using Expert Advisors with brokers who offer **nonzero spread** and the option of setting Stop Loss and Take Profit **together with position opening**.

Default Expert Advisor's input parameters have been used during the tests shown below. Stop Loss and Take Profit have not been used during the tests.

![Fig. 1. Sample deals on the chart within the intraweek interval](https://c.mql5.com/18/77/nTesterGraph.png "Fig. 1. Sample deals on the chart within the intraweek interval")

Fig. 1. Sample deals on the chart within the intraweek interval

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/23342](/ru/code/23342)

**[Go to discussion](/en/forum/302540)**

![SupremAutoFibo](https://c.mql5.com/i/code/indicator.png)
[SupremAutoFibo](/en/code/23341)

The indicator builds graphical object Fibonacci Levels with many settings at High and Low prices over the period specified in the indicator input parameters

![Three neural networks](https://c.mql5.com/i/code/expert.png)
[Three neural networks](/en/code/23338)

A trading system with a very simple neural network unit. It uses an iMA (Moving Average, MA) on H1, H4, and D1.

![VHF EA](https://c.mql5.com/i/code/expert.png)
[VHF EA](/en/code/23344)

A trading system based on custom indicator VHF.

![Double smoothed EMA - multi time frame version](https://c.mql5.com/i/code/indicator.png)
[Double smoothed EMA - multi time frame version](/en/code/24514)

Double smoothed EMA - multi time frame version