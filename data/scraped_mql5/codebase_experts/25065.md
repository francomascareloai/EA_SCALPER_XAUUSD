# Gann Grid - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/25065

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/25065) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Gann Grid - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

Views:
:   20511

Rating:
:   (11)

Published:
:   25 March 2019, 19:08

Updated:
:   10 November 2025, 17:53
:   [Gann Grid.mq4](/en/code/download/25065/Gann_Grid.mq4 "Gann Grid.mq4")
    (115.99 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/25065.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

"Gann Grid" EA draws Gann Grid lines on chart and trades with price breakthrough,has Trailing Stop Loss &Take Profit works with all time frames major forex pairs and stocks NASDAQ.Works well also in a 1 hour time frame.

* Try it on demo first.
* This EA trades only with the price of open candle!
* If you do not want to trade with increasing lot size when you lose  a trade set:"IncreaseFactor=0"
* I combined together a simple EA with two moving averages and Gann Grid lines,
* The Gann Grid lines do not work on test mode,
* The optimization tests can be performed only with moving averages,
* In live trading only, Gann Grid lines and moving averages will work together,
* During tests, the EA  only draws the Gann Grid lines on the screen in  visual mode without considering them in the creation of trades,
* The Gann Grid lines will function as a filter .
* In this situation the probability of winning trades increases.

### 

### 

Inputs

* Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
* TP\_In\_Money- Take Profit In Money   (values: 10-100).
* Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
* TP\_In\_Percent- Take Profit In Percent (values: 10-100).
* ------------[Money Trailing Stop For Multiple Trades]----------------------
* Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
* Take Profit In Money (in current currency) (values:25-300).
* Stop Loss In Money(in current currency) (values: 1-20).
* ------------------------------------------------------------------------------------
* Exit= Close trades if the trend is against you and control draw dwon (values:true/false).
* Gann Grid lines color.
* Fibonacci Arcs ancor candle number (last bar is number 0)(values: 0-300).
* Lots - Lots size (values: 0.01-10).
* Lots size Exponent  (values: 1.01-2).
* IncreaseFactor -how much to increase lots from total margin if you lose a trade (values: 0.001-0.1).
* TrailingStop-set a value from 10 to 100 to activate trailing stop loss & take profit, "0" will not activate trailing stop loss.
* Stop\_Loss - Stop Loss (values: 10-100). /set value 600 for  Multiple Trades
* MagicNumber - Magic number (values: 1-100000).
* TakeProfit - Take Profit (values: 10-100). /set value 600 for  Multiple Trades
* FastMA - Fast Moving Average (values: 1-20).
* SlowMA - Slow Moving Average (values: 50-200).
* Mom\_Sell-Momentum\_Sell trtrigger(values: 0.1-0.9).
* Mom\_Buy-Momentum\_Buy trtrigger(values: 0.1-0.9).
* ---------------------CONTROL DRAW DOWN-----------------------------
* UseEquityStop -  (values: true).
* TotalEquityRisk- (values: 0.01-20).
* -------------------------------------------------------------------------------
* Max\_Trades(1-12).
* IF YOU USE ONLY 1 TRADE:
* //////////////////////////////////////////////////
* USETRAILINGSTOP-If use trailing stop (values:true/false).
* WHENTOTRAIL-When to trail (values: 40-100).
* TRAILAMOUNT-Trail amount (values: 40-100).
* Distance From Candle -Distance From Candle (values: 1-100).
* UseEquityStop -  (values: true).
* TotalEquityRisk- (values: 0.01-5).
* USEMOVETOBREAKEVEN-Enable " break even " (values: true/false).
* WHENTOMOVETOBE-When to move break even (values: 1-30).
* PIPSTOMOVESL=30-How much pips to move stop loss  (values: 1-30).

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.

[![Gann Grid](https://c.mql5.com/18/159/aa9ce2x_h9a_6109r.png "Gann Grid")](https://c.mql5.com/18/159/0z6134u_3zf_x109h.png "https://c.mql5.com/18/91/0z6134u_3zf_x109h.png")

**Last comments |
[Go to discussion](/en/forum/308158)**
(10)

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
9 Apr 2019 at 23:50

please [remove](https://www.mql5.com/en/docs/integration/python_metatrader5/mt5copyratesfrom_py "MQL5 Documentation: copy_rates_from function") the grid and objects when i remove the ea from the chart.

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
10 Apr 2019 at 02:49

i [removed](https://www.mql5.com/en/docs/integration/python_metatrader5/mt5copyratesfrom_py "MQL5 Documentation: copy_rates_from function") it from all my charts. It is obvious you have not used this on live account, as i am getting times when i get pages of the same message from each chart, other times i get pages of trades, opening and closing inside of 3 seconds. STOP POSTING FILES THAT YOU DO NOT USE YOURSELF.

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
10 Apr 2019 at 03:25

**Revo Trades:**  
 i removed it from all my charts. It is obvious you have not used this on live account, as i am getting times when i get pages of the same message from each chart, other times i get pages of trades, opening and closing inside of 3 seconds. STOP POSTING FILES THAT YOU DO NOT USE YOURSELF.

The most important thing is to stop being hysterical,and sendig 5 messages every half hour,You are probably trading with a live account,hysteria harms your functioning.

You must test the EA on a [demo account](https://www.mql5.com/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties") and not trade with a live account before checking with a demo account so you will not be hysterical with live trading, you probably have made some changes in the software that is causing the problems you are describing,

Try reseting or rebooting the platform, in addition to reloading the EA,

Also make sure that you do not work with an ECN broker,

The EA works fine.

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
10 Apr 2019 at 10:55

**Aharon Tzadik:**  

The most important thing is to stop being hysterical,and sendig 5 messages every half hour,You are probably trading with a live account,hysteria harms your functioning.

You must test the EA on a [demo account](/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties") and not trade with a live account before checking with a demo account so you will not be hysterical with live trading, you probably have made some changes in the software that is causing the problems you are describing,

Try reseting or rebooting the platform, in addition to reloading the EA,

Also make sure that you do not work with an ECN broker,

The EA works fine.

Check the msg datetime again. my messages were over 11 hours. And i was trading with a demo account. And yes, i noticed that the tp and sl was sent with single line, so i was using a non ecn account. The frequent messages and pages of trades opening and closing, make it clear that you have not traded with this ea yourself. STOP POSTING FILES THAT YOU DO NOT TRADE WITH YOURSELF.

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
10 Apr 2019 at 12:19

**Revo Trades:**  
 The frequent messages and pages of trades opening and closing, make it clear that you have not traded with this ea yourself. STOP POSTING FILES THAT YOU DO NOT TRADE WITH YOURSELF.

What are you talking about,i work with the same EA on demo ,there are no messages,

There are several options:

1.you changed the code like you told me and the file is corrupt,

2.try to use different platform.

3.For some reason you are not telling the truth.

Please do not continue sending false messages without proving that you have not changed the file or I will have to complain about you,

I hope there will be people who will benefit from the files I publish,

Please do not use the files I publish,

And do not make lies.

[![grid](https://c.mql5.com/3/275/qf5eesp_9j1_m583.png "grid")](https://c.mql5.com/3/275/2dxx975_8lr_f585.png "https://c.mql5.com/3/275/2dxx975_8lr_f585.png")

[![g2](https://c.mql5.com/3/275/hbsf0oe_a7w_459o.png "g2")](https://c.mql5.com/3/275/o8nqt7q_fpm_059g.png "https://c.mql5.com/3/275/o8nqt7q_fpm_059g.png")

![DayPivotPoint](https://c.mql5.com/i/code/indicator.png)
[DayPivotPoint](/en/code/25042)

Indicator DayPivotPoint System with Signal and Alert for MetaTrader 4

![Reverse Day Fractal](https://c.mql5.com/i/code/expert.png)
[Reverse Day Fractal](/en/code/25023)

Expert scalper for daily timeframe.

![MQL_Easy](https://c.mql5.com/i/code/library.png)
[MQL\_Easy](/en/code/25104)

A cross platform library/framework

![Killer EURUSD_sell](https://c.mql5.com/i/code/expert.png)
[Killer EURUSD\_sell](/en/code/25105)

Advanced EA optimized on selling positions on EURUSD.