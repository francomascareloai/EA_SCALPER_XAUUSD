# Average True Range, ATR - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/7807

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/7807) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Average True Range, ATR - indicator for MetaTrader 4

[MetaQuotes](/en/users/metaquotes)  |
[English](javascript:void(false);)

[Русский](/ru/code/7807) [中文](/zh/code/7807) [Español](/es/code/7807) [Deutsch](/de/code/7807) [日本語](/ja/code/7807) [Português](/pt/code/7807) [한국어](/ko/code/7807) [Français](/fr/code/7807) [Italiano](/it/code/7807) [Türkçe](/tr/code/7807)

Views:
:   55652

Rating:
:   (19)

Published:
:   29 November 2005, 11:51

Updated:
:   22 November 2016, 07:32
:   [ATR.mq4](/en/code/download/7807/atr.mq4 "ATR.mq4")
    (3.82 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/7807.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Average True Range Indicator (ATR) is an indicator that shows volatility of the market. It was introduced by Welles Wilder in his book "New concepts in technical trading systems". This indicator has been used as a component of numerous other indicators and trading systems ever since.

![](https://c.mql5.com/18/17/indicator_atr.gif)

Average True Range, ATR

Average True Range can often reach a high value at the bottom of the market after a sheer fall in prices occasioned by panic selling. Low values of the indicator are typical for the periods of sideways movement of long duration which happen at the top of the market and during consolidation. Average True Range can be interpreted according to the same principles as other volatility indicators. The principle of forecasting based on this indicator can be worded the following way: the higher the value of the indicator, the higher the probability of a trend change; the lower the indicator’s value, the weaker the trend’s movement is.

**Calculation**

True Range is the greatest of the following three values:

* difference between the current maximum and minimum (high and low);
* difference between the previous closing price and the current maximum;
* difference between the previous closing price and the current minimum.

    The indicator of Average True Range is a moving average of values of the true range.

**Technical Indicator Description**

Full description of ATR is available in the [Technical analysis: Average True Range](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/atr)

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/7807](/ru/code/7807)

**Last comments |
[Go to discussion](/en/forum/24699)**
(3)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
21 Sep 2008 at 13:50

It would be better if the indicator window offered not only a choice of period, but a true/false choice which would enable the DAILY computation to be carried out on OTHER timeframe charts.  The "true" choice would keep the computation true to the actual timeframe of the chart, and the "false" choice would default to running the daily computation on the chart, even if it was not the Daily chart.  Is this possible?

As an alternative, could someone provide an indicator that would simply compute the single current Daily ATR, but do it on ANY timeframe chart, putting the result in a [corner of the chart](https://www.mql5.com/en/docs/constants/objectconstants/enum_object_property#enum_object_property_integer "MQL5 documentation: Object Properties")?

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
20 May 2014 at 07:56

[Forum on trading, automated trading systems and testing trading strategies](/en/forum)

[Indicators: ATR channel](/en/forum/6137#comment_919365)

[newdigital](https://www.mql5.com/en/users/newdigital "https://www.mql5.com/en/users/newdigital"), 2014.05.20 07:54

Trading a Price Action Breakout (adapted from [dailyfx article](https://www.mql5.com/go?link=https://www.dailyfx.com/forex/education/trading_tips/trend_of_the_day/2014/05/19/Trading-a-Price-Action-Breakout.html "http://www.dailyfx.com/forex/education/trading_tips/trend_of_the_day/2014/05/19/Trading-a-Price-Action-Breakout.html"))

* Breakouts can determine market reversals and continuations
* Entry orders should be placed near support & resistance levels
* Stops and Limits can be entered using the ATR indicator

Price action breakout traders have the benefit of trading with the trend
as well as helping traders pinpoint potential market reversals. Below
we can see a prime example of such a breakout in action on the EURJPY.

![Martin Nicholson](https://c.mql5.com/avatar/2019/2/5C6FD64D-F339.jpg "Martin Nicholson")

**[Martin Nicholson](/en/users/3032049)**
|
18 Jul 2015 at 12:46

**MQL4 Comments:**  

It would be better if the indicator window offered not only a choice of period, but a true/false choice which would enable the DAILY computation to be carried out on OTHER timeframe charts.  The "true" choice would keep the computation true to the actual timeframe of the chart, and the "false" choice would default to running the daily computation on the chart, even if it was not the Daily chart.  Is this possible?

As an alternative, could someone provide an indicator that would simply compute the single current Daily ATR, but do it on ANY timeframe chart, putting the result in a [corner of the chart](/en/docs/constants/objectconstants/enum_object_property#enum_object_property_integer "MQL5 documentation: Object Properties")?

>> As an alternative, could someone provide an indicator that would simply
compute the single current Daily ATR, but do it on ANY timeframe chart,
putting the result in a [corner of the chart](/en/docs/constants/objectconstants/enum_object_property#enum_object_property_integer "MQL5 documentation: Object Properties")?

That's exactly what I am looking for too - does anyone have an idea ?

![Alligator](https://c.mql5.com/i/code/indicator.png)
[Alligator](/en/code/7803)

Alligator indicator is a combination of Balance Lines that use fractal geometry and nonlinear dynamics.

![Accumulation Distribution](https://c.mql5.com/i/code/indicator.png)
[Accumulation Distribution](/en/code/7800)

Accumulation/Distribution Indicator is determined by the changes in price and volume.

![Awesome Oscillator (AO)](https://c.mql5.com/i/code/indicator.png)
[Awesome Oscillator (AO)](/en/code/7813)

Awesome Oscillator (AO) is a 34-period simple Moving Average, which is subtracted from the 5-period simple Moving Average.

![Bollinger Bands, BB](https://c.mql5.com/i/code/indicator.png)
[Bollinger Bands, BB](/en/code/7859)

Bollinger Bands ® Indicator (Bollinger Bands, BB) is plotted a certain number of standard deviations