# Smoothing Average - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/22653

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/22653) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Smoothing Average - expert for MetaTrader 5

Rietsuiker  |
[English](javascript:void(false);)

[Русский](/ru/code/22653) [中文](/zh/code/22653) [Español](/es/code/22653) [Deutsch](/de/code/22653) [日本語](/ja/code/22653) [Português](/pt/code/22653)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   5559

Rating:
:   (23)

Published:
:   28 December 2018, 13:12

Updated:
:   17 January 2019, 11:29
:   [Smoothing Average.mq5](/en/code/download/22653/smoothing_average.mq5 "Smoothing Average.mq5")
    (36.53 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/22653.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Idea by:** [Rietsuiker](/en/users/rietsuiker "Rietsuiker")

**Code mq5 by:** [barabashkakvn](/en/users/barabashkakvn)

The EA trades on iMA (Moving Average, MA). It holds no more than one position in the market.

**Opening rules (Revers signals == false):**

* Open BUY: Price ASK > MA on bar #0 - **MA delta**
* Open SELL: Price BID < MA on bar #0 + **MA delta**

If **Revers signals** == true, then the open signals will be reversed.

**Closing rules (Revers signals == false):**

* Close BUY: Price ASK **<** MA on bar #0 - (**MA delta \* MA delta coefficient for close**)
* Close SELL: Price BID > MA on bar #0 + (**MA delta \* MA delta coefficient for close**)

If **Revers signals** == true, then the close signals will be reversed.

**MA delta** is the distance between the indicator and the price.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/22653](/ru/code/22653)

**Last comments |
[Go to discussion](/en/forum/296688)**
(9)

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
25 Jul 2021 at 19:19

**Junio Dias Simoes :**  

stop gain=

* [take profit](https://www.metatrader5.com/en/terminal/help/trading/general_concept "MetaTrader 5 Help: Order types")

I understood you. On Monday, I'll be launching a new code - in a new trading engine and there will be:

* Stop Loss
* [Take Profit](https://www.metatrader5.com/en/terminal/help/trading/general_concept "MetaTrader 5 Help: Order types")

![Junio Dias Simoes](https://c.mql5.com/avatar/2021/4/60665AE2-5ED0.jpg "Junio Dias Simoes")

**[Junio Dias Simoes](/en/users/juniodias999)**
|
25 Jul 2021 at 19:27

**Vladimir Karputov:**  

I understood you. On Monday, I'll be launching a new code - in a new trading mechanism and there will be:

* Stop Loss
* [Take Profit](https://www.metatrader5.com/en/terminal/help/trading/general_concept "MetaTrader 5 Help: Order types")

I'm testing this strategy, if you just put a stop loss on it in currency (usd) or Trailing Stop (min distance from price to Stop Loss). I'm very interested.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
25 Jul 2021 at 19:46

**Junio Dias Simoes :**  

I'm testing this strategy, if you just put a stop loss on it in currency (usd) or Trailing Stop (min distance from price to Stop Loss). I'm very interested.

Stop Loss and [Take Profit](https://www.metatrader5.com/en/terminal/help/trading/general_concept "MetaTrader 5 Help: Order types") are set NOT IN CASH, but in Points (Pips)!

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
26 Jul 2021 at 09:16

New [Smoothing Average Delta](/ru/code/35805) version: there are now SL and TP.

Note: signals now change

**Opening signals**

> BUY: Check price> MA + ' **MA delta** '
>
> SELL: Bid price <MA - ' **MA delta** '

**Closing signals**

> BUY: Ask price <MA - ' **MA delta** ' \* ' **MA delta coefficient** '
>
> SELL: Bid price> MA + ' **MA delta** '

![594225701](https://c.mql5.com/avatar/avatar_na2.png "594225701")

**[594225701](/en/users/594225701)**
|
14 Sep 2023 at 07:22

Can you write one for me? It's similar to yours. It's all averages.

![Hans_Indicator_x62_Cloud_System_Alert](https://c.mql5.com/i/code/indicator.png)
[Hans\_Indicator\_x62\_Cloud\_System\_Alert](/en/code/22656)

An indicator of expanding time zone ranges with the background color filling and the midline of the Hans\_Indicator range, capable of giving alerts and sending mail and Push messages at the time of breaking through the expanding of the range formed, with the number of price levels increased up to thirty-one

![Tunnel gen4](https://c.mql5.com/i/code/expert.png)
[Tunnel gen4](/en/code/22659)

Grid of market positions. Martingale.

![Normalized RSI](https://c.mql5.com/i/code/indicator.png)
[Normalized RSI](/en/code/23941)

Normalized RSI

![Extended normalized RSI](https://c.mql5.com/i/code/indicator.png)
[Extended normalized RSI](/en/code/23943)

Extended normalized RSI