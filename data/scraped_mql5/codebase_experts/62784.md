# Spread lister - current, min, max - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/62784

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/62784) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.metatrader.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Spread lister - current, min, max - expert for MetaTrader 5

[Lars Rompe](/en/users/heinbollo)  |
[English](javascript:void(false);)

[Русский](/ru/code/62784) [中文](/zh/code/62784) [Español](/es/code/62784) [Deutsch](/de/code/62784) [日本語](/ja/code/62784) [Português](/pt/code/62784) [한국어](/ko/code/62784) [Français](/fr/code/62784) [Italiano](/it/code/62784) [Türkçe](/tr/code/62784)

Views:
:   2627

Rating:
:   (3)

Published:
:   18 August 2025, 16:34
:   [Spread lister current-min-max.mq5](/en/code/download/62784/spread_lister_current-min-max.mq5 "Spread lister current-min-max.mq5")
    (31.19 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/62784.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### **Spread lister - current, min, max**

**Motivation to create such an EA:**

All brokers have different rules on spreads - incl. fixed spread accounts, ECN, regular etc.

Some market EAs do have a build-in spread filter, others are developing own EAs with the need to know and potentially filter high spread phases.

Therefore it is important to know the spreads with your broker and account. Otherwise, one EA and settings might work for one trader while another would fail.

**Description:**  
This simple EA can be assigned to any chart that is not used for real trading.

```mql5
In case you have performance issues, you might increase the default from 1 second to e.g. every 15 sec.
```

The min and max values are listed per day.

The table / min max values will be reset at midnight (broker and terminal time).

You may decide to toggle to pips instead of points in the settings.

All instruments that are in your Market watch (shortcut ctrl-u) are shown by default.

You may decide to sort by highest spread in the settings as well.

As formatting with standard comment function is an issue, I created a box and inserted the values.

Every line gets a new OBJ\_LABEL.

Background and chart is not used, so grid and background can be removed.

Please find attached the mq5 code plus (in the zip) the compiled ex5.

**Screenshot of EA result on chart:**

![Spread lister in action](https://c.mql5.com/18/166/Spread_Lister_result_screen__2.jpg "Spread lister in action")

**Screenshot of the settings:**

![Spread Lister - settings](https://c.mql5.com/18/166/Spread_Lister_settings_screen__2.jpg "Spread Lister - settings")

**Last comments |
[Go to discussion](/en/forum/493528)**
(5)

![Lars Rompe](https://c.mql5.com/avatar/2021/4/6068A972-6C6F.jpg "Lars Rompe")

**[Lars Rompe](/en/users/heinbollo)**
|
18 Aug 2025 at 16:42

Just an update how the result evolves over the day:  
 ![](https://c.mql5.com/3/472/4868492902286.png)

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
18 Aug 2025 at 17:12

Just a suggestion ...

Currently your code uses the symbol's current quote prices as reported by [SymbolInfoDouble](/en/docs/marketinformation/symbolinfodouble), and builds up the statistics as it progresses over time. This means that the program needs to be left running during the day for the data to collected. But why collect the data when it is already available in the tick history?

Instead, consider accessing the historical tick data directly and processing it. That will allow the program to present the statistics without waiting, not just for the current day but also previous days.

* [Documentation on MQL5: Timeseries and Indicators Access / CopyTicksRange](/en/docs/series/copyticksrange "Click to change text")
* [Documentation on MQL5: Timeseries and Indicators Access / CopyTicks](/en/docs/series/copyticks "Click to change text")

![Lars Rompe](https://c.mql5.com/avatar/2021/4/6068A972-6C6F.jpg "Lars Rompe")

**[Lars Rompe](/en/users/heinbollo)**
|
20 Aug 2025 at 08:35

**Fernando Carreiro [#](/en/forum/493528#comment_57834400):**  

Just a suggestion ...

Currently your code uses the symbol's current quote prices as reported by [SymbolInfoDouble](/en/docs/marketinformation/symbolinfodouble), and builds up the statistics as it progresses over time. This means that the program needs to be left running during the day for the data to collected. But why collect the data when it is already available in the tick history?

Instead, consider accessing the historical tick data directly and processing it. That will allow the program to present the statistics without waiting, not just for the current day but also previous days.

* [Documentation on MQL5: Timeseries and Indicators Access / CopyTicksRange](/en/docs/series/copyticksrange "Click to change text")
* [Documentation on MQL5: Timeseries and Indicators Access / CopyTicks](/en/docs/series/copyticks "Click to change text")

Sure thing- you might also consider a comparison of Timeseries values versus the SymbolInfoDouble.  
Completely up to your preferences.  
  
It is low effort to adjust the code to NOT delete the min/max values at midnight OR to add an addition min/max logic for predefined time (e.g. 1 week).  
You may also export it to a file for future use - many nice ideas, depending on you appetite of reporting structure.

It is running on a separate chart in my terminal all day w/o major impact on performance.

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
20 Aug 2025 at 13:44

**Lars Rompe [#](/en/forum/493528#comment_57847804):**  

Sure thing- you might also consider a comparison of Timeseries values versus the SymbolInfoDouble.  
Completely up to your preferences.  
  
It is low effort to adjust the code to NOT delete the min/max values at midnight OR to add an addition min/max logic for predefined time (e.g. 1 week).  
You may also export it to a file for future use - many nice ideas, depending on you appetite of reporting structure.

It is running on a separate chart in my terminal all day w/o major impact on performance.

I have no need to change your code. I already have my own code with a lot more complex analysis using tick history.

I only made the suggestion for the improvement of your own code, not mine.

As a side note, the times-series data only records the lowest spread for the bar, not the average.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
25 Sep 2025 at 05:46

Excellent tool thanks very much.

![A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS](https://c.mql5.com/i/code/library.png)
[A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS](/en/code/62735)

A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS

![Multi_Divergence_EA](https://c.mql5.com/i/code/expert.png)
[Multi\_Divergence\_EA](/en/code/62742)

The EA identifies trade setups by waiting for a user-defined number of indicators (e.g., 2 out of 3) to show divergence simultaneously. This multi-layer confirmation approach filters out market noise.
Key Features:
Triple Confirmation Engine: Analyzes RSI, MACD, & Stochastic divergence.
Advanced Filters: Optional Trend Filter (MA) and Volume Filter for superior signal quality.
Full Customization: Control all indicator settings, divergence sensitivity, and trade logic.
Professional Risk Management: Use fixed lots or percentage-based money management with SL/TP.

![Close All Orders](https://c.mql5.com/i/code/expert.png)
[Close All Orders](/en/code/62811)

CloseAllOrders is a powerful and user-friendly Expert Advisor designed to simplify trade management in MetaTrader 5. With an intuitive button interface directly on your chart, you can close all market positions and pending orders instantly with just one click.

![Cincin EA](https://c.mql5.com/i/code/expert.png)
[Cincin EA](/en/code/62812)

The Cincin EA (v2.24) is an automated trading system for MetaTrader 5 that executes conservative random trades on a specified symbol (e.g., EURUSD), with features like basket management, hedging, and position control.