# Pending tread EA. - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/60295

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/60295) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Pending tread EA. - expert for MetaTrader 4

[Mir Mostofa Kamal](/en/users/bokul)

Views:
:   10303

Rating:
:   (3)

Published:
:   10 June 2025, 07:37

Updated:
:   15 July 2025, 05:25
:   [Pending\_tread.mq4](/en/code/download/60295/pending_tread.mq4 "Pending_tread.mq4")
    (14.57 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/60295.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Pending\_tread Expert Advisor (EA) – Detailed Description**

The **Pending\_tread EA** is a versatile and easy-to-use trading robot designed to automate the placement and management of multiple pending orders arranged in a grid pattern above and below the current market price. This EA is well-suited for scalping strategies and can operate on any timeframe or currency pair, making it highly flexible for various trading styles.

### Core Features

* **Grid of Pending Orders:**  
   The EA places a configurable number of pending orders ( totalOrdersPerSide , default 10) both above and below the current price. This creates a “grid” of buy and sell pending orders to capture market moves in either direction.
* **Configurable Distance Between Orders:**  
   You can set the distance between each pending order using PipStep (expressed in points), allowing you to tailor how tight or wide the grid is spaced. For example, setting PipStep to 120 corresponds to 12 pips for 5-digit brokers.
* **Customizable Order Types:**  
   The EA supports different trade directions for orders above and below the market.

  + Above market: places buy stop or sell limit orders (depending on your choice).
  + Below market: places sell stop or buy limit orders.  
     The pending order type logic is designed correctly to ensure orders are placed at appropriate price levels relative to the current market price.
* **Take Profit per Order:**  
   Each pending order is assigned a take profit level calculated as a fixed number of pips ( TakeProfitPips ) from the order price. This allows for automated profit-taking without manual intervention.
* **Lot Size and Slippage Control:**  
   You can customize the lot size ( LotSize ) and the maximum slippage ( Slippage ) allowed when orders are sent to the broker, giving you control over risk and execution parameters.
* **Order Management and Filtering:**  
   The EA tracks existing pending orders for the current symbol and its own magic number ( MagicNumber ) to avoid duplicating or interfering with other trades or EAs running on the same account.
* **Throttle Mechanism:**  
   To prevent excessive trade context calls, the EA limits its order placement attempts to once every 5 seconds.

### How It Works

1. On every tick, the EA checks whether the trading context is free and enough time has elapsed since the last order placement.
2. It counts existing pending orders for both above-market and below-market grids.
3. It calculates the price levels for new pending orders spaced by the configured pip step.
4. It places new pending orders up to the configured total number per side, respecting broker stop level restrictions to avoid placing orders too close to the current market price.
5. Each pending order includes a take profit set relative to the order price.
6. The EA continuously monitors and maintains this grid, re-placing orders as necessary if any are executed or canceled.

### Use Cases

* **Scalping:** Take advantage of small price movements by having multiple pending orders ready to trigger in either direction.
* **Range Trading:** Place buy and sell orders near key support/resistance levels automatically.
* **Breakout Strategies:** Capture breakouts by setting pending stop orders above and below the current price.

### Important Notes

* This EA only manages pending orders; it does not manage open positions (no trailing stop or stop loss currently).
* Use proper risk management and test the EA on a demo account before live trading.
* The EA works best with brokers that support 5-digit or 4-digit pricing; adjust PipStep and TakeProfitPips accordingly.

**Last comments |
[Go to discussion](/en/forum/488590)**
(2)

![Francesco740](https://c.mql5.com/avatar/avatar_na2.png "Francesco740")

**[Francesco740](/en/users/francesco740)**
|
30 Jun 2025 at 15:49

Hi Friend. Great barbecue but...at most you can roast fish. Put a signal that says when to activate the sell pendants and deactivate them. Then activate the buy pendants. Example:  
From 80 to 100 of a [stochastic](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/so "MetaTrader 5 Help: Stochastic Oscillator Indicator") you activate the sell and if it goes below 80 to 70 you deactivate the sell. If it goes down further and goes below 20 you activate the buy pendants and deactivate them if it goes back above 30...Do I have to do it?

![Gattini1477](https://c.mql5.com/avatar/avatar_na2.png "Gattini1477")

**[Gattini1477](/en/users/gattini1477)**
|
2 Aug 2025 at 14:51

Hi, is it possible to insert a [stop loss?](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders")

Auto-translated from Italian by moderator

![Double Moving Averages With Fibonacci](https://c.mql5.com/i/code/indicator.png)
[Double Moving Averages With Fibonacci](/en/code/60016)

This indicator combines two moving averages to generate buy/sell signals based on crossovers.
It also plots Fibonacci retracement levels using recent swing highs and lows for support/resistance.
Visual arrows mark trade signals, and optional alerts notify users in real-time.
Works on all timeframes for flexible technical analysis.

![SniperJaw EA](https://c.mql5.com/i/code/expert.png)
[SniperJaw EA](/en/code/60015)

SniperJaw EA is a one-trade-at-a-time robot that uses the Alligator indicator (Jaw, Teeth, Lips) to follow the trend. You can control the trade size with LotSize, choose to close trades on opposite signal with UseEntryToExit, or use TakeProfit and StopLoss in pips if set. Slippage is managed by Slippage, and trading can be turned on or off using TradeEnabled. Alligator settings like JawPeriod, JawShift, TeethPeriod, TeethShift, LipsPeriod, and LipsShift let you adjust how the indicator works.

![Auto Tp](https://c.mql5.com/i/code/expert.png)
[Auto Tp](/en/code/60955)

Set Auto TP and SL:
Automatically setting Take Profit (TP) and Stop Loss (SL) helps manage risk and lock in profits without manual intervention. This feature ensures each trade has predefined exit levels, reducing emotional decision-making and improving trading discipline. Ideal for both beginners and experienced traders, it provides consistency and protection in volatile markets.

![HLPeak_Trend](https://c.mql5.com/i/code/indicator.png)
[HLPeak\_Trend](/en/code/60969)

High/Low Peak Trend