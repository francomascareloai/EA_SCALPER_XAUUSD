# HedgeCover EA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/63299

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/63299) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# HedgeCover EA - expert for MetaTrader 5

[Lupus Materia](/en/users/princethe)  |
[English](javascript:void(false);)

[Русский](/ru/code/63299) [中文](/zh/code/63299) [Español](/es/code/63299) [Deutsch](/de/code/63299) [日本語](/ja/code/63299) [Português](/pt/code/63299) [한국어](/ko/code/63299) [Français](/fr/code/63299) [Italiano](/it/code/63299) [Türkçe](/tr/code/63299)

Views:
:   6423

Rating:
:   (4)

Published:
:   2 September 2025, 17:04
:   [HedgeCoverV1.04.mq5](/en/code/download/63299/HedgeCoverV1.04.mq5 "HedgeCoverV1.04.mq5")
    (30.09 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/63299.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**HedgeCover EA - Intelligent Position Protection System**

**Overview:**  
HedgeCover is a professional-grade hedging Expert Advisor designed to provide safe, controlled protection for losing positions. Unlike dangerous martingale systems, it implements intelligent risk management with multiple safety layers to prevent over-trading and account blowouts.

**Key Features:**  
• **One-Hedge-Per-Position** - Each position is hedged only once, eliminating infinite looping  
• **Magic Number Separation** - Uses distinct magic numbers for main positions vs hedge positions to prevent hedging hedges

**Risk Management:**

* Prevents the "avalanche effect" that causes account wipeouts
* Implements professional risk controls rather than reckless doubling down
* Includes lot size validation and normalization
* Comprehensive logging and monitoring capabilities

**Recommended Settings:**

* Main Magic: Your strategy's magic number
* Hedge Magic: Different value (e.g., 99999)
* Loss Threshold: 50 pips
* Lot Coefficient: 1.5x
* Max Hedges: 3
* Cooldown: 5 minutes

**License:** MIT License - Free for community use, modification, and distribution

**Warning:** Designed for demo testing and educational purposes. Use at your own risk. Always test thoroughly before considering live use.

**Ideal For:** Traders looking for professional hedging capabilities without the risks of traditional martingale systems.

**Last comments |
[Go to discussion](/en/forum/494499)**
(1)

![linfo2](https://c.mql5.com/avatar/2023/4/6438c14d-e2f0.png "linfo2")

**[linfo2](/en/users/neilhazelwood)**
|
4 Sep 2025 at 17:07

Thank you Lupus , Very interesting idea and implementation , This is the code I use if I want something to run only in the tester, not sure its appropriate for you .

> ```mql5
> if(MQLInfoInteger(MQL_TESTER)){ 
>    if(PositionsTotal() == 0) {
>       m_trade.Sell(0.1, _Symbol, 0, 0, 0, "Test Position");
>       Print("Opened test BUY position for hedging simulation");
>    }
> }
> ```

> Improperly formatted code edited by moderator. Please**always** use the **CODE button (Alt-S)** when inserting code.
>
> [![Code button in editor](https://c.mql5.com/3/171/MQL5_Editor_Code_Button__1.png "Code button in editor")](https://c.mql5.com/3/171/MQL5_Editor_Code_Button.png "https://c.mql5.com/3/171/MQL5_Editor_Code_Button.png")

![Simplest CSV file writer](https://c.mql5.com/i/code/script.png)
[Simplest CSV file writer](/en/code/63261)

Provide simplest class to write CSV file

![Fractal CCI FIlter](https://c.mql5.com/i/code/indicator.png)
[Fractal CCI FIlter](/en/code/62145)

Fractal with CCI Filter - Indicator that combines traditional fractals with the CCI filter to reduce false signals. Shows red arrows above the candles for bullish fractals (sell) when the CCI is above the configured threshold and green arrows below the candles for bearish fractals (buy) when the CCI is below the negative threshold. Perfect for identifying reversal points with greater reliability.

![Risk Calculator](https://c.mql5.com/i/code/expert.png)
[Risk Calculator](/en/code/63316)

Instantly calculate the profit and loss potential of your trades directly on the chart. An essential tool for agile and precise risk management.

![MA of RSI](https://c.mql5.com/i/code/indicator.png)
[MA of RSI](/en/code/63307)

This powerful tool filters the classic RSI through a moving average, providing a smoother, more reliable signal line for pinpointing entries, exits, and trend direction with unparalleled clarity.