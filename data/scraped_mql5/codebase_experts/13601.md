# Personal Assistant - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/13601

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/13601) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Personal Assistant - expert for MetaTrader 4

[Simon Pavlin](/en/users/infiniteloop)  |
[English](javascript:void(false);)

[Русский](/ru/code/13601) [Deutsch](/de/code/13601) [日本語](/ja/code/13601)

Views:
:   17040

Rating:
:   (22)

Published:
:   6 August 2015, 10:37

Updated:
:   7 August 2015, 10:43
:   [personal\_assistant.mq4](/en/code/download/13601/personal_assistant.mq4 "personal_assistant.mq4")
    (12.35 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/13601.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Personal assistant is there to make your trading easy, basically it does what a real assistant does. Provides information and executes your orders.

I wrote this EA for several reasons:

* to display important information on the chart when I use full screen in MetaTrader 4;
* to separate manually opened orders by ID with ease and display their current performance (so if you have many opened orders for different strategies or different EAs, you want simple view and control over them);
* to calculate value of Stop Loss, Take Profit, Margin required, Tick value for me;
* to quickly open or close orders with a press of a button.

Personal assistant functions are:

* Display EA name and ID (to separate more than one Personal assistants and to easily know which one is attached to the chart);
* Display Symbol and timeframe;
* Display leverage for account;
* Display lot volume value currently selected;
* Display tick value for lot volume value (in deposit currency);
* Display margin required for new order based on lot value currently selected;
* Display current spread;
* Display Profit/Loss sum for all orders opened by this EA, calculated in deposit currency;
* Display number of orders currently active for this EA;
* Display Take Profit sum — if opened orders have set TP, then it displays average TP, if TP isn't set, then it displays 0, if TP is set for some orders and not for all, it will calculate average only for positions with TP set;
* Display Stop Loss sum — if opened orders have set SL, then it displays average SL, if SL isn't set, then it displays 0, if SL is set for some orders and not for all, it will calculate average only for positions with SL set;
* Open long position with a press of key number 1 with settings EA is currently set to;
* Open short position with a press of key number 2 with settings EA is currently set to;
* Close positions opened by this EA with a press of key number 3, ALERT: if conditions of market change rapidly it may not close all orders, so always check opened orders, or push 3 once more;
* Increase lot volume value with a press of key number 4 — hold button to quickly increase value;
* Decrease lot volume value with a press of key number 5 — hold button to quickly decrease value.

**ATTENTION:** Use with caution, it's your own responsibility if you by accident open unwanted orders! Make sure that you have the right chart selected when inputting commands.

**Image of Personal Assistant on the chart:**

![Personal Assistant Chart Display](https://c.mql5.com/18/40/show.png "Personal Assistant Chart Display")

**User input variables:**

* ID — Magic Number for your EA and for your orders opened by EA;
* Display\_legend — Shows legend on the chart for buttons/commands (open long, open short, close orders, increase volume, decrease volume);
* LotSize — initial volume value;
* slippage — slippage for opening and closing orders;
* text\_size — size of the text displayed on the chart;
* text\_color — color of text displayed on the chart;
* right\_edge\_shift — position of text on the chart from the right edge of window in pixels;
* upper\_edge\_shift — position of text on the chart from the upper edge of window in pixels and position of row from the previous row;

Alert me of potential problems, test it on DEMO first!

**UPDATE:**

* Now displays how many opened positions have SL and TP set.
* Fixed SL and TP value calculation.

**Last comments |
[Go to discussion](/en/forum/62410)**
(2)

![Borislav Shterev](https://c.mql5.com/avatar/2012/10/5086FBC0-C363.jpg "Borislav Shterev")

**[Borislav Shterev](/en/users/shtereff)**
|
25 Aug 2015 at 18:29

very interesting idea , bravo

![mjk2022](https://c.mql5.com/avatar/avatar_na2.png "mjk2022")

**[mjk2022](/en/users/mjk2022)**
|
8 May 2025 at 23:20

This EA is really fantastic! I 've been looking for such expert to be able to fast scalp on [GOLD](https://www.mql5.com/en/quotes/metals/XAUUSD "XAUUSD chart: technical analysis") and this just is the perfect tool for it! Takes Your meta trader fast scalp abilities to another level! actually this option should be available in the default version of the MT! There is only one thing that could be added to the expert! if we could set a default SL and TP and Trailing Stop it would have become really priceless!

![Auto MM](https://c.mql5.com/i/code/script.png)
[Auto MM](/en/code/13593)

This script will help you calculate your lot to open position.

![ExpMartin](https://c.mql5.com/i/code/expert.png)
[ExpMartin](/en/code/13532)

This Expert Advisor trades on the principle of the Martingale: if the order is closed by Stop Loss, the next order will be the opposite type with a lot size increased by a certain rate.

![BSI Trend and Channel](https://c.mql5.com/i/code/indicator.png)
[BSI Trend and Channel](/en/code/13615)

This indicator shows trend line or channels (using the BSI Indicator).

![Personal Assistant - The Next Generation](https://c.mql5.com/i/code/expert.png)
[Personal Assistant - The Next Generation](/en/code/13623)

Personal Assistant The Next Generation is there to make your trading easy, basically it does what a real assistant does — provides information and executes your orders.