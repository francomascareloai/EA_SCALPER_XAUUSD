# Classic Moving Averages with colors - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/32558

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/32558) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Classic Moving Averages with colors - indicator for MetaTrader 5

[Mike Pascal Plavonil](/en/users/mike94)

Views:
:   21265

Rating:
:   (31)

Published:
:   19 December 2020, 17:24
:   [ma\_colored.mq5](/en/code/download/32558/ma_colored.mq5 "ma_colored.mq5")
    (11.53 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/32558.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The five classic moving averages are present:

* **Simple** moving average
* **Exponential** moving average
* **Smoothed** moving average
* **Linear weighted** moving average
* **Smoothed** moving average

The indicator displays a colored moving average.

It has three parameters:

* Period calculation period
* Method calculation method
* Price applied prise used for calculation

This version is faster and code is more flexible and reusable

![Moving Averages colored](https://c.mql5.com/18/94/ma_colors__1.JPG "Moving Averages colored")

**Technical Indicator Description**

Full description of MA is available in the [Technical analysis: Moving Averages](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma")

**Last comments |
[Go to discussion](/en/forum/358388)**
(8)

![bongani1999](https://c.mql5.com/avatar/avatar_na2.png "bongani1999")

**[bongani1999](/en/users/bongani1999)**
|
24 Mar 2022 at 05:30

Hi how do I get code for this MA

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
24 Mar 2022 at 05:50

**bongani1999 [#](/en/forum/358388#comment_28517192) :**  
 Hi how do I get code for this MA

The link is in the first post:

![](https://c.mql5.com/3/383/5950136908345.png)

![Patricio](https://c.mql5.com/avatar/2022/9/631E1324-97C5.png "Patricio")

**[Patricio](/en/users/tradiandobull)**
|
24 Jan 2023 at 19:08

Hello, excellent indicator. I'm trying to add the [Symbol parameter](/en/docs/check/symbol "MQL5 documentation: Symbol function") so I can use it from an EA that iterates over the symbols. Is this possible?, I tried to make the following modification but I was not successful:

```mql5
double getPrice(ENUM_APPLIED_PRICE  tprice,const double &open[],const double &close[],const double &high[],const double &low[],int i,int _bars,int instanceNo=0)
  {
   switch(tprice)
   {
         case PRICE_CLOSE:     return(iClose(Simbolo,PERIOD_CURRENT,i));
         case PRICE_OPEN:      return(iOpen(Simbolo,PERIOD_CURRENT,i));
         case PRICE_HIGH:      return(iHigh(Simbolo,PERIOD_CURRENT,i));
         case PRICE_LOW:       return(iLow(Simbolo,PERIOD_CURRENT,i));
         case PRICE_MEDIAN:    return((iHigh(Simbolo,PERIOD_CURRENT,i)+iLow(Simbolo,PERIOD_CURRENT,i))/2.0);
         case PRICE_TYPICAL:   return((iHigh(Simbolo,PERIOD_CURRENT,i)+iLow(Simbolo,PERIOD_CURRENT,i)+iClose(Simbolo,PERIOD_CURRENT,i))/3.0);
         case PRICE_WEIGHTED:  return((iHigh(Simbolo,PERIOD_CURRENT,i)+iLow(Simbolo,PERIOD_CURRENT,i)+iClose(Simbolo,PERIOD_CURRENT,i)+iClose(Simbolo,PERIOD_CURRENT,i))/4.0);
   }
   return(0);
  }
```

![smythewhyte](https://c.mql5.com/avatar/avatar_na2.png "smythewhyte")

**[smythewhyte](/en/users/smythewhyte)**
|
9 Apr 2024 at 20:57

I like this indicator, but how do you change the down color?  I seem to only be able to change the up color.  I'm sure I'm missing something.  Thanks in advance

![smythewhyte](https://c.mql5.com/avatar/avatar_na2.png "smythewhyte")

**[smythewhyte](/en/users/smythewhyte)**
|
9 Apr 2024 at 21:01

**smythewhyte [#](/en/forum/358388#comment_52998133):**  
 I like this indicator, but how do you change the down color?  I seem to only be able to change the up color.  I'm sure I'm missing something.  Thanks in advance

Nevermind.  I just changed the source code.

![Basic Martingale EA v3](https://c.mql5.com/i/code/expert.png)
[Basic Martingale EA v3](/en/code/32521)

A Sample of Averaging Up/Down Martingale EA.

![visitor - behavioral design pattern](https://c.mql5.com/i/code/library.png)
[visitor - behavioral design pattern](/en/code/32433)

represent an operation to be performed on the elements of an object structure. visitor lets you define a new operation without changing the classes of the elements on which it operates

![quick sort - sorting algorithm](https://c.mql5.com/i/code/library.png)
[quick sort - sorting algorithm](/en/code/32608)

a highly efficient sorting algorithm, based on partitioning of array of data into smaller arrays

![Free mt5 Copier](https://c.mql5.com/i/code/expert.png)
[Free mt5 Copier](/en/code/32614)

Copy trading has become such a critical feature of forex trading. Some people see this as a potential business opportunity, while for opensource die-hards like me, we believe in giving back to the community rather than putting a price tag on everything 'nice'. So here it comes. A free opensource trade copier, which you are freely allowed to modify and distribute according to MIT license terms. It still has limited features, but the essentials like lot normalization are there. Please note that this copier only works for trading terminals installed on the same machine. Please share back any upgrades, enhancements or bug fixes to the discussion. Enjoy!