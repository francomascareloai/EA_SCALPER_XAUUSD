# Step stochastic 2 - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/17164

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/17164) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Step stochastic 2 - indicator for MetaTrader 5

[Mladen Rakic](/en/users/mladen)  |
[English](javascript:void(false);)

[–†—É—Å—Å–∫–∏–π](/ru/code/17164) [‰∏≠Êñá](/zh/code/17164) [Espa√±ol](/es/code/17164) [Deutsch](/de/code/17164) [Êó•Êú¨Ë™û](/ja/code/17164) [Portugu√™s](/pt/code/17164)

Views:
:   9203

Rating:
:   (30)

Published:
:   12 December 2016, 08:12
:   [Step\_stochastic\_2.1.mq5](/en/code/download/17164/step_stochastic_2.1.mq5 "Step_stochastic_2.1.mq5")
    (47.75 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/17164.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

New version of non-repainting step stochastic indicator.

It has been upgraded in multiple ways :

* code is completely rewritten and optimized
* step stochastic calculation is a function now (easily usable from any other code)
* indicator has alerts now
* indicator is multi time frame now
* indicator has an option to filter (smooth) prices using one of the 4 basic average type
* indicator has an option to use smoothed or regular atr for calculation
* indicator can use the set of 22 price types
* ...

By default the indicator is using a very mild price filtering, since it does not add lag to it this way and the false signals are significantly reduced.

![](https://c.mql5.com/18/56/step_stochastic_cb.png)

**Last comments |
[Go to discussion](/en/forum/162962)**
(5)

![mamak.115](https://c.mql5.com/avatar/avatar_na2.png "mamak.115")

**[mamak.115](/en/users/mamak.115)**
|
6 Apr 2018 at 08:39

can you kindly make an MT4 please...

i beg you ...

![Pipanovic](https://c.mql5.com/avatar/avatar_na2.png "Pipanovic")

**[Pipanovic](/en/users/appsoluxions)**
|
6 Apr 2018 at 09:46

Hi Mladen,

It seems to be great. Nice work!

I second the request for MT4 version - please.

Kind regards,

Amu

![Pipanovic](https://c.mql5.com/avatar/avatar_na2.png "Pipanovic")

**[Pipanovic](/en/users/appsoluxions)**
|
6 Apr 2018 at 10:20

Hi,

Few minutes after my first comment I did some digging and I found attached indicator from the other forum. I am not sure if this will yield the same results as I don't have both MT4 and [MT5 installed](https://www.metatrader5.com/en/download "Download MetaTrader 5 Trading Terminal")(only use MT4) to be able to conduct a test.

Maybe Mladen can confirm.

Thanks mates.

![Ronei Toporcov](https://c.mql5.com/avatar/avatar_na2.png "Ronei Toporcov")

**[Ronei Toporcov](/en/users/roneit)**
|
31 Mar 2021 at 21:09

This error sometimes happens :

2021.03.31 15:39:05.668 Step\_stochastic\_2.1 (WINJ21,M1) [array out of range](https://www.mql5.com/en/articles/2555 "Article: The checks a trading robot must pass before publication in the Market ") in 'Step\_stochastic\_2.1.mq5' (166,118)

in currTime buffer

tks

![Mladen Rakic](https://c.mql5.com/avatar/2016/12/584AE3E8-D1F4.jpg "Mladen Rakic")

**[Mladen Rakic](/en/users/mladen)**
|
31 Mar 2021 at 22:17

**PequenoMinor:**  

This error sometimes happens :

2021.03.31 15:39:05.668 Step\_stochastic\_2.1 (WINJ21,M1) [array out of range](/en/articles/2555 "Article: The checks a trading robot must pass before publication in the Market ") in 'Step\_stochastic\_2.1.mq5' (166,118)

in currTime buffer

tks

Yep.

* that is a very old code
* that is happening only in multi time frame mode
* that is an issue known for long time (that multi time frame data access issue and mt5)
* that is an issue that is a victim of many mt5 changes that have left previous versions of mt5 code incompatible with newer mt5 (to the extent that you can get an invalid ex5 "error" for an ex5 file compiled on your own computer - not nagging, but ...)
* the solutions are multiple :

+ turn the interpolation off
+ get access to more, up-to-date code

* but :

+ due to a complete lack of seeing any other coder posting any usable (single file) multi time frame code
+ I am not posting those up-to-date multi time frame handling single file solutions.
+ decided to wait ... popcorn time üòä

Ie: use it in non-mtf mode (and will have no issues), turn the interpolation off,¬† or take a risk and have occasionally issues like that when in mtf mode

![ExpPricePosition](https://c.mql5.com/i/code/expert.png)
[ExpPricePosition](/en/code/17044)

ExpPricePosition is a MetaTrader 5 Expert Advisor based on the PricePosition and StepUpDown indicators.

![Correlation candles](https://c.mql5.com/i/code/indicator.png)
[Correlation candles](/en/code/17130)

Correlations (Spearman or Pearson rank (auto)correlation) drawn as candles.

![Adaptive Laguerre filter trend](https://c.mql5.com/i/code/indicator.png)
[Adaptive Laguerre filter trend](/en/code/17159)

Adaptive Laguerre filter trend.

![Smoothed repulse](https://c.mql5.com/i/code/indicator.png)
[Smoothed repulse](/en/code/17158)

This version can use one of the 4 basic averages types for smoothing.