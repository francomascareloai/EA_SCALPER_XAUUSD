# Hedg System - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/23993

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/23993) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Hedg System - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

Views:
:   18055

Rating:
:   (15)

Published:
:   3 January 2019, 20:46

Updated:
:   21 June 2025, 22:49
:   [HEDG SYSTEM.mq4](/en/code/download/23993/hedg_system.mq4 "HEDG SYSTEM.mq4")
    (52.09 KB)
    [view](# "view")

    [Random\_Hedg.mq4](/en/code/download/23993/random_hedg.mq4 "Random_Hedg.mq4")
    (67.16 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/23993.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

"Hedg System" EA trades with hedging strategy two trades at any given time: Buy and Sell ,works best on 1D time frames major forex pairs .

This EA has 2 versions:

* Version 2 "Random Hedg " has trailing stop loss and break even functions.
* Try it on demo first.
* This EA trades only with the price of open candle!

Inputs

+ Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
+ TP\_In\_Money- Take Profit In Money   (values: 10-100).
+ Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
+ TP\_In\_Percent- Take Profit In Percent (values: 10-100).
+ ------------[Money Trailing Stop For Multiple Trades]----------------------
+ Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
+ Take Profit In Money (in current currency) (values: 25-200).
+ Stop Loss In Money(in current currency) (values: 1-20).
+ --------------------------------------------------------------------------------------
+ Lots - Lots size (values: 0.01-10).
+ MaximumRisk - maximum risk from total margin in %, (values: 0.01 - 0.3).
+ If "MaximumRisk =0" then "Lot=constant"
+ DecreaseFactor - decrease from total margin if you lose a trade.
+ Stop\_Loss - Stop Loss (values: 10-100).
+ MagicNumber - Magic number (values: 1-100000).
+ TakeProfit - Take Profit (values: 10-100).

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.  
-How to perform back test:[https://bit.ly/2CD7XWD](/go?link=https://bit.ly/2CD7XWD "https://bit.ly/2CD7XWD")

[![Hedg](https://c.mql5.com/18/164/drcjjer_lmu_a430n.png "Hedg")](https://c.mql5.com/18/164/crvcbry_k58_9430f.png "https://c.mql5.com/18/79/crvcbry_k58_9430f.png")

**Last comments |
[Go to discussion](/en/forum/297705)**
(4)

![DAtradr](https://c.mql5.com/avatar/avatar_na2.png "DAtradr")

**[DAtradr](/en/users/datradr)**
|
6 Jan 2019 at 02:51

**Automated-Trading:**  

[Hedg System](/en/code/23993):

Author: [Aharon Tzadik](https://www.mql5.com/en/users/aharontzadik1 "aharontzadik1")

Im liking this EA, but no Trailing stop on the version ive downloaded, or is there not meant to be? Type error on your inputs description maybe?  

Does this EA remove trades from both directions once one direction hits tp? Or does it keep both trades open until each hits tp...or at worst the sl.. in tester no cancel, is this correct?

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
6 Jan 2019 at 11:47

**DAtradr:**

Hello

There is no trailing stop,

The trades close once they hit tp or sl.

![ANGELO911019](https://c.mql5.com/avatar/avatar_na2.png "ANGELO911019")

**[ANGELO911019](/en/users/angelo911019)**
|
23 Sep 2019 at 19:20

hi ,  
can the TP ans SL be below 10pips ? and can operate on 1 min chart .?

![Aharon Tzadik](https://c.mql5.com/avatar/2018/7/5B4AA594-75A6.jpg "Aharon Tzadik")

**[Aharon Tzadik](/en/users/aharontzadik1)**
|
28 Sep 2019 at 10:47

**ANGELO911019:**  

hi ,  
can the TP ans SL be below 10pips ? and can operate on 1 min chart .?

Hello

It depends on your broker, usually the broker does not allow stops that are less then 10 pips,

You can try it on 1Min time frame on [demo account](https://www.mql5.com/en/docs/constants/environment_state/accountinformation#enum_account_trade_mode "MQL5 documentation: Account Properties").

![Easy Object](https://c.mql5.com/i/code/library.png)
[Easy Object](/en/code/23261)

A simple way to manage graphical objects.

![Heikin Ashi Trader](https://c.mql5.com/i/code/expert.png)
[Heikin Ashi Trader](/en/code/23959)

"Heikin Ashi Trader" EA trades with a strategy based on Heikin Ashi indicator (not visible) and has Trailing Stop Loss &Take Profit works best on 1D time frames major forex pairs and stocks NASDAQ.

![Macd Power](https://c.mql5.com/i/code/expert.png)
[Macd Power](/en/code/24024)

"Macd Power" trades with 2 " Macd " indicators has virtual Stop Loss & Take Profit works on 4H & 1D time frames major forex pairs and stocks NASDAQ.

![Candle Trailing Stop](https://c.mql5.com/i/code/expert.png)
[Candle Trailing Stop](/en/code/24042)

"Candle Trailing Stop" EA trades with 3 MA's and uses candels for Trailing Stop Loss &Take Profit works best on 4H time frames major forex pairs and stocks NASDAQ.