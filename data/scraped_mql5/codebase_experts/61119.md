# Auto Tp - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/61119

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/61119) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Auto Tp - expert for MetaTrader 5

[Mir Mostofa Kamal](/en/users/bokul)  |
[English](javascript:void(false);)

[Русский](/ru/code/61119) [中文](/zh/code/61119) [Español](/es/code/61119) [Deutsch](/de/code/61119) [日本語](/ja/code/61119) [Português](/pt/code/61119) [한국어](/ko/code/61119) [Français](/fr/code/61119) [Italiano](/it/code/61119) [Türkçe](/tr/code/61119)

Views:
:   7790

Rating:
:   (6)

Published:
:   4 July 2025, 07:07
:   [Auto\_Tp.mq5](/en/code/download/61119/auto_tp.mq5 "Auto_Tp.mq5")
    (5.08 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/61119.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Set Auto TP and SL:**

The “Set Auto TP and SL” (Take Profit and Stop Loss) feature is a crucial tool in any trading strategy, designed to automate risk and reward management. It allows traders to define fixed price levels where a trade should be automatically closed to either secure profits (TP) or limit losses (SL), removing the need for constant manual monitoring.

When this feature is enabled, each position you open will automatically include a predefined Take Profit and Stop Loss level based on your custom parameters, such as a specific number of pips, percentage of balance, or technical levels. This not only saves time but also ensures that your trades are protected from sudden market movements and emotional decision-making.

### Key Benefits:

* **Risk Management**: Automatically limits potential losses by closing trades at your specified SL level, preventing devastating drawdowns.
* **Profit Locking**: Secures gains by closing positions once your target TP is reached, ensuring you don't miss out on profits during fast market changes.
* **Emotional Discipline**: Reduces the influence of fear and greed by sticking to a planned strategy, especially important in volatile markets.
* **Time Efficiency**: Saves time by removing the need to manually set SL and TP levels for every trade, especially useful for scalpers or high-frequency traders.
* **Consistency**: Applies the same logic to every trade, leading to a more systematic and disciplined approach to trading.

Whether you are a beginner trying to protect your account or a professional trader aiming for precision and automation, the “Set Auto TP and SL” function is an essential component of successful trading. It helps you trade smarter, not harder, by allowing your strategy to run with minimal manual input and maximum control over your risk-reward ratio.

***You can use it in XAUUSD too. Just you need to setup your settings.If you need MQL4 virsion, you will find this on here ([Auto Tp](/en/code/60955)****).***

**Last comments |
[Go to discussion](/en/forum/490329)**
(4)

![Aiman Saeed Salem Dahbag](https://c.mql5.com/avatar/2025/7/686f7696-f375.jpg "Aiman Saeed Salem Dahbag")

**[Aiman Saeed Salem Dahbag](/en/users/aimansaeed)**
|
10 Jul 2025 at 08:13

Masha'Allah, Tabarak Allah, excellent work my brother. But why doesn't the magic number appear so that trades can be distinguished between currency pairs? I wish you continued success.

![Mir Mostofa Kamal](https://c.mql5.com/avatar/2025/2/67a1905a-469c.jpg "Mir Mostofa Kamal")

**[Mir Mostofa Kamal](/en/users/bokul)**
|
10 Jul 2025 at 10:59

**AimanSaeed [#](/en/forum/490329#comment_57465656):**  
 Masha'Allah, Tabarak Allah, excellent work my brother. But why doesn't the magic number appear so that trades can be distinguished between currency pairs? I wish you continued success.

Actually, this EA does not open any trades. So there is no need for a magic number. That is why I did not enable it to be edited. It will set automatic take profit on any currency pair. If you need, you can enable stop loss and set it.

![6649107](https://c.mql5.com/avatar/avatar_na2.png "6649107")

**[6649107](/en/users/6649107)**
|
5 Aug 2025 at 07:10

Thanks a lot brother for posting this. I was really looking for it. A stupid question if I may: I want to use it on XAUUSD what is the setting should be assuming I want the TP be 0.5 point? for instance if the execution price is 3368.2 and I want the TP be 3368.7

is this correct in the picture? [![](https://c.mql5.com/3/471/4238796105391__1.png)](https://c.mql5.com/3/471/4238796105391.png "https://c.mql5.com/3/471/4238796105391.png")

for some reason after adding it to the chart it was not active, the price reached the wished TP but not executed so I thought I might have misunderstood the settings

![Mikael Björn](https://c.mql5.com/avatar/2021/1/5FF06EF3-6F73.png "Mikael Björn")

**[Mikael Björn](/en/users/mikaelbjorn)**
|
10 Oct 2025 at 06:26

Only works on the first position you open. If you open multiple positions, it only sets TP on the first one. I only use TP

![Monthly VWAP](https://c.mql5.com/i/code/indicator.png)
[Monthly VWAP](/en/code/61098)

Monthly VWAP (Volume Weighted Average Price) is an essential MQL5 indicator that calculates and displays the Volume Weighted Average Price for each trading month. It's a powerful tool for understanding long-term market sentiment, identifying key monthly fair value, and informing strategic decisions.

![Weekly VWAP](https://c.mql5.com/i/code/indicator.png)
[Weekly VWAP](/en/code/61091)

Weekly VWAP (Volume Weighted Average Price) is a powerful MQL5 indicator that calculates and displays the Volume Weighted Average Price for each trading week. It's a crucial tool for identifying weekly fair value and understanding the underlying sentiment over a longer timeframe.

![AutoTrendLines Indicator for MQL5](https://c.mql5.com/i/code/indicator.png)
[AutoTrendLines Indicator for MQL5](/en/code/61217)

Automatically draws support/resistance trendlines using 2 pivot detection algorithms. Features real-time breakout detection, auto-adjustment after breaks, historical line display, and comprehensive alerts.
Note: This code is developed based on the original work by Rone (Copyright 2012), optimized in 2025.

![GARCH Indicator - Industrial Level Volatility Estimator](https://c.mql5.com/i/code/indicator.png)
[GARCH Indicator - Industrial Level Volatility Estimator](/en/code/61205)

Volatility indicator with a threshold line based on the Generalized AutoRegressive Conditional Heteroskedasticiticy (GARCH) statistical model used for time series analysis and forecasting.