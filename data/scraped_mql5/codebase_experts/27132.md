# LotLoss - script for MetaTrader 5

Source: https://www.mql5.com/en/code/27132

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/27132) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# LotLoss - script for MetaTrader 5

[Boris](/en/users/mokara)

Views:
:   12830

Rating:
:   (17)

Published:
:   14 November 2019, 13:47
:   [LotLoss.mq5](/en/code/download/27132/lotloss.mq5 "LotLoss.mq5")
    (0.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/27132.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Simple risk management tool, that calculates required lot size according to amount of money trader affords to lose and stop-loss in points.

**INPUTS**

* Risk-Money: money to sacrifice.
* Stop-Loss Points: stop-loss in points.

**EXAMPLE**

* AUDJPY Sell Order
* Risk-Money: 1000 USD
* Open Price: 73.706
* Stop-Loss: 76.130
* Stop-Loss Points: 76.130 - 73.706 = 2.424 (2424 points)
* **Lots: 0.45**
* You lose 1000 USD, if you hit stop-loss with 0.45 lots position.

**Last comments |
[Go to discussion](/en/forum/326444)**
(1)

![pjd mmm](https://c.mql5.com/avatar/2020/10/5F8A3CB8-6FBC.png "pjd mmm")

**[pjd mmm](/en/users/pjdmmm)**
|
17 Oct 2020 at 02:10

hello Mokara thanks for this script... i'm trying to add some variables in your script to consider the risk as percentage. but the result is not showing up in metatrader after running my edited script.   
  
any opinion from this community is much appreciated.

```mql5
#property copyright           "Mokara"
#property link                "https://www.mql5.com/en/users/mokara"
#property description         "LotLoss"
#property version             "1.0"
#property script_show_inputs

input int vLoss = 2;   //Risk Money %
input int pLoss = 500;  //Stop-Loss Points
input int Balance = 500; //Acct Bal       <----- i'm trying to add this line

void OnStart()
{   
   double pValue = SymbolInfoDouble(NULL, SYMBOL_TRADE_TICK_VALUE_PROFIT);
   double Lots = ((vLoss/100)*Balance) / (pLoss * pValue);  // <---- then i edit this line the original was vLoss / (pLoss * pValue)
   
   if(Lots < 0.01)
   {
      Print("Error: under micro lots.");
      return;
   }
   
   string Message = "Point Value: " + DoubleToString(pValue, 2) + "\n" +
                    "Point: " + DoubleToString(_Point, _Digits) + "\n" +
                    "Lots: " + DoubleToString(Lots, 2);
   
   MessageBox(Message, "LotLoss v1.0", MB_ICONINFORMATION|MB_OK);
}
```

![Coin Toss Trading](https://c.mql5.com/i/code/script.png)
[Coin Toss Trading](/en/code/27119)

This script opens a buy or sell order randomly having equally spaced take-profit and stop-loss levels.

![Quick Script to browse Signals, searching for your own parameters.](https://c.mql5.com/i/code/script.png)
[Quick Script to browse Signals, searching for your own parameters.](/en/code/27082)

Simplified Script to find signals based on user parameters

![Scalp All](https://c.mql5.com/i/code/script.png)
[Scalp All](/en/code/27162)

Opens random positions on marketwatch symbols.

![MultiMartin](https://c.mql5.com/i/code/expert.png)
[MultiMartin](/en/code/27286)

This is a multi-currency expert adviser based on reversal strategy with martingale. Original idea is taken from ExpMartin for MT4.