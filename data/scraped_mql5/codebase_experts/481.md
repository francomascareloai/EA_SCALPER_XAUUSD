# Heiken Ashi Smoothed - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/481

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/481) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Heiken Ashi Smoothed - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/481) [中文](/zh/code/481) [Español](/es/code/481) [Deutsch](/de/code/481) [日本語](/ja/code/481) [Português](/pt/code/481) [한국어](/ko/code/481) [Français](/fr/code/481) [Italiano](/it/code/481) [Türkçe](/tr/code/481)

Views:
:   47151

Rating:
:   (50)

Published:
:   12 October 2011, 10:40

Updated:
:   29 March 2023, 13:43
:   [heiken\_ashi\_smoothed.mq5](/en/code/download/481/heiken_ashi_smoothed.mq5 "heiken_ashi_smoothed.mq5")
    (7.23 KB)
    [view](# "view")

    [heiken\_ashi\_smoothed\_.mq5](/en/code/download/481/heiken_ashi_smoothed_.mq5 "heiken_ashi_smoothed_.mq5")
    (7.24 KB)
    [view](# "view")

    \MQL5\Include\

    [smoothalgorithms.mqh](/en/code/download/481/smoothalgorithms.mqh "smoothalgorithms.mqh")
    (133.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/481.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Heiken Ashi Smoothed indicator is a modified standard [Heiken Ashi](/en/code/33) indicator.

The difference is that it uses smoothed price time series values instead of current ones. Such method allows to filter many false signals that could possibly have appeared, in case the indicator had been calculated in a standard way.

The indicator allows to select the type of smoothing from the dozen of possible variants:

1. [SMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - simple moving average;
2. [EMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - exponential moving average;
3. [SMMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - smoothed moving average;
4. [LWMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma") - linear weighted moving average;
5. [JJMA](/en/code/427) - JMA adaptive average;
6. [JurX](/en/code/436) - ultralinear smoothing;
7. [ParMA](/en/code/433) - parabolic smoothing;
8. [T3](/en/code/424) - Tillson's multiple exponential smoothing;
9. [VIDYA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/vida "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/vida") - smoothing with the use of Tushar Chande's algorithm;
10. [AMA](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama "https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ama") - smoothing with the use of Perry Kaufman's algorithm.

It should be noted that Phase1 and Phase2 parameters have completely different meaning for different smoothing algorithms. For JMA it is an external Phase variable changing from -100 to +100. For T3 it is a smoothing ratio multiplied by 100 for better visualization, for VIDYA it is a CMO oscillator period and for AMA it is a slow EMA period. For AMA fast EMA period is a fixed value and is equal to 2 by default. The ratio of raising to the power is also equal to 2 for AMA.

The indicators use SmoothAlgorithms.mqh library classes (must be copied to the **terminal\_data\_folder**\MQL5\Include). The use of the classes was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](/en/articles/180).

The indicator is built in two variants - for a chart's main window:

![Heiken_Ashi_Smoothed](https://c.mql5.com/18/4/Heiken_Ashi_Smoothed__1.png "Heiken_Ashi_Smoothed")

And for a chart's additional window:

![Heiken_Ashi_Smoothed_](https://c.mql5.com/18/4/Heiken_Ashi_Smoothed___1.png "Heiken_Ashi_Smoothed_")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/481](/ru/code/481)

**Last comments |
[Go to discussion](/en/forum/4897)**
(23)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
3 Oct 2021 at 05:51

Hey Im having trouble installing this indicator can someone plz reach out me via inbox to guide me step by step to install this indicator right way so it can show upon my chart. Thanks in advance,

![ochoajf](https://c.mql5.com/avatar/avatar_na2.png "ochoajf")

**[ochoajf](/en/users/ochoajf)**
|
20 Oct 2021 at 03:33

HELLO FIRST OF ALL THANK YOU FOR THIS EXCELLENT CONTRIBUTION, I HAVE A QUESTION HOW CAN I CHANGE THE 0.2 TO 0.5 BATCHES FOR EACH ENTRY

![Miguel Angel Vico Alba](https://c.mql5.com/avatar/2025/10/68e99f33-714e.jpg "Miguel Angel Vico Alba")

**[Miguel Angel Vico Alba](/en/users/mike_explosion)**
|
20 Oct 2021 at 05:38

**ochoajf [#](/es/forum/18315#comment_25329060):**

Do you know the difference between an indicator and an expert advisor?

Don't write in capital letters... Thank God we are not blind.

![Андрей Белый](https://c.mql5.com/avatar/2021/2/601C8291-D687.jpg "Андрей Белый")

**[Андрей Белый](/en/users/andrey_belyi)**
|
29 Aug 2023 at 23:36

Nicholas Greetings. when trying to compile heiken\_ashi\_smoothed.mq5 and or heiken\_ashi\_smoothed\_.mq5 some errors came out. from long lying something flew off there?

![Smerf16](https://c.mql5.com/avatar/avatar_na2.png "Smerf16")

**[Smerf16](/en/users/smerf16)**
|
2 Sep 2023 at 23:15

Great job. Amazing indicator :D

![Camarilla_Full](https://c.mql5.com/i/code/indicator.png)
[Camarilla\_Full](/en/code/470)

The system of Camarilla Equation levels for all bars.

![Camarilla Equation](https://c.mql5.com/i/code/indicator.png)
[Camarilla Equation](/en/code/469)

The system of Camarilla Equation levels for the current bar.

![JFatlSpeed](https://c.mql5.com/i/code/indicator.png)
[JFatlSpeed](/en/code/503)

The indicator shows trend change rate with a minimum lag.

![JFatlAcceleration](https://c.mql5.com/i/code/indicator.png)
[JFatlAcceleration](/en/code/504)

JFatlAcceleration measures the current trend acceleration.