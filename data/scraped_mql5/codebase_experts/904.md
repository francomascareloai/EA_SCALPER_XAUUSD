# sSortTest - script for MetaTrader 5

Source: https://www.mql5.com/en/code/904

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/904) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# sSortTest - script for MetaTrader 5

[Dmitry Fedoseev](/en/users/integer)  |
[English](javascript:void(false);)

[Русский](/ru/code/904) [中文](/zh/code/904) [Español](/es/code/904) [Deutsch](/de/code/904) [日本語](/ja/code/904) [Português](/pt/code/904)

Views:
:   6471

Rating:
:   (45)

Published:
:   4 June 2012, 10:41

Updated:
:   22 November 2016, 07:32
:   [ssorttest.mq5](/en/code/download/904/ssorttest.mq5 "ssorttest.mq5")
    (23.35 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/904.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The script contains several sorting methods for sorting of double[] array:

* [Bubble sort](https://en.wikipedia.org/wiki/Bubble_sort "https://en.wikipedia.org/wiki/Bubble_sort");
* [Selection sort;](https://en.wikipedia.org/wiki/Selection_sort "https://en.wikipedia.org/wiki/Selection_sort")
* [Insertion sort](https://en.wikipedia.org/wiki/Insertion_sort "https://en.wikipedia.org/wiki/Insertion_sort");
* [Shell sort](https://en.wikipedia.org/wiki/Shellsort "https://en.wikipedia.org/wiki/Shellsort");
* [Hoar sort](https://en.wikipedia.org/wiki/Quicksort "https://en.wikipedia.org/wiki/Quicksort");
* sorting using [ArrayMinimum()](/ru/docs/array/arrayminimum) and [ArrayMaximum()](/ru/docs/array/arraymaximum) functions.

There are 2 functions - ascending (Up) and descending (Dn) sort:

* SortBubbleUp(double & aAr[]);
* SortBubbleDn(double & aAr[]);
* SortSelectUp(double & aAr[]);
* SortSelectDn(double & aAr[]);
* SortInsertUp(double & aAr[]);
* SortInsertDn(double & aAr[]);
* SortShellUp(double & aAr[]);
* SortShellDn(double & aAr[]);
* SortHoareUp(double & aAr[]);
* SortHoareDn(double & aAr[]);
* SortSelectUpFst(double & aAr[]);
* SortSelectDnFst(double & aAr[]).

The script has several auxiliary functions:

* Check(double & aAr[]) - checks if array is already sorted (ascending). If array is not sorted, it prints "Error".
* ArrayAlertR(double & aAr[],int aDigits=0,string aHeader="") - prints array as a line. Arguments: double & aAr[] - array to print, int aDigits - precision (digits), string aHeader - additional string at the start of the line. This function may be useful to check the changes of the array during the sorting process.
* ArrayAlertC(double & aAr[],int aDigits=0,string aHeader="") - prints array as a column. Arguments: double & aAr[] - array to print, int aDigits - precision (digits),  string aHeader - additional string at the start of the line.

Sorting algorithms performance:

* Hoare - 8 ms;
* Shell - 78 ms;
* SelectFst - 126 ms;
* Selection - 582 ms;
* Insertion - 702 ms;
* Bubble - 1558 ms;

![Fig. 1. Sort algorithms performance](https://c.mql5.com/18/6/Sort_Algorithm_Performance_MQL5.png "Fig. 1. Sort algorithms performance")

Fig. 1. Sort algorithms performance

The fastest sort method is Hoar sort (Quick sort), but it's recursive and needs a careful use.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/904](/ru/code/904)

**Last comments |
[Go to discussion](/en/forum/6846)**
(9)

![Dmitry Fedoseev](https://c.mql5.com/avatar/2014/9/54056F23-4E95.png "Dmitry Fedoseev")

**[Dmitry Fedoseev](/en/users/integer)**
|
4 Jun 2012 at 19:38

**sergeev:**  
   

and I didn't see this standard algorithm:

what's the analogue for it in this lib?

There is no analogue. I added it, called it Simple. It's quite slow.

![hrenfx](https://c.mql5.com/avatar/avatar_na2.png "hrenfx")

**[hrenfx](/en/users/hrenfx)**
|
4 Jun 2012 at 19:53

1. What place does the standard ArraySort take in the list?
2. I would like to have in MQL5 a universal standard function for [sorting arrays of](https://www.mql5.com/en/docs/array/arraysort "MQL5 documentation: ArraySort function") any type by any condition (as it is done in C++ and similar). Unfortunately, the lack of pointers in MQL5 makes it difficult to write such a function.

![Dmitry Fedoseev](https://c.mql5.com/avatar/2014/9/54056F23-4E95.png "Dmitry Fedoseev")

**[Dmitry Fedoseev](/en/users/integer)**
|
4 Jun 2012 at 20:20

Comparison of Hoare and [ArraySort](https://www.mql5.com/en/docs/array/arraysort "MQL5 documentation: ArraySort function")

![](https://c.mql5.com/3/9/22222222.png)

![Dmitry Fedoseev](https://c.mql5.com/avatar/2014/9/54056F23-4E95.png "Dmitry Fedoseev")

**[Dmitry Fedoseev](/en/users/integer)**
|
4 Jun 2012 at 20:20

It's all together here.

![Serhiy Dotsenko](https://c.mql5.com/avatar/avatar_na2.png "Serhiy Dotsenko")

**[Serhiy Dotsenko](/en/users/thejobber)**
|
20 Feb 2015 at 20:12

Colleagues, I suggest ([for future](https://www.mql5.com/en/docs/constants/environment_state/marketinfoconstants#enum_symbol_info_integer "MQL5 documentation: Symbol properties") articles) to record video additionally, in my opinion it will be much clearer than reading.

example

well, or at least envy the heading interesting programming video, by analogy with interesting financial video... for it will be somehow not rational to put everything in one pile, like this video....

![Sampler](https://c.mql5.com/i/code/indicator.png)
[Sampler](/en/code/903)

The indicator calculates perfect market entry signals, which can be used for neural network training.

![Pearson correlation indicator](https://c.mql5.com/i/code/indicator.png)
[Pearson correlation indicator](/en/code/897)

Pearson correlation indicator shows the correlation between symbols.

![EMA_STD_VA](https://c.mql5.com/i/code/indicator.png)
[EMA\_STD\_VA](/en/code/908)

Adaptive Exponentially Smoothed Moving Average, based on StdDev indicator.

![EMA_ATR_VA](https://c.mql5.com/i/code/indicator.png)
[EMA\_ATR\_VA](/en/code/905)

Advaptive Exponential Moving Average - ATR Volatility Adjusted by Jose Silva.