# Fractal_WeightOscillator - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/17109

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/17109) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Fractal\_WeightOscillator - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/17109) [中文](/zh/code/17109) [Español](/es/code/17109) [Deutsch](/de/code/17109) [日本語](/ja/code/17109) [Português](/pt/code/17109)

Views:
:   5577

Rating:
:   (22)

Published:
:   26 January 2017, 09:28

Updated:
:   29 March 2023, 13:47
:   [Fractal\_DeMarker.mq5](/en/code/download/17109/Fractal_DeMarker.mq5 "Fractal_DeMarker.mq5")
    (30.74 KB)
    [view](# "view")

    [Fractal\_MFI.mq5](/en/code/download/17109/Fractal_MFI.mq5 "Fractal_MFI.mq5")
    (29.96 KB)
    [view](# "view")

    [Fractal\_RSI.mq5](/en/code/download/17109/Fractal_RSI.mq5 "Fractal_RSI.mq5")
    (29.27 KB)
    [view](# "view")

    [Fractal\_WeightOscillator.mq5](/en/code/download/17109/Fractal_WeightOscillator.mq5 "Fractal_WeightOscillator.mq5")
    (27.1 KB)
    [view](# "view")

    [Fractal\_WPR.mq5](/en/code/download/17109/Fractal_WPR.mq5 "Fractal_WPR.mq5")
    (29.97 KB)
    [view](# "view")

    \MQL5\Include\

    [SmoothAlgorithms.mqh](/en/code/download/17109/SmoothAlgorithms.mqh "SmoothAlgorithms.mqh")
    (130.2 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/17109.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Oscillator, representing the weighted smoothed sum of four indicators: [Fractal\_RSI](/en/code/16929), [Fractal\_MFI](/en/code/17107), [Fractal\_WPR](/en/code/16945) and [Fractal\_DeMarker](/en/code/16980).

The compilation of the Fractal\_WeightOscillator indicator requires the compiled indicator files Fractal\_RSI.mq5, Fractal\_MFI.mq5, Fractal\_WPR.mq5 and Fractal\_DeMarker.mq5. Place them in *<terminal\_data\_folder>\MQL5\Indicators*.

After compilation, the Fractal\_WeightOscillator.ex5 indicator file contains the those indicators as [resources](/en/docs/runtime/resources), and therefore, they are not required to be present in the terminal folder for the compiled indicator to work! For this purpose, the corresponding code has been added to the indicator code in order to include the indicators in the executable file.

The indicator executable files have been added as resources at the global scope

//---- Include the indicators in the EA code as resources  
#resource "\\Indicators\\Fractal\_RSI.ex5"  
#resource "\\Indicators\\Fractal\_MFI.ex5"  
#resource "\\Indicators\\Fractal\_WPR.ex5"

Changed the string paths to the indicators used as resources in the block of the OnInit() function

//---- getting handle of the Fractal\_RSI indicator  
   RSI\_Handle=iCustom(NULL,0,"::Indicators\\Fractal\_RSI",e\_period,normal\_speed,RSIPrice);  
   if(RSI\_Handle==INVALID\_HANDLE)  
     {  
      Print(" Failed to get handle of the Fractal\_RSI indicator");  
      return(INIT\_FAILED);  
     }  
//---- getting handle of the Fractal\_MFI indicator  
   MFI\_Handle=iCustom(NULL,0,"::Indicators\\Fractal\_MFI",e\_period,normal\_speed,MFIPrice,MFIVolumeType);  
   if(MFI\_Handle==INVALID\_HANDLE)  
     {  
      Print(" Failed to get handle of the Fractal\_MFI indicator");  
      return(INIT\_FAILED);  
     }  
//---- getting handle of the Fractal\_WPR indicator  
   WPR\_Handle=iCustom(NULL,0,"::Indicators\\Fractal\_WPR",e\_period,normal\_speed);  
   if(WPR\_Handle==INVALID\_HANDLE)  
     {  
      Print(" Failed to get handle of the Fractal\_WPR indicator");  
      return(INIT\_FAILED);  
     }  
//---- getting handle of the Fractal\_DeMarker indicator  
   DeMarker\_Handle=iCustom(NULL,0,"::Indicators\\Fractal\_DeMarker",e\_period,normal\_speed);  
   if(DeMarker\_Handle==INVALID\_HANDLE)  
     {  
      Print(" Failed to get handle of the Fractal\_DeMarker indicator");  
      return(INIT\_FAILED);  
     }

Thus, the compiled executable file of the Fractal\_WeightOscillator indicator can be used on other trade terminals on its own without the original indicator.

The indicator uses the classes of SmoothAlgorithms.mqh library (copy it to <terminal\_data\_folder>\MQL5\Include). The use of the classes was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](/en/articles/180).

Compilation order of files:

1. Fractal\_RSI.mq5, Fractal\_MFI.mq5, Fractal\_WPR.mq5 and Fractal\_DeMarker.mq5
2. Fractal\_WeightOscillator.mq5

![Fig1. The Fractal_WeightOscillator indicator](https://c.mql5.com/18/55/picture__46.png "Fig1. The Fractal_WeightOscillator indicator")

Fig1. The Fractal\_WeightOscillator indicator

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/17109](/ru/code/17109)

**[Go to discussion](/en/forum/168193)**

![Fractal_MFI](https://c.mql5.com/i/code/indicator.png)
[Fractal\_MFI](/en/code/17107)

Fractal Money Flow Index.

![Fractal_Keltner_x5_Cloud_HTF](https://c.mql5.com/i/code/indicator.png)
[Fractal\_Keltner\_x5\_Cloud\_HTF](/en/code/17106)

The Fractal\_Keltner\_x5\_Cloud indicator with the timeframe selection option available in the input parameters.

![ColorXdinMA_Alert](https://c.mql5.com/i/code/indicator.png)
[ColorXdinMA\_Alert](/en/code/17111)

The ColorXdinMA trend moving average, which features alerts, sending emails and push-notifications to mobile devices.

![FT BillWillams Trader](https://c.mql5.com/i/code/expert.png)
[FT BillWillams Trader](/en/code/17113)

The Expert Advisor based on the iAlligator (Alligator), iMA (Moving Average) indicators.