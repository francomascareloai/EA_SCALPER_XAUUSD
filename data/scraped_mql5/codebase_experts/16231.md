# Fibo Retracement Trader - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/16231

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16231) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Fibo Retracement Trader - expert for MetaTrader 5

[Deleted]  |
[English](javascript:void(false);)

[Русский](/ru/code/16231) [中文](/zh/code/16231) [Español](/es/code/16231) [Deutsch](/de/code/16231) [日本語](/ja/code/16231) [Português](/pt/code/16231)

Views:
:   21992

Rating:
:   (24)

Published:
:   18 January 2017, 09:12
:   [fibonacciretracement.mq5](/en/code/download/16231/fibonacciretracement.mq5 "fibonacciretracement.mq5")
    (13.75 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16231.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This simple Expert Advisor was created to illustrate the capabilities of trading the Fibonacci levels. The EA uses the standard ZigZag indicator (from the standard MetaTrader delivery) as the basis for placing the grid.

The EA determines the trend direction based on the two latest Highs and two Lows (presence of a higher High and a higher Low — uptrend; accordingly, a lower High and a lower Low — downtrend; Highs and Lows changed in different directions —no trend). The Fibonacci grid is based *only* on the trend.

Once the grid is plotted, the EA waits for a retracement to a certain level and trades the breakout of this levels in the opposite direction.

The EA uses the following parameters:

* ZigZag Depth — parameter of the ZigZag indicator;
* ZigZag Deviation — parameter of the ZigZag indicator;
* ZigZag BackStep — parameter of the ZigZag indicator;
* Trade volume — working lot;
* Stop-loss level (points) — stop loss level in points;
* Take profit at FIBO extension — take profit levels as a Fibonacci extension (for example, value 0.38 means an expansion of 138%);
* Next bar close distance from level (points) — the distance from the level along the trend, at which the EA will open a trade;
* Next to previous high(low) distance — minimum distance between the subsequent Highs and subsequent Lows, in which the EA searches for a trend;
* Pause from close to trade (bars) — the number of bars that must be elapsed after closure of the previous trade for the EA to open a new trade;
* Fibo levels colors — color of the Fibonacci grid levels;

![Expert Advisor uses simple parameters](https://c.mql5.com/18/53/Parameters_Window.png "Expert Advisor uses simple parameters")

For its trading, the EA uses Fibonacci levels plotted using the trend based on the standard ZigZag indicator.

![Exper Advisor uses Fibonacci levels to trade retracements.](https://c.mql5.com/18/53/Chart_Window.png "Exper Advisor uses Fibonacci levels to trade retracements.")

![Equity line7](https://c.mql5.com/18/53/Equity_Curve.png "Equity line7")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16231](/ru/code/16231)

**Last comments |
[Go to discussion](/en/forum/167122)**
(7)

![vinatec](https://c.mql5.com/avatar/avatar_na2.png "vinatec")

**[vinatec](/en/users/vinatec)**
|
11 Apr 2020 at 11:23

Hi Oleg!

Super cool compact implementation! Have you developed your EA any further?

I will add trade at time and am looking for MM options, increase risk after x days or similar.

Thanks for the code! Happy Easter.

![Jose Luiz](https://c.mql5.com/avatar/2021/6/60C52C71-8C03.png "Jose Luiz")

**[Jose Luiz](/en/users/joseluizmartins)**
|
1 Jul 2021 at 20:07

Very good logic but several errors in the code, serves as a reference.

![marcofi](https://c.mql5.com/avatar/avatar_na2.png "marcofi")

**[marcofi](/en/users/marcofi)**
|
8 Oct 2022 at 19:26

Trend Down doesn't work.

![krisgermany](https://c.mql5.com/avatar/avatar_na2.png "krisgermany")

**[krisgermany](/en/users/krisgermany)**
|
25 Apr 2023 at 22:04

Anyone tried compiling the Fibonacci trader ea yet?

1 error 1 warning :

cannot convert 0 to enum '[ENUM\_TRADE\_REQUEST\_ACTIONS](https://www.mql5.com/en/docs/constants/tradingconstants/enum_trade_request_actions "MQL5 documentation: Trade Operation Types")' 45 28

expression not boolean  260 11

![Sathish Collection](https://c.mql5.com/avatar/2023/7/64A2F065-FAC5.png "Sathish Collection")

**[Sathish Collection](/en/users/sathishcollect)**
|
16 Jul 2023 at 14:36

Hi ,  
  
You can convert by below,

[MqlTradeRequest](https://www.mql5.com/en/docs/constants/structures/mqltraderequest "MQL5 documentation: Trade Request Structure") Request /\*= {0}\*/;

![Feed of all deals](https://c.mql5.com/i/code/indicator.png)
[Feed of all deals](/en/code/16210)

The indicator displays the total number of deals by symbol in real time.

![i4_DRF_v2](https://c.mql5.com/i/code/indicator.png)
[i4\_DRF\_v2](/en/code/16170)

A simple trend indicator with calculation of rise and fall in Close prices.

![RVIDiffSign](https://c.mql5.com/i/code/indicator.png)
[RVIDiffSign](/en/code/16243)

Semaphore signal indicator based on the code of the RVIDiff indicator.

![StochasticDiffSign](https://c.mql5.com/i/code/indicator.png)
[StochasticDiffSign](/en/code/16254)

Semaphore signal indicator based on the code of the StochasticDiff indicator.