# Close All Orders - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/62811

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/62811) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Close All Orders - expert for MetaTrader 5

[Duy Van Nguy](/en/users/wazatrader)  |
[English](javascript:void(false);)

[Русский](/ru/code/62811) [中文](/zh/code/62811) [Español](/es/code/62811) [Deutsch](/de/code/62811) [日本語](/ja/code/62811) [Português](/pt/code/62811) [한국어](/ko/code/62811) [Français](/fr/code/62811) [Italiano](/it/code/62811) [Türkçe](/tr/code/62811)

Views:
:   585

Rating:
:   (4)

Published:
:   19 August 2025, 11:58

Updated:
:   26 October 2025, 05:52
:   [Close all orders.mq5](/en/code/download/62811/Close_all_orders.mq5 "Close all orders.mq5")
    (11.44 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/62811.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

## 

### Key Features:

* Visual Button Interface - Easy-to-use buttons displayed directly on the chart
* Close Market Orders - Instantly close all open positions with one click
* Delete Pending Orders - Remove all pending orders (Buy/Sell Limit/Stop) at once
* Flexible Options - Choose to close market orders, pending orders, or both
* Real-Time Display - Live counter showing the number of market and pending orders
* Confirmation Dialog - Optional safety confirmation before closing orders to prevent accidental actions
* Customizable UI - Adjust button position, size, and colors to match your preferences
* Detailed Reports - Get instant feedback on successfully closed and failed orders
* Error Handling - Robust error management with detailed logging  
    
   [![](https://c.mql5.com/18/170/1510599445698__1.png)](https://c.mql5.com/18/170/1510599445698.png "https://c.mql5.com/18/170/1510599445698.png")

### Input Parameters:

Button Settings:

* Button position (X, Y coordinates)
* Button dimensions (Width, Height)
* Custom colors for button and text

Close Settings:

* Enable/disable market order closing
* Enable/disable pending order deletion
* Slippage tolerance
* Confirmation dialog toggle

### How to Use:

1. Attach the EA to any chart
2. Enable AutoTrading (Ctrl+E)
3. Click the red "CLOSE ALL ORDERS" button to close all orders
4. Click the blue "INFO" button to view current settings and order counts

### Perfect For:

* Emergency exit situations
* End of trading session cleanup
* Quick portfolio management
* Risk management during high volatility
* Traders managing multiple positions simultaneously

### Note:

This EA requires AutoTrading to be enabled. The button interface provides a safe and efficient way to manage your orders without navigating through multiple menus.

**Last comments |
[Go to discussion](/en/forum/493596)**
(1)

![Juan Luis De Frutos Blanco](https://c.mql5.com/avatar/2023/2/63df76f5-9ce7.jpg "Juan Luis De Frutos Blanco")

**[Juan Luis De Frutos Blanco](/en/users/febrero59)**
|
26 Oct 2025 at 14:27

¡Me ha gustado mucho!
Gracias por tu publicación.

![Spread lister - current, min, max](https://c.mql5.com/i/code/expert.png)
[Spread lister - current, min, max](/en/code/62784)

EA Spread lister shows the current, min and max values for all symbols / instruments.

![A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS](https://c.mql5.com/i/code/library.png)
[A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS](/en/code/62735)

A powerful and feature-rich JSON library for MQL5, designed to bring a modern development experience similar to Python/JS

![Cincin EA](https://c.mql5.com/i/code/expert.png)
[Cincin EA](/en/code/62812)

The Cincin EA (v2.24) is an automated trading system for MetaTrader 5 that executes conservative random trades on a specified symbol (e.g., EURUSD), with features like basket management, hedging, and position control.

![EMA_RSI_RISK-EA](https://c.mql5.com/i/code/expert.png)
[EMA\_RSI\_RISK-EA](/en/code/62732)

Expert Advisor for MetaTrader 5 that combines Exponential Moving Averages (EMA) and Relative Strength Index (RSI) to generate trading signals. Includes risk management features and trading time filter.