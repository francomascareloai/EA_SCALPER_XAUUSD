# Automatic Posting with WebRequest() - script for MetaTrader 5

Source: https://www.mql5.com/en/code/12296

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/12296) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Automatic Posting with WebRequest() - script for MetaTrader 5

[MetaQuotes](/en/users/metaquotes)  |
[English](javascript:void(false);)

[Русский](/ru/code/12296) [中文](/zh/code/12296) [Español](/es/code/12296) [Deutsch](/de/code/12296) [日本語](/ja/code/12296) [Português](/pt/code/12296) [한국어](/ko/code/12296) [Français](/fr/code/12296) [Italiano](/it/code/12296) [Türkçe](/tr/code/12296)

Views:
:   13171

Rating:
:   (33)

Published:
:   19 January 2015, 13:23
:   [webrequest\_publicationscript.mq5](/en/code/download/12296/webrequest_publicationscript.mq5 "webrequest_publicationscript.mq5")
    (12.49 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/12296.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The [WebRequest](/en/docs/network/webrequest) function has two call options, the first option is used to send simple queries, the example of it is available in the [QuotesDemo](/en/code/11410) script.

The second function option allows you to create queries of any type (GET, POST, HEAD, etc.) indicating your own set of headers. This options allows implementing flexible interaction with various Web services. This script is an example of how to post a message on the MQL5.com site.

**Warning:** avoid sending too frequent automated requests to web sites, because most of sites block too frequent calls. The mql5.com site also has protection against too frequent requests, and an error in the code may lead to blocking of your account.

When you start the script, enter your mql5.com login and password.

```mql5
#property description "Sample script posting a user message "
#property description "on the wall on mql5.com"

input string InpLogin   ="";             //Your MQL5.com account
input string InpPassword="";             //Your account password
input string InpFileName="EURUSDM5.png"; //An image in folder MQL5/Files/
input string InpFileType="image/png";    //Correct mime type of the image
```

You may use your own image name in the *InpFileName* parameter, do not forget to save the image file in the [**data\_folder**](https://www.metatrader5.com/en/terminal/help/start_advanced/structure "https://www.metatrader5.com/en/terminal/help/start_advanced/structure")/MQL5/Files/ and in the *InpFileType* parameter set the correct [MIME type](https://en.wikipedia.org/wiki/MIME "https://en.wikipedia.org/wiki/MIME").

![](https://c.mql5.com/18/32/EURUSDM5__1.png)

Thus, using WebRequest() you can arrange automatic posting of messages containing current market analysis and forecast of probable price actions.

**Note**

Please note that In the second version of the WebRequest() function, the following parameters passed by the user in the header are ignored, the following values are always used in them:

```mql5
"Accept-Language: en\r\n"
"Accept-Charset: *,utf-8\r\n"
"Connection: Keep-Alive\r\n"
"Proxy-Connection: Keep-Alive\r\n"
"Pragma: no-cache\r\n"
"Cache-Control: no-cache\r\n",
```

The Host parameter is also ignored, its value is taken from the URL.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/12296](/ru/code/12296)

**Last comments |
[Go to discussion](/en/forum/39803)**
(5)

![Eugeny Kotovschikov](https://c.mql5.com/avatar/2016/6/5774B07F-8B21.jpg "Eugeny Kotovschikov")

**[Eugeny Kotovschikov](/en/users/deafjam)**
|
1 Oct 2016 at 19:00

**Automated-Trading:**  

[Automatic publishing with WebRequest()](/en/code/12296):

Author: [MetaQuotes Software Corp.](/en/users/MetaQuotes "MetaQuotes")

Not authorised,writes "Error, authorisation data not found in server response (check login/password)"

![Satyam Shivam](https://c.mql5.com/avatar/2017/3/58C25646-73A9.jpg "Satyam Shivam")

**[Satyam Shivam](/en/users/it_mql5_1)**
|
3 Apr 2017 at 13:37

I am continuously getting the following error. :

**2017.04.03 17:06:46.138 webrequest\_publicationscript (USDJPY,H1) Error, authorization data not found in the server response ([check](https://www.mql5.com/en/docs/common/GetTickCount64 "MQL5 Documentation: GetTickCount64 function") login/password)**

My id and pwd are correct.

![Satyam Shivam](https://c.mql5.com/avatar/2017/3/58C25646-73A9.jpg "Satyam Shivam")

**[Satyam Shivam](/en/users/it_mql5_1)**
|
15 Apr 2017 at 11:41

Kindly request you to proved some help on this code.

This code is not working . I have tried with multiple accounts n multiple systems and multiple internet networks.

Thank you

![Arnold Garth](https://c.mql5.com/avatar/2018/8/5B634C4C-26C8.jpg "Arnold Garth")

**[Arnold Garth](/en/users/nyembwe)**
|
23 May 2019 at 15:53

Is there anyone get this code working??????????????????? Please help

![Noe Combes Bardoll](https://c.mql5.com/avatar/2020/5/5EBB5594-AFD0.jpg "Noe Combes Bardoll")

**[Noe Combes Bardoll](/en/users/nono86)**
|
5 Aug 2019 at 03:52

**Arnold Garth:**  
 Is there anyone get this code working??????????????????? Please help

This code is not working anymore, since MQL5 change his security system introducing a token authentification which is impossible to get from outside of the server. I'm also stuck.

![TrendSignal Pro](https://c.mql5.com/i/code/indicator.png)
[TrendSignal Pro](/en/code/12245)

The latest version of the TrendSignal indicator. It doesn't repaints and also works well with a template.

![TrendSignal Indicator](https://c.mql5.com/i/code/indicator.png)
[TrendSignal Indicator](/en/code/880)

TrendSignal Indicator for MetaTrader 5.

![Setting Chart](https://c.mql5.com/i/code/script.png)
[Setting Chart](/en/code/11927)

Setting multiple charts at one click.

![Candle Size Info](https://c.mql5.com/i/code/indicator.png)
[Candle Size Info](/en/code/12316)

The indicator shows information about size of candle in pips and size of the shadow too.