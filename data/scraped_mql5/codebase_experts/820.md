# Ask Bid Ticks - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/820

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/820) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Ask Bid Ticks - expert for MetaTrader 5

[Erdem](/en/users/erdogenes)  |
[English](javascript:void(false);)

[Русский](/ru/code/820) [中文](/zh/code/820) [Español](/es/code/820) [Deutsch](/de/code/820) [日本語](/ja/code/820) [Português](/pt/code/820)

Views:
:   12180

Rating:
:   (26)

Published:
:   12 October 2012, 08:32

Updated:
:   22 November 2016, 07:32
:   [askbidticks.mq5](/en/code/download/820/askbidticks.mq5 "askbidticks.mq5")
    (4.57 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/820.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Ask Bid Ticks is a real-time tick data solution for microstructure analysis — a high precision tick data collector. It exports tick-by-tick prices to a CSV file, and provides options for filename, delimiters and timestamps. It works with local computer time for catching the arrival time of each tick in high precision.

**Settings:**

The program uses a Windows system file "kernel32.dll" to provide millisecond timestamps, so it is required to allow DLL imports. You can set this property in "Dependencies" tab in "Properties" window (look at the picture below).

![](https://c.mql5.com/18/39/composite.png)

You can choose delimiter for the data columns (which are date time, symbol name, ask bid prices). You can also choose the timestamps:

* **Standard**: Standard timestamp mod — the output seems like: 2012.11.13 15:41:23
* **Systemtime**: This mod uses system time for high precision — the output seems like: 2012.11.13 15:41:23.692
* **Analysis**: number of milliseconds so far (from the first tick to the current one). This option is generated only for simplifying further operations (like HighFrequency data analysis with other programs)

If you want to specify the name of the output file, just delete the string "*Use default*" in the first parameter, then enter the name you choose.

**Output File:**

The output file can be found in *terminal\_data\_directory*. To easily reach the data directory, you can use the file menu in MetaTrader 5 client terminal. At the start of the program, the complete file path is also shown in "ToolBox" > "Experts" tab:

![toolbox](https://c.mql5.com/18/38/Screenshot-2013-10-28_15a08k51.png "toolbox")

Below there is a tab delimited output CSV sample with millisecond timestamps:

![CSV Output in Notepad](https://c.mql5.com/18/38/ntpd_output.png "CSV Output in Notepad")

You should note there may be some missing ticks. The probability of this situation is small and depends on various facts:

* Economic activity in the period,
* Speed of your hardware on which the code is used: the main reason of missing ticks is the no-queue policy in [NewTick](/en/docs/runtime/event_fire#newtick) event handling. It's a useful thing, in order to have high precision timestamps for new tick arrivals. But to decrease the event handling time, it is better to use this code with a fast hardware.

**Last comments |
[Go to discussion](/en/forum/8263)**
(23)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
5 Jan 2016 at 00:08

would you please write the same [function](https://www.mql5.com/en/docs/constants/namedconstants/compilemacros "MQL5 documentation: Predefined Macrosubstitutions") code for MT4?

![Erdem](https://c.mql5.com/avatar/avatar_na2.png "Erdem")

**[Erdem](/en/users/erdogenes)**
|
13 Jan 2016 at 18:23

**AAASSS111:**  
 would you please write the same function code for MT4?

hey,

sorry for late response.. it is compatible with mql4 you can just change the ".mq5" extension as ".mq4" and copy it into data\_foder/MQL4/Experts folder. to reach data folder u can use file menu in terminal

![seenuchennai](https://c.mql5.com/avatar/avatar_na2.png "seenuchennai")

**[seenuchennai](/en/users/seenuchennai)**
|
28 Jun 2020 at 04:15

sir,

its possible to add third party Ticks  csv files can [import](https://www.mql5.com/en/economic-calendar/united-states/imports "US Economic Calendar: Imports") MT5 Terminal for custom Symbols

via EA

Attached

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
26 Jan 2024 at 07:48

Excellent code that has stood the test of time.

![Lauri](https://c.mql5.com/avatar/2024/7/66A384CE-B6BE.png "Lauri")

**[Lauri](/en/users/lauritrdr)**
|
10 Dec 2024 at 10:03

Hi, Can you make the the bid tick counter and the ask tick counter?

![Daily Range](https://c.mql5.com/i/code/indicator.png)
[Daily Range](/en/code/1166)

This indicator calculates and shows daily highest and lowest prices, display them as two set of lines.

![XprofuterOverlay](https://c.mql5.com/i/code/indicator.png)
[XprofuterOverlay](/en/code/1025)

XprofuterOverlay shows the line of the price future movement.

![ALGLIB - Numerical Analysis Library](https://c.mql5.com/i/code/library.png)
[ALGLIB - Numerical Analysis Library](/en/code/1146)

ALGLIB math function library (v. 3.19) ported to MQL5.

![AML Adaptive Market Level](https://c.mql5.com/i/code/indicator.png)
[AML Adaptive Market Level](/en/code/1026)

Adaptive Market Level shows the current reference level of the market price. The level is shifted only in case of the price trend movement.