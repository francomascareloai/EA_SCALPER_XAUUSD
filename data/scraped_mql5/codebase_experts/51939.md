# BuySell + SL + TP - script for MetaTrader 5

Source: https://www.mql5.com/en/code/51939

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/51939) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# BuySell + SL + TP - script for MetaTrader 5

[akka](/en/users/4kk4)  |
[English](javascript:void(false);)

[Русский](/ru/code/51939) [中文](/zh/code/51939) [Español](/es/code/51939) [Deutsch](/de/code/51939) [日本語](/ja/code/51939) [Português](/pt/code/51939) [한국어](/ko/code/51939) [Français](/fr/code/51939) [Italiano](/it/code/51939) [Türkçe](/tr/code/51939)

Views:
:   13841

Rating:
:   (9)

Published:
:   5 September 2024, 16:50

Updated:
:   2 October 2025, 13:03
:   [buy+sl+tp.mq5](/en/code/download/51939/buygslvtp.mq5 "buy+sl+tp.mq5")
    (2.68 KB)
    [view](# "view")

    [sell+sl+tp.mq5](/en/code/download/51939/sellksletp.mq5 "sell+sl+tp.mq5")
    (2.17 KB)
    [view](# "view")

    [CloseAll.mq5](/en/code/download/51939/closeall.mq5 "CloseAll.mq5")
    (2.13 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/51939.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

script to open a buy andsell position at the current price in the MT5 window with a specified stop loss (in pips) and take profit (in pips) that are automatically set when the order is placed.

![attach the script on chart](https://c.mql5.com/18/169/Clipboard_09-05-2024_02__10.jpg "attach the script on chart")

the script does not display any dialog windows when running the script, so the script can capture the current price that is being displayed.

on the initial script execution, the script uses the lot, take profit, and stop loss values ​​based on the values ​​specified in the script. They can then be modified through the global variable settings in the MT5 menu.

![global variables setting on MT5](https://c.mql5.com/18/169/Clipboard_09-05-2024_01__10.jpg "global variables setting on MT5")

**Last comments |
[Go to discussion](/en/forum/472624)**
(10)

![ja.odesina](https://c.mql5.com/avatar/avatar_na2.png "ja.odesina")

**[ja.odesina](/en/users/ja.odesina)**
|
6 Apr 2025 at 19:19

**Eleni Anna Branou [#](/en/forum/472624#comment_56375229):**  

Use the link in the first post: [buysell+sl+tp](/en/code/51939)

Thank you, but the link redirect here and does not download a file.

![Juvenille Emperor Limited](https://c.mql5.com/avatar/2019/4/5CB0FE21-E283.jpg "Juvenille Emperor Limited")

**[Eleni Anna Branou](/en/users/eleanna74)**
|
6 Apr 2025 at 21:30

**ja.odesina [#](/en/forum/472624#comment_56375815):**  
 Thank you, but the link redirect here and does not download a file.

I don't think you've clicked the link.

![Pinchaz](https://c.mql5.com/avatar/avatar_na2.png "Pinchaz")

**[Pinchaz](/en/users/pinchaz)**
|
9 Nov 2025 at 15:23

Working lovely, I have no complaints. Thanks for our work

![David John](https://c.mql5.com/avatar/2025/11/6925769F-8504.png "David John")

**[David John](/en/users/davidjohn38)**
|
25 Nov 2025 at 09:31

Link pls

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
25 Nov 2025 at 09:36

**David John [#](/en/forum/472624#comment_58591788):**  
 Link pls

[buysell+sl+tp](/en/code/51939)

![Max trade volume checker for your trading account](https://c.mql5.com/i/code/expert.png)
[Max trade volume checker for your trading account](/en/code/51877)

A dialog to display the maximum lot size permitted on the underlying asset for different types of orders (buy, sell, pending buy, and pending sell).

![Logging Class for both MQL4 and MQL5](https://c.mql5.com/i/code/library.png)
[Logging Class for both MQL4 and MQL5](/en/code/51817)

The CDebugLogger class is a flexible and comprehensive logging utility designed for use in MQL4/5 environments. It allows developers to log messages at various levels of importance (INFO, WARNING, ERROR, DEBUG) with options to include timestamps, function signatures, file names, and line numbers in the log entries. The class supports logging to both the console and files, with the ability to save logs in a common folder and in CSV format. Additionally, it offers functionality to silence logs based on specific keywords, ensuring that sensitive information is not logged. This class is ideal for developers looking to implement robust logging mechanisms in their MQL4/5 applications, with customizable features that cater to a wide range of debugging and monitoring needs.

![Max trade volume checker for your trading account (Script version)](https://c.mql5.com/i/code/script.png)
[Max trade volume checker for your trading account (Script version)](/en/code/51957)

A script which when run displays the maximum lot size permitted on the asset.

![Fair Value Gap (FVG) Indicator](https://c.mql5.com/i/code/indicator.png)
[Fair Value Gap (FVG) Indicator](/en/code/51977)

The Fair Value Gap (FVG) Indicator identifies price gaps that occur when there is an imbalance between buying and selling pressure. It highlights areas where price is likely to return to fill the gap, providing potential trade entry points based on market inefficiencies.