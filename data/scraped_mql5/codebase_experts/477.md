# Trend power and direction indicator - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/477

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/477) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Trend power and direction indicator - indicator for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/477) [中文](/zh/code/477) [Español](/es/code/477) [Deutsch](/de/code/477) [日本語](/ja/code/477) [Português](/pt/code/477) [한국어](/ko/code/477) [Français](/fr/code/477) [Italiano](/it/code/477) [Türkçe](/tr/code/477)

Views:
:   22135

Rating:
:   (27)

Published:
:   29 September 2011, 10:34

Updated:
:   29 March 2023, 13:43
:   \MQL5\Include\

    [smoothalgorithms.mqh](/en/code/download/477/smoothalgorithms.mqh "smoothalgorithms.mqh")
    (133.8 KB)
    [view](# "view")

    \MQL5\Indicators\

    [ColorBBCandles.mq5](/en/code/download/477/ColorBBCandles.mq5 "ColorBBCandles.mq5")
    (16.77 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/477.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This indicator paints the candlesticks in different colors depending on a trend power and direction.

The indicator is based on five symmetrical [Bollinger Bands](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/bb "Bollinger Bands®") with different deviation input parameters values. Breakout of the channel with a big deviation value results in a brighter color of a candlestick. Spring green color shades are used for the rising market, while maroon color shades are intended for the falling market.

Five deviation levels and ten colors for trend display are used. In case the weakest deviation level is not passed, the candlesticks are not colored and have a common coloring.

The indicator uses SmoothAlgorithms.mqh library classes (must be copied to the **terminal\_data\_folder**\MQL5\Include). The use of the classes was thoroughly described in the article ["Averaging Price Series for Intermediate Calculations Without Using Additional Buffers"](https://www.mql5.com/en/articles/180 "Averaging Price Series for Intermediate Calculations Without Using Additional Buffers").

![ColorBBCandles](https://c.mql5.com/18/57/477__1.png "ColorBBCandles")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/477](/ru/code/477)

**Last comments |
[Go to discussion](/en/forum/4779)**
(1)

![muller](https://c.mql5.com/avatar/avatar_na2.png "muller")

**[muller](/en/users/razoff)**
|
11 Jan 2012 at 09:01

Very nice tool, thanks.

I try to play with colors, hidding some of them, but the result is unexpected, like some swifting when i replace a color by [CLR\_NONE](https://www.mql5.com/en/docs/constants/namedconstants/otherconstants "MQL5 documentation: Other Constants") for example; Wonder how to set these colors to display only Brown & Aqua for example ?

![LeManSignal](https://c.mql5.com/i/code/indicator.png)
[LeManSignal](/en/code/474)

The indicator shows market entry points as colored dots. Signal dots locations can indicate the levels for setting a protective Stop Loss or a new Trailing Stop position.

![DailyPivotPoints_Full](https://c.mql5.com/i/code/indicator.png)
[DailyPivotPoints\_Full](/en/code/473)

The indicator helps to compose a picture of market future movements, in distinct from the other tools that hang behind the market. The information that became available in the course of the previous day is used to calculate the check points of the minor trend of the current day.

![Color Smoothed Momentum](https://c.mql5.com/i/code/indicator.png)
[Color Smoothed Momentum](/en/code/461)

More smoothed Momentum with colored indication of the current trend.

![MACD_Histogram](https://c.mql5.com/i/code/indicator.png)
[MACD\_Histogram](/en/code/464)

The indicator displays MACD histogram and price divergence on a chart.