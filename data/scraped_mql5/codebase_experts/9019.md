# S!mple EA - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/9019

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9019) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# S!mple EA - expert for MetaTrader 4

[mk77ch](/en/users/mk77ch)  |
[English](javascript:void(false);)

[Русский](/ru/code/9019)

Views:
:   28851

Rating:
:   (16)

Published:
:   4 July 2009, 05:50

Updated:
:   21 April 2014, 14:54
:   [Stmple.mq4](/en/code/download/9019/Stmple.mq4 "Stmple.mq4")
    (10.97 KB)
    [view](# "view")

    [s3mple.zip](/en/code/download/9019/s3mple.zip "s3mple.zip")
    (0.5 KB)

    [Download as ZIP](/en/code/download/9019.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is one of my current projects. The idea was to keep it simple.

To use it, you have to do the following:

* Copy S!mple.mq4 to your experts folder
* Open S!mple.mq4 and modify the init() function. You can define as much currencies as you like.
* Save and Compile the EA and attach it to one of your charts (only to one).
* Open all other charts you are trading on for data updates.
* You have to set the variable makeTrades to true, otherwise the EA will not place any trades.
* For better understanding, you can also use the attached template.

To check on which currencies the EA is profitable, first just attach the template file to a chart and look out for clear cuts on the two MA's.

I use it on a 5 Minute chart, if you want to use it on an other chart, you have to change the variable timeFrame to what you would like to use.

Best regards and happy trading  
mike

**Last comments |
[Go to discussion](/en/forum/26722)**
(5)

![Valentin Hristovski](https://c.mql5.com/avatar/avatar_na2.png "Valentin Hristovski")

**[Valentin Hristovski](/en/users/tinojazz)**
|
5 Jul 2009 at 11:03

Hi, I cant see how its work becouse is weekend.Did work at [strategy tester](https://www.mql5.com/en/articles/239 "Article \"The Fundamentals of Testing in MetaTrader 5\"")?

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
15 Jul 2009 at 18:02

Hello, mk77ch, good idea with crossing 50/200 within a 5-min.-chart. I tried to [backtest](https://www.mql5.com/en/articles/2612 "Article \"Testing trading strategies on real ticks\"") but I did not get any decision. May be I did not change correctly the function Init(). Can you please give me an idea?

Error showing: 2009.07.15 18:19:45 2009.07.13 23:59 S!mple EURUSD,M5: symbol name for MarketInfo function must be a string-> Now I found by myself: the correct currency-string must be shown, e.i. 'EURUSD' from 'EURUSDm'. No further advice nessesary.

Best regards, Hubex

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
16 Aug 2009 at 10:52

**tinojazz wrote**

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
16 Aug 2009 at 12:25

I have tried this expert
(S!mple) over a significant period of time, several days.

I can say that it
implements the strategy as advertised, but for me at least it has not
done well.

I think there are a few
problems with the strategy.

Statistically there is
more movement of the fast average when the value has moved some way
away, so that a crossing is most likly to occur when the quantity has
just moved avay from the fast average in the wrong direction. So far
as opening trades go, this is one reason why the trade open point is
not likely to be a good one.

Second, closing the
trade also happens usually in the wrong place. Image for a moment
that the slow average is the same (at least has not changed much),
then the fast average will cross at the same point as it did to open
the trade, but because the slope is in the oppeosite direction, its
pretty much guaranteed to be the other side of the moving average! So
that when there is "not much action" theis EA will
certainly loose you money, doing all the wrong things. Indeed it
could be better to reverse the trade direction.

The one situation where
it does kind of do the right thing, is in very long gradual rises or
falls, compared to the the slow average. The point is that in these
situations, the slow average has time to significantly change its
value. In this way the S!mple EA can follow a rise even if it doesnt
quite get in and out at the right times.

Although all my testing
was done with the expert as supplied, (I used some additional
currencies.) I think that [exponential averages](https://www.mql5.com/en/docs/constants/indicatorconstants/enum_ma_method "MQL5 documentation: Smoothing Methods") would work better.
This is because exponential averages emphasize the present, whilst
for a linear average what happens as points move off the end is just
as significant as the new points, and that cant be good.

Here is my idea for an improvement, this I have not coded yet.

Discard the slow average and use only
the 50 point moving average, use exponential. Make a buy whenever the
variable crosses the moving average and sell when it crosses in the
other direction. Since the average moves up if the value is above it,
the sell happens above the buy price so you have a profit. Sounds
great, what is wrong with this? There would be too many and too
frequent crossings giving noise-trades, a buy followed by an immediate
sale etc. So modify the method by looking at the gradient of the moving
average, only by when the value is above the MA and the gradient
posative by a certain threshold. Sell as soon as the reverse crossing
occurs. The short position can be done in the same way, just like
S!mple, so that the expert usually has a position. Unlike S!imple,
because of the requirement for a significant gradient, this expert can
close one position before opening another but may not always do so.

What else might be wrong with this ? Would like to hear.

Marky.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
19 Dec 2010 at 21:24

Hi mk77ch,

Thanks for the EA,

[Backtesting](https://www.mql5.com/en/articles/2612 "Article \"Testing trading strategies on real ticks\"") the EA, but it doesnt seem to be making any trades.... made all the reccommended changes... any suggestion...

Running at 5 fastMA, 13 slowMA, on GPBUSD m30 only, $25 SL, compiled with no errors or warnings...

![My first EA based on Stochastic](https://c.mql5.com/i/code/expert.png)
[My first EA based on Stochastic](/en/code/9017)

using Stochastic m5, m15 and m30

![A Tool: Vertical Grid Plotter](https://c.mql5.com/i/code/script.png)
[A Tool: Vertical Grid Plotter](/en/code/9006)

Script for vertical grid lines plotting

![ind_SupportEX](https://c.mql5.com/i/code/indicator.png)
[ind\_SupportEX](/en/code/9020)

The indicator shows candles of the grown-ups TF.

![simple stop entry price indicator](https://c.mql5.com/i/code/indicator.png)
[simple stop entry price indicator](/en/code/9026)

shows entry price lines. this is based on "inside bar".