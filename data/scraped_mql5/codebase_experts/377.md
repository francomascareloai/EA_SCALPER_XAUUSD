# Candlestick Momentum Blau_CMtm - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/377

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/377) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Candlestick Momentum Blau\_CMtm - indicator for MetaTrader 5

[Andrey F. Zelinsky](/en/users/abolk)  |
[English](javascript:void(false);)

[Русский](/ru/code/377) [中文](/zh/code/377) [Español](/es/code/377) [Deutsch](/de/code/377) [日本語](/ja/code/377) [Português](/pt/code/377) [한국어](/ko/code/377) [Français](/fr/code/377) [Italiano](/it/code/377) [Türkçe](/tr/code/377)

Views:
:   11847

Rating:
:   (18)

Published:
:   11 July 2011, 15:22

Updated:
:   22 November 2016, 07:32
:   [blau\_cmtm.mq5](/en/code/download/377/blau_cmtm.mq5 "blau_cmtm.mq5")
    (6.87 KB)
    [view](# "view")

    \MQL5\Include\

    [williamblau.mqh](/en/code/download/377/williamblau.mqh "williamblau.mqh")
    (4.52 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/377.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Author: [Andrey N. Bolkonsky](https://www.mql5.com/en/users/abolk "https://www.mql5.com/en/users/abolk")

Candlestick Momentum Indicator (q-period Candlestick Momentum) by William Blau is described in the book ["Momentum, Direction, and Divergence: Applying the Latest Momentum Indicators for Technical Analysis"](/go?link=https://www.amazon.com/Momentum-Direction-Divergence-Indicators-Technical/dp/0471027294 "http://www.amazon.com/Momentum-Direction-Divergence-Indicators-Technical/dp/0471027294").

* WilliamBlau.mqh must be placed in **terminal\_data\_folder**\MQL5\Include\
* Blau\_CMtm.mq5 must be placed in **terminal\_data\_folder**\MQL5\Indicators\

Momentum is the difference between the current price (for example, closing price of the bar) and the previous price (several bars ago). Momentum can be applied to any timeframe and period.

According to William Blau, the Candlestick Momentum is defined as a change of the price over the fixed interval:

cmtm = close - open

where:

* close - close price of the bar (candle);
* open - open price of the bar (candle).

Candlestick momentum can be plus or minus in the sense that an up momentum is positive when the close is greater than the open; the reverse is true when the open is greater than the close giving a negative value to the downward momentum.

The definintion of Candlestick Momentum can be extended:

1. Candlestick Momentum can be applied to any timeframe;
2. The applied price (closing price, open price) may vary.

![The definition of the q-period Candlestick Momentum](https://c.mql5.com/18/3/cmtm03__1.PNG "The definition of the q-period Candlestick Momentum")

The definition of the q-period Candlestick Momentum

![Candlestick Momentum Indicator by William Blau](https://c.mql5.com/18/3/Blau_CMtm.png "Candlestick Momentum Indicator by William Blau")

Candlestick Momentum Indicator by William Blau

**Calculation:**

The formula for calculation of Candlestick Momentum looks as follows:

cmtm(price1,price2,q) = price1 - price2[q-1]

where:

* q - number of bars, used in calculation of Candlestick Momentum;
* price1 - close price;
* price2[q–1] - open price q bars ago.

The smoothed q-period Candlestick Momentum is calculated as follows:

CMtm(price1,price2,q,r,s,u) = EMA(EMA(EMA( cmtm(price1,price2,q) ,r),s),u)

where:

* q - number of bars, used in calculation of q-period Candlestick Momentum;
* price1 - close price;
* price2 - open price q bars ago;
* cmtm(price1,price2,q)=price1-price2[q-1] - q-period Candlestcik Momentum;
* EMA(cmtm(price1,price2,q),r) - 1st smoothing - EMA (r), applied to q-period Candlestick Momentum;
* EMA(EMA(...,r),s) - 2nd smoothing - EMA(s), applied to result of the 1st smoothing;
* EMA(EMA(EMA(...,r),s),u) - 3rd smoothing - EMA(u), applied to result of the 2nd smoothing.

**Input parameters:**

* q - period of Candlestick Momentum Indicator (by default q=1);
* r - period of the 1st EMA, applied to Candlestick Momentum (by default r=20);
* s - period of the 2nd EMA, applied to result of the 1st smoothing (by default s=5);
* u - period of the 3rd EMA, applied to result of the 2nd smoothing (by default u=3);
* AppliedPrice1 - [price type](/en/docs/constants/indicatorconstants/prices) (by default AppliedPrice=PRICE\_CLOSE);
* AppliedPrice2 - [price type](/en/docs/constants/indicatorconstants/prices) (by default AppliedPrice=PRICE\_OPEN).

**Note:**

* q>0;
* r>0, s>0, u>0. If r, s or u are equal to 1, the smoothing is not used;
* Min. rates =(q-1+r+s+u-3+1).

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/377](/ru/code/377)

**[Go to discussion](/en/forum/4138)**

![Ergodic MACD Oscillator  Blau_Ergodic_MACD](https://c.mql5.com/i/code/indicator.png)
[Ergodic MACD Oscillator Blau\_Ergodic\_MACD](/en/code/376)

Ergodic MACD Oscillator by William Blau.

![Moving Averages Convergence/Divergence Indicator Blau_MACD](https://c.mql5.com/i/code/indicator.png)
[Moving Averages Convergence/Divergence Indicator Blau\_MACD](/en/code/375)

Moving Averages Convergence/Divergence Indicator by William Blau.

![Candlestick Momentum Index Blau_CMI](https://c.mql5.com/i/code/indicator.png)
[Candlestick Momentum Index Blau\_CMI](/en/code/378)

Candle Momentum Index (CMI) Indicator by William Blau.

![Candlestick Index Blau_CSI](https://c.mql5.com/i/code/indicator.png)
[Candlestick Index Blau\_CSI](/en/code/379)

Candlestick Index (CSI) Indicator by William Blau.