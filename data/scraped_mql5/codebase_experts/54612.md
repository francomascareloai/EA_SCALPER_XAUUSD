# BollingerBandsEA - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/54612

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/54612) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# BollingerBandsEA - expert for MetaTrader 5

[Igor Widiger](/en/users/deinschanz)  |
[English](javascript:void(false);)

[–†—É—Å—Å–∫–∏–π](/ru/code/54612) [‰∏≠Êñá](/zh/code/54612) [Espa√±ol](/es/code/54612) [Deutsch](/de/code/54612) [Êó•Êú¨Ë™û](/ja/code/54612) [Portugu√™s](/pt/code/54612) [ÌïúÍµ≠Ïñ¥](/ko/code/54612) [Fran√ßais](/fr/code/54612) [Italiano](/it/code/54612) [T√ºrk√ße](/tr/code/54612)

Views:
:   14009

Rating:
:   (4)

Published:
:   1 January 2025, 23:31

Updated:
:   9 January 2025, 17:03
:   [BollingerBandsEA.mq5](/en/code/download/54612/bollingerbandsea.mq5 "BollingerBandsEA.mq5")
    (55.47 KB)
    [view](# "view")

    [BollingerBandsEA\_Ver3.0.mq5](/en/code/download/54612/bollingerbandsea_ver3.0.mq5 "BollingerBandsEA_Ver3.0.mq5")
    (61.29 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/54612.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Update:**

* The positions will only be opened after the bearish or bullish candle.
* Indicators such as Moving Average and Bollinger Bands removed from the chat after closing the EA.
* Small errors with closing the positions after time.

BollingerBandsEA trades according to Bollinger Bands.¬†If the lower line is broken downwards, ES places a buy order and vice versa the sell position.

**The following settings are integrated:**

* Magic number
* Fixed volume
* Procent volume
* Volume type
* Risk for Position
* Lots
* Stoploss in points
* Trading (minutes) begins after session start
* Trading (minutes) end before session
* Close position after indicator
* Allow trailing stop?
* Profit factor (RR) after stop is pulled
* Allow breakeven?
* Profit factor (RR) after stop is pulled
* Close position if it is in minus (after minutes)

[![BollingerBandsEA](https://c.mql5.com/18/158/BollingerBandsEA__1.jpg "BollingerBandsEA")](https://c.mql5.com/18/158/BollingerBandsEA.jpg "https://c.mql5.com/18/158/BollingerBandsEA.jpg")

Please only try in the backtester or demo account!

I hope you have fun trying it out.

PS: There was a typo in the first version. You can download the second version.

Regards, Igor

**Last comments |
[Go to discussion](/en/forum/479003)**
(14)

![Silk Road Trading LLC](https://c.mql5.com/avatar/2025/5/68239006-fc9d.png "Silk Road Trading LLC")

**[Ryan L Johnson](/en/users/rjo)**
|
9 Jan 2025 at 17:01

**Fernando Carreiro [#](/en/forum/479003#comment_55589137):**  
 üòÖ I suggest you reflect on your observation a bit!!!!

Thank you for your advice. I went back to reflect on my observation but all that I found was a note, signed by my observation and dated 2027.

Sorry.üòÖ

![Jianhua Cheng](https://c.mql5.com/avatar/2020/10/5F979E41-6677.png "Jianhua Cheng")

**[Jianhua Cheng](/en/users/jianhuacheng)**
|
11 Jan 2025 at 04:41

**Igor Widiger [#](/en/forum/479003#comment_55588699):**  

Hello Jianhua,

I will do that. But how should the RSI indicator behave?

If below 30 then buy and above 70 sell?

Greetings Igor

PS:¬†In your case, the EA with RSI indicator will trade very rarely.

Hi Igor. What i was thinking   
At oversold bullish, ordered sell is triggered on three conditions 1) bar hits bb n retrace back into Bollinger channel. 2) rsi hits 70. 3) bar has turned bull to bear.  
For taking profit, we can first treat it as the other way round

![Igor Widiger](https://c.mql5.com/avatar/2025/9/68bf6e0a-bbb6.jpg "Igor Widiger")

**[Igor Widiger](/en/users/deinschanz)**
|
12 Jan 2025 at 11:46

**Jianhua Cheng [#](/en/forum/479003/page2#comment_55604176):**  
 Hi Igor. What i was thinking   
At oversold bullish, ordered sell is triggered on three conditions 1) bar hits bb n retrace back into Bollinger channel. 2) rsi hits 70. 3) bar has turned bull to bear.  
For taking profit, we can first treat it as the other way round

Hello Jianhua,

I tried this strategy and found that this strategy has very few setups. Many people will not like that.

Regards Igor

![Jianhua Cheng](https://c.mql5.com/avatar/2020/10/5F979E41-6677.png "Jianhua Cheng")

**[Jianhua Cheng](/en/users/jianhuacheng)**
|
13 May 2025 at 09:57

**Igor Widiger [#](/en/forum/479003#comment_55588699):**  

Hello Jianhua,

I will do that. But how should the RSI indicator behave?

If below 30 then buy and above 70 sell?

Greetings Igor

PS:¬†In your case, the EA with RSI indicator will trade very rarely.

It traded rarely because rsi and the bar does not coincide on the same time period. If we can look at bars within collection of 3-5 bars as a condition in both BB and rsi, we will trade freqeuntly. Let me know if I would like to continue with this project. I do trade manually in this manner, because I m terrible with coding

![Igor Widiger](https://c.mql5.com/avatar/2025/9/68bf6e0a-bbb6.jpg "Igor Widiger")

**[Igor Widiger](/en/users/deinschanz)**
|
13 May 2025 at 12:17

**Jianhua Cheng [#](/en/forum/479003/page2#comment_56687898):**

Hello Jianhua Chen,

Thank you for your comment. You can expand this project as you wish. I just have one request.

Post it in the comments so others can follow suit.

Regards, Igor

![Script to Map Market Watch Symbols Based on Similarity](https://c.mql5.com/i/code/script.png)
[Script to Map Market Watch Symbols Based on Similarity](/en/code/54554)

This script is a reference solution for mapping symbol names configured by users in MetaTrader 5 EAs or scripts to the actual names provided by the broker.
It uses the Levenshtein distance algorithm to automatically identify the most similar symbol in Market Watch.
It is ideal for developers facing compatibility issues with prefixes or suffixes in symbol names.
This is a customizable starting point to adapt to any specific needs.

![Perfect Trailing StopLoss](https://c.mql5.com/i/code/expert.png)
[Perfect Trailing StopLoss](/en/code/54456)

Copy these into any EA you are busy coding and you"ll have a trailing SL.
The only things you'll need to change would probably be InpMagic for your magic number or you could just copy my code as is , Remember to add COrderinfo ord; and CPositionInfo pos;

![Strategy report output into a chart](https://c.mql5.com/i/code/script.png)
[Strategy report output into a chart](/en/code/54706)

This script was developed for displaying saved Strategy report from the Strategy Tester into a chart.

![Candlestick patterns](https://c.mql5.com/i/code/indicator.png)
[Candlestick patterns](/en/code/54723)

This is a indicator displaying candlesticks patterns on a chart.