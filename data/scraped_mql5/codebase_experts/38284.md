# Toggleable Moving Average - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/38284

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/38284) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Toggleable Moving Average - indicator for MetaTrader 5

Copyright 2011, MetaQuotes Software Corp

Published by:
:   [Stefanus Wardoyo](/en/users/stefanuswardoyo)

Views:
:   6814

Rating:
:   (34)

Published:
:   20 February 2022, 02:07

Updated:
:   27 February 2022, 15:59
:   [Custom Moving Average.mq5](/en/code/download/38284/custom_moving_average.mq5 "Custom Moving Average.mq5")
    (15.18 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/38284.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

I search Moving Average that can be hide and shown with button, just like in Trading View, but I cannot found it.

Then I try to modify example of Moving Average code from MQL5 Metaeditor Help, and do some add for button and logic for toggleable the button to show or hide Moving Average.

Just like in Trading View.

For those who need this, please feel free to use or modify for your own requirement.

Press the button for Show / Hide MA as your preference.

[![Toggleable MA](https://c.mql5.com/18/102/toggle-ma__1.jpg "Toggleable MA")](https://c.mql5.com/18/102/toggle-ma.jpg "https://c.mql5.com/18/102/toggle-ma.jpg")

**Last comments |
[Go to discussion](/en/forum/389232)**
(5)

![Stefanus Wardoyo](https://c.mql5.com/avatar/2022/4/6247C11E-194F.png "Stefanus Wardoyo")

**[Stefanus Wardoyo](/en/users/stefanuswardoyo)**
|
20 Feb 2022 at 15:40

Minor revision on 20-02-2022 at 21.39 pm GMT+007

Original code was made an error when the bars < one of ma period defined.

![Sugianto](https://c.mql5.com/avatar/2025/3/67e91163-2c45.jpg "Sugianto")

**[Sugianto](/en/users/forexacademyea)**
|
25 Feb 2022 at 09:55

**Stefanus Wardoyo [#](/en/forum/389232#comment_27832853):**  

Minor revision on 20-02-2022 at 21.39 pm GMT+007

Original code was made an error when the bars < one of ma period defined.

Good Job!

![Rohiko](https://c.mql5.com/avatar/avatar_na2.png "Rohiko")

**[Rohiko](/en/users/rohiko)**
|
28 Feb 2022 at 18:34

Good job, Thank you,

![Mr.](https://c.mql5.com/avatar/2019/10/5DAA9098-3F2F.jpg "Mr.")

**[Mr.](/en/users/j3m3_troa)**
|
11 Jun 2022 at 18:50

**Rohiko [#](/en/forum/389232#comment_28013996):**  
 Good job, Thank you,

Any update from this need the right source code where can i download this please without error

![Flobamora](https://c.mql5.com/avatar/avatar_na2.png "Flobamora")

**[Flobamora](/en/users/flobamora)**
|
5 Sep 2022 at 02:29

Nice Work!! Thank you for this Indi

![Simple Average Volumes](https://c.mql5.com/i/code/indicator.png)
[Simple Average Volumes](/en/code/37237)

Calculates the average volume for EA

![Close All and Support Multi Curencies EA](https://c.mql5.com/i/code/expert.png)
[Close All and Support Multi Curencies EA](/en/code/38269)

Single Currency or Manual orders Closing or deleting sections are very easy to understand but if you have a question you leave it at comment section. The code check for Comment to detect the Orders to close or delete for multi currencies EA in case the input EAComment is empty It will close according to type of close. It supports prefix or suffix of EA Comment. Many options can be added if you are interested on developping it more you can leave your suggestion on comment section.

![Long and Short Stepped Grid Trade](https://c.mql5.com/i/code/expert.png)
[Long and Short Stepped Grid Trade](/en/code/38300)

Proportional grid distance, open long and short orders at the same time, skip two grids to take profit; When the equity recaches the take profit of setting, close all positions and restart.

![MA Grid Trade](https://c.mql5.com/i/code/expert.png)
[MA Grid Trade](/en/code/38303)

Around the moving average index to set grid.