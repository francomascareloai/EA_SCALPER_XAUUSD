# Bullish and Bearish Engulfing - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/18487

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/18487) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Bullish and Bearish Engulfing - expert for MetaTrader 5

[Vladimir Karputov](/en/users/barabashkakvn)  |
[English](javascript:void(false);)

[Русский](/ru/code/18487) [中文](/zh/code/18487) [Español](/es/code/18487) [Deutsch](/de/code/18487) [日本語](/ja/code/18487) [Português](/pt/code/18487)

Views:
:   24211

Rating:
:   (26)

Published:
:   10 August 2017, 12:34

Updated:
:   26 June 2018, 13:14
:   [Bullish and Bearish Engulfing.mq5](/en/code/download/18487/bullish_and_bearish_engulfing.mq5 "Bullish and Bearish Engulfing.mq5")
    (25.03 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/18487.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The EA trades based on the "Bullish and Bearish Engulfing" pattern.

Inputs:

* Bullish Engulfing — the type of the position that should be opened when there is "Bullish Engulfing"
* Bearish Engulfing — the type of the position that should be opened when there is "Bearish Engulfing"
* Risk in percent for a deal — risk per trade (position volume calculation)
* Shift in bars (from 1 to 255) — horizontal shift in bars
* Distance (in pips) — distance parameter (see the below image for details)
* true -> close opposite positions — reverse of a given position
* magic number

![Bullish and Bearish Engulfing](https://c.mql5.com/18/59/Bullish_and_Bearish_Engulfing.png "Bullish and Bearish Engulfing")

![Bullish and Bearish Engulfing shift](https://c.mql5.com/18/59/Bullish_and_Bearish_Engulfing_shift.png "Bullish and Bearish Engulfing shift")

![Bullish and Bearish Engulfing distance](https://c.mql5.com/18/59/Bullish_and_Bearish_Engulfing_big.png "Bullish and Bearish Engulfing distance")

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/18487](/ru/code/18487)

**Last comments |
[Go to discussion](/en/forum/213127)**
(23)

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
3 May 2021 at 06:26

**AS N :**  
 Question, what does reverse in the settings refer to?

There is no reverse in the settings:

![](https://c.mql5.com/3/354/5834340404708.png)

![Elector's Name Giridhar Reddy](https://c.mql5.com/avatar/2021/5/609C4C8B-07FC.jpg "Elector's Name Giridhar Reddy")

**[Elector's Name Giridhar Reddy](/en/users/analysissensein)**
|
4 Aug 2021 at 18:55

**Vladimir Karputov:**  

There is no reverse in the settings:

  

Can you please post the ex5 file of the first version and second.

Getting lot of errors with the code and i am unable to compile it

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
4 Aug 2021 at 18:58

**AnalysisSense Intraday :**  
   

Can you please post the ex5 file of the first version and second.

Getting lot of errors with the code and i am unable to compile it

I [checked](https://www.mql5.com/en/docs/integration/python_metatrader5/mt5ordercalcmargin_py "MQL5 Documentation: order_calc_margin function") version 1.005 - there are no errors.

![S3RAG3](https://c.mql5.com/avatar/2020/11/5FB1805A-5C3B.png "S3RAG3")

**[S3RAG3](/en/users/serage)**
|
20 Jan 2022 at 06:25

Hi Vladimir. Can you please add lot size and takeprofit? This ea has great potential.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
20 Jan 2022 at 07:59

**SHAAN ROSSOUW [#](/en/forum/213127/page2#comment_27184709) :**  
 Hi Vladimir. Can you please add lot size and takeprofit? This ea has great potential.

Have you watched version 2? ( [Bullish and Bearish Engulfing 2](/ru/code/24546) )

![Size of candles 2 (text)](https://c.mql5.com/i/code/indicator.png)
[Size of candles 2 (text)](/en/code/18483)

The size of a candlestick. The size is calculated by the following formula: "minuend" minus "deduction".

![RSI Arrow](https://c.mql5.com/i/code/indicator.png)
[RSI Arrow](/en/code/18473)

The indicator displays Wingdings arrows when RSI crosses UP and DOWN levels.

![Color_PEMA_Digit](https://c.mql5.com/i/code/indicator.png)
[Color\_PEMA\_Digit](/en/code/18488)

A moving average with the five-fold EMA averaging. It displays the most recent value as a price label with the possibility to round the indicator levels up to a required number of digits.

![Color_QEMA_Digit](https://c.mql5.com/i/code/indicator.png)
[Color\_QEMA\_Digit](/en/code/18489)

A moving average with the four-fold EMA averaging. It displays the most recent value as a price label with the possibility to round the indicator levels up to a required number of digits.