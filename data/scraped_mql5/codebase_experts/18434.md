# Exp_ColorXMUV_Tm - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/18434

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/18434) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Exp\_ColorXMUV\_Tm - expert for MetaTrader 5

[Nikolay Kositsin](/en/users/godzilla)  |
[English](javascript:void(false);)

[Русский](/ru/code/18434) [中文](/zh/code/18434) [Español](/es/code/18434) [Deutsch](/de/code/18434) [日本語](/ja/code/18434) [Português](/pt/code/18434)

Views:
:   2722

Rating:
:   (16)

Published:
:   10 August 2017, 10:31

Updated:
:   29 March 2023, 13:48
:   \MQL5\Experts\

    [Exp\_ColorXMUV\_Tm.mq5](/en/code/download/18434/Exp_ColorXMUV_Tm.mq5 "Exp_ColorXMUV_Tm.mq5")
    (18.56 KB)
    [view](# "view")

    \MQL5\Include\

    [SmoothAlgorithms.mqh](/en/code/download/18434/SmoothAlgorithms.mqh "SmoothAlgorithms.mqh")
    (130.2 KB)
    [view](# "view")

    [TradeAlgorithms.mqh](/en/code/download/18434/TradeAlgorithms.mqh "TradeAlgorithms.mqh")
    (185.34 KB)
    [view](# "view")

    \MQL5\Indicators\

    [ColorXMUV.mq5](/en/code/download/18434/ColorXMUV.mq5 "ColorXMUV.mq5")
    (14.64 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/18434.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The Exp\_ColorXMUV\_Tm Expert Advisor is based on the [ColorXMUV](/en/code/18090/165401#!tab=code "ColorXMUV - indicator for MetaTrader 5") MA signals and provides the possibility to set a fixed trading time interval.

A trade signal is formed when a bar is closing, if the indicator color has changed.

It is possible to specify trading time in input parameters to trade in the specified time interval:

```mql5
input bool   TimeTrade=true;      //Allow trading in the specified interval
input HOURS  StartH=ENUM_HOUR_0;  //Trading start (hours)
input MINUTS StartM=ENUM_MINUT_0; //Trading start (minutes)
input HOURS  EndH=ENUM_HOUR_23;   //Trading end (hours)
input MINUTS EndM=ENUM_MINUT_59;  //Trading end (minutes) 
```

Two variables (hours and minutes) are provided for the operation start time, and two similar variable for the end time.

Default settings enable the Expert Advisor to trade the whole trading session from 0:00, while all positions are closed at 23:59.

If the start time is later than the specified end time, the Expert Advisor will close positions the next day, at the specified time.

For a correct operation of the Expert Advisor, you should save the ColorXMUV.ex5 compiled indicator file to <terminal\_data\_folder>\MQL5\Indicators.

Note that the TradeAlgorithms.mqh library file allows using Expert Advisors with brokers who offer **nonzero spread** and the option of setting Stop Loss and Take Profit **during position opening**. You can download more variants of the library at the following link: [Trade Algorithms](/en/code/1578 "TradeAlgorithms - Library for MetaTrader 5").

Default input parameters of the Expert Advisor were used during the tests shown below. Stop Loss and Take Profit were not used during testing.

![Fig. 1. Examples of deals on the chart](https://c.mql5.com/18/59/7TesterGraph.png "Fig. 1. Examples of deals on the chart")

Fig. 1. Examples of deals on the chart

Testing results for 2015 at GBPUSD H2:

![Fig. 2. Testing results chart](https://c.mql5.com/18/59/qTesterGraphReport__1.png "Fig. 2. Testing results chart")

Fig. 2. Testing results chart

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/18434](/ru/code/18434)

**Last comments |
[Go to discussion](/en/forum/213100)**
(2)

![Grozir](https://c.mql5.com/avatar/avatar_na2.png "Grozir")

**[Grozir](/en/users/grozir)**
|
10 Dec 2019 at 19:34

I downloaded a fresh terminal and installed the programme. I put the files into folders. I run it, it does not compile automatically.

I opened it through the MethodEditor. After compilation.

It gives 36 errors. Starting with

'Exp\_ColorXMUV\_Tm.mq5' Exp\_ColorXMUV\_Tm.mq5 1 1  
'TradeAlgorithms.mqh' TradeAlgorithms.mqh 1 1   
'SmoothAlgorithms.mqh' SmoothAlgorithms.mqh 1 1  
'Smooth\_Method' - [declaration without](https://www.mql5.com/en/docs/matrix/matrix_initialization "MQL5 Documentation: Matrix and vector initialization") type SmoothAlgorithms.mqh 537 18

etc.

What am I doing wrong? Give me a hint.

![John Peterson](https://c.mql5.com/avatar/2020/10/5F84CD09-645C.png "John Peterson")

**[John Peterson](/en/users/johnpeterson)**
|
14 Oct 2020 at 15:48

**Grozir:**  

I downloaded a fresh terminal and installed the programme. I put the files into folders. I run it, it does not compile automatically.

I opened it through the MethodEditor. After compilation.

It gives 36 errors. Starting with

'Exp\_ColorXMUV\_Tm.mq5' Exp\_ColorXMUV\_Tm.mq5 1 1  
'TradeAlgorithms.mqh' TradeAlgorithms.mqh 1 1   
'SmoothAlgorithms.mqh' SmoothAlgorithms.mqh 1 1  
'Smooth\_Method' - declaration without type SmoothAlgorithms.mqh 537 18   
'Method' - comma expected SmoothAlgorithms.mqh 537 32   
'Smooth\_Method' - declaration without type Exp\_ColorXMUV\_Tm.mq5 66 7  
'XMA\_Method' - undeclared identifier Exp\_ColorXMUV\_Tm.mq5 86 64   
'XMA\_Method' - undeclared identifier Exp\_ColorXMUV\_Tm.mq5 97 33   
'Method' - undeclared identifier SmoothAlgorithms.mqh 540 11   
'Method' - illegal switch expression type SmoothAlgorithms.mqh 540 11

etc.

What am I doing wrong? Give me a hint.

if it's still relevant

https://www.mql5.com/en/forum/171470#comment\_18744405

![RBVI_Histogram_HTF](https://c.mql5.com/i/code/indicator.png)
[RBVI\_Histogram\_HTF](/en/code/18427)

The RBVI\_Histogram indicator with the timeframe selection option available in the indicator input parameters.

![H_L_](https://c.mql5.com/i/code/indicator.png)
[H\_L\_](/en/code/18426)

A redrawing channel having two upper and two lower borders. Its algorithm is similar to a zigzag.

![DeltaForce](https://c.mql5.com/i/code/indicator.png)
[DeltaForce](/en/code/18435)

Two histograms in one window showing the degree of the financial asset's overbought or oversold state.

![NRTR_ATR_STOP_HTF](https://c.mql5.com/i/code/indicator.png)
[NRTR\_ATR\_STOP\_HTF](/en/code/18436)

The NRTR\_ATR\_STOP indicator with the timeframe selection option available in the indicator input parameters.