# RSI and Bollinger Bands - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/18255

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/18255) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# RSI and Bollinger Bands - expert for MetaTrader 5

fortrader.ru  |
[English](javascript:void(false);)

[Русский](/ru/code/18255) [中文](/zh/code/18255) [Español](/es/code/18255) [Deutsch](/de/code/18255) [日本語](/ja/code/18255) [Português](/pt/code/18255)

Published by:
:   [Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   17940

Rating:
:   (50)

Published:
:   29 May 2017, 16:13

Updated:
:   26 June 2018, 14:33
:   [RSI and Bollinger Bands.mq5](/en/code/download/18255/rsi_and_bollinger_bands.mq5 "RSI and Bollinger Bands.mq5")
    (37.36 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/18255.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Author of the idea** — [Anton](/en/users/bfe2006 "Anton (bfe2006)"), **author of the MQL5 code** — [barabashkakvn](/en/users/barabashkakvn).

A trading strategy based on RSI and Bollinger Bands. Bollinger Bands is calculated using the RSI indicator handle. Trailing stop is determined using the SAR indicator (Parabolic SAR).

1. RSI breaks the upper Bollinger Band.
2. The price must be below the fractal level.
3. A buy signal is generated when the price breaks through the fractal level.
4. A position is trailed based on Parabolic values.
5. Canceling a deal — if an order has not yet triggered, and RSI moved below the level of 30, a buy order should be deleted.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/18255](/ru/code/18255)

**Last comments |
[Go to discussion](/en/forum/193661)**
(14)

![Pavel Buglak](https://c.mql5.com/avatar/avatar_na2.png "Pavel Buglak")

**[Pavel Buglak](/en/users/pavelbuglak)**
|
18 Oct 2017 at 19:19

Thanks for the answer.

It's a shame you don't want to finish it.

So far I have figured out how to use this code.

1) I took and commented out the fragment in your code responsible for opening trades upwards and called it "....\_short", i.e. opening trades downwards only.

I did the same for up trades and saved it to another file called ".....\_long".

2) Next, I opened a 30 minute time chart for 20 currency pairs.

3) The trend direction of each currency pair at the moment I look at the weekly Parabolic chart for that currency pair.

4) I put the Expert Advisor "....\_short" or ".....\_long" into the strategy tester, depending on the trend of the currency pair at the moment.

5) On the weekly chart, I choose the period when the rate of this currency pair was rising or falling (the longer the period, the better).

6) [I run optimisation](https://www.metatrader5.com/en/terminal/help/algotrading/strategy_optimization "Help: Optimising Expert Advisors in the MetaTrader 5 trading terminal") for this particular period of falling or rising of the currency pair.

7) I enter the obtained data into the parameters of your EA ("....\_short" or ".....\_long") and start trading this currency pair on a demo account.

At the moment I have already modified about 14 currency pairs in this way (out of 20 currency pairs).

Several positions have already been opened and now all of them are TRADING IN PLUS!!!!

I'll trade for a week or two, I'll see...

And if everything goes well, then maybe I can earn a little :)

So think about it, maybe you can still modernise your excellent Expert Advisor....

![Pavel Buglak](https://c.mql5.com/avatar/avatar_na2.png "Pavel Buglak")

**[Pavel Buglak](/en/users/pavelbuglak)**
|
18 Oct 2017 at 19:28

Just in case, here's my e-mail: \*\*\*

I will be glad to test your new developments or modernised version of this EA.

P.S. Regarding how exactly to determine the trend direction by [Parabolic](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/psar "MetaTrader 5 Help: Parabolic SAR Indicator"), you should consult other experts or look at the codes of other Parabolic-based Expert Advisors. Unfortunately, I am not an expert in programming.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
19 Oct 2017 at 08:43

**Pavel Buglak:**  

Thanks for the answer.

It's a shame you don't want to finish it.

So far I have figured out how to use this code.

1) I took and commented out the fragment in your code responsible for opening trades upwards and called it "....\_short", i.e. opening trades downwards only.

I did the same for up trades and saved it to another file called ".....\_long".

2) Next, I opened a 30 minute time chart for 20 currency pairs.

3) The trend direction of each currency pair at the moment I look at the weekly Parabolic chart for that currency pair.

4) I put the Expert Advisor "....\_short" or ".....\_long" into the strategy tester, depending on the trend of the currency pair at the moment.

5) On the weekly chart, I choose the period when the rate of this currency pair was rising or falling (the longer the period, the better).

6) [I run optimisation](https://www.metatrader5.com/en/terminal/help/algotrading/strategy_optimization "Help: Optimising Expert Advisors in the MetaTrader 5 trading terminal") for this particular period of falling or rising of the currency pair.

7) I enter the obtained data into the parameters of your EA ("....\_short" or ".....\_long") and start trading this currency pair on a demo account.

At the moment I have already modified about 14 currency pairs in this way (out of 20 currency pairs).

Several positions have already been opened and now all of them are TRADING IN PLUS!!!!

I'll trade for a week or two, I'll see...

And if everything goes well, then maybe I can earn a little :)

So think, maybe you can still modernise your excellent Expert Advisor....

  

Instead of creating TWO Expert Advisors ("....\_short" or ".....\_long"), you can introduce separate parameters for Buy and Sell signals.

![Papa Prabu](https://c.mql5.com/avatar/avatar_na2.png "Papa Prabu")

**[Papa Prabu](/en/users/papaprabu)**
|
15 Oct 2018 at 22:23

how to use it into mt4 ? tq

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
16 Oct 2018 at 06:18

**Papa Prabu :**   
 how to use it into mt4 ? tq

Read carefully:

![](https://c.mql5.com/3/241/2018-10-16_07h16_29.png)

![Vector](https://c.mql5.com/i/code/expert.png)
[Vector](/en/code/18251)

An Expert Advisor for 4 currency pairs, including EURUSD, GBPUSD, USDCHF and USDJPY. It is based on four-hour moving averages.

![OscSAR_Histogram](https://c.mql5.com/i/code/indicator.png)
[OscSAR\_Histogram](/en/code/18204)

The oscillator is drawn as a colored histogram based on the difference between the Close price and the iSAR indicator, expressed in points.

![All information about the symbol](https://c.mql5.com/i/code/expert.png)
[All information about the symbol](/en/code/18262)

All information about the current symbol (information from the CSymbolInfo class object is used) represented as a dialog panel.

![Size of candles (text)](https://c.mql5.com/i/code/indicator.png)
[Size of candles (text)](/en/code/18269)

The size of a candlestick. The size is calculated by the following formula: "minuend" minus "deduction".