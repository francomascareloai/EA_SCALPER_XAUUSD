# Commodity Channel Index (CCI) - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/18

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/18) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Commodity Channel Index (CCI) - indicator for MetaTrader 5

[MetaQuotes](/en/users/metaquotes)  |
[English](javascript:void(false);)

[Русский](/ru/code/18) [中文](/zh/code/18) [Español](/es/code/18) [Deutsch](/de/code/18) [日本語](/ja/code/18) [Português](/pt/code/18) [한국어](/ko/code/18) [Français](/fr/code/18) [Italiano](/it/code/18) [Türkçe](/tr/code/18)

Views:
:   25429

Rating:
:   (41)

Published:
:   26 January 2010, 11:08

Updated:
:   22 November 2016, 07:32
:   [cci.mq5](/en/code/download/18/cci.mq5 "cci.mq5")
    (3.65 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/18.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

[Commodity Channel Index](https://www.metatrader5.com/en/terminal/help/indicators/oscillators/cci) technical indicator (CCI) measures the deviation of the commodity price from its average statistical price.

High values of the index point out that the price is unusually high being compared with the average one, and low values show that the price is too low. In spite of its name, the Commodity Channel Index can be applied for any financial instrument, and not only for the commodities.

There are two basic techniques of using Commodity Channel Index:

1. **Finding the divergences**. The divergence appears when the price reaches a new maximum, and Commodity Channel Index can not grow above the previous maximums. This classical divergence is normally followed by the price correction.
2. **As an indicator of overbought/oversold states of the market**. Commodity Channel Index usually varies in the range of ±100. Values above +100 inform about overbought state (and about a probability of correction), and the values below 100 indicates the oversold state (and about a probability of price increase).

![Commodity Channel Index indicator](https://c.mql5.com/18/0/cci.png "Commodity Channel Index indicator")

Commodity Channel Index indicator

**Calculation:**

1. To find a Typical Price. You need to add the HIGH, the LOW, and the CLOSE prices of each bar and then divide the result by 3:

TP = (HIGH + LOW + CLOSE) / 3

2. To calculate the n-period [Simple Moving Average](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma) of Typical Prices:

SMA (TP, N) = SUM (TP, N) / N

3. To subtract the received SMA(TP, N) from Typical Prices of each of preceding n periods:

D = TP - SMA (TP, N)

4.To calculate the n-period Simple Moving Average of absolute D values:

SMA (D, N) = SUM (D, N) / N

5. To multiply the received SMA(D, N) by 0,015:

M = SMA (D, N) \* 0,015

6. To divide M by D:

CCI = M / D

where:

* HIGH - maximum bar price;
* LOW - minimum bar price;
* CLOSE - close price;
* SMA - [Simple Moving Average](https://www.metatrader5.com/en/terminal/help/indicators/trend_indicators/ma);
* SUM - sum;
* N - number of periods used for calculation.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/18](/ru/code/18)

**Last comments |
[Go to discussion](/en/forum/219)**
(2)

![Sergey Golubev](https://c.mql5.com/avatar/2012/12/50D09349-3D90.jpg "Sergey Golubev")

**[Sergey Golubev](/en/users/newdigital)**
|
30 Aug 2013 at 11:45

[Commodity Channel Index (CCI) Indicator](/go?link=http://www.tradeforextrading.com/index.php/commodity-channel-index "http://www.tradeforextrading.com/index.php/commodity-channel-index")

![Kang Feng](https://c.mql5.com/avatar/2020/6/5EF7A31F-714A.jpg "Kang Feng")

**[Kang Feng](/en/users/tickfenix)**
|
7 Mar 2019 at 07:24

Step 6.

it should be:

CCI = D / M

![BW-ZoneTrade](https://c.mql5.com/i/code/indicator.png)
[BW-ZoneTrade](/en/code/17)

The Indicator paints the bars according to the Trade Zones, as proposed by Bill Williams.

![Bears Power](https://c.mql5.com/i/code/indicator.png)
[Bears Power](/en/code/15)

The Bears Power Indicator measures the balance of the bears strength.

![Chaikin Oscillator (CHO)](https://c.mql5.com/i/code/indicator.png)
[Chaikin Oscillator (CHO)](/en/code/19)

The Chaikin's Oscillator (CHO) is the difference of moving averages of Accumulation/Distribution.

![Chaikin Volatility (CHV)](https://c.mql5.com/i/code/indicator.png)
[Chaikin Volatility (CHV)](/en/code/20)

Chaikin's volatility indicator calculates the spread between the maximum and minimum prices. It judges the value of volatility basing on the amplitude between the maximum and the minimum. Unlike Average True Range, Chaikin's indicator doesn't take gaps into account.