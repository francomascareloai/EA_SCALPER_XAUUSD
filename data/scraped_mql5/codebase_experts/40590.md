# News Detector for both Mt4 and Mt5 - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/40590

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/40590) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# News Detector for both Mt4 and Mt5 - expert for MetaTrader 5

[Muhammad Haris](/en/users/mhrs.1193-gmail)

Views:
:   15364

Rating:
:   (56)

Published:
:   9 September 2022, 15:44

Updated:
:   9 September 2022, 22:03
:   [News\_Template\_Universal.mq5](/en/code/download/40590/news_template_universal.mq5 "News_Template_Universal.mq5")
    (36.11 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/40590.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

[![News Template](https://c.mql5.com/18/105/Screen_Shot_2022-09-10_at_12.14.34_AM__1.png "News Template")](https://c.mql5.com/18/105/Screen_Shot_2022-09-10_at_12.14.34_AM.png "https://c.mql5.com/18/105/Screen_Shot_2022-09-10_at_12.14.34_AM.png")

The same code can be compiled in mt4 as well. It gets News from FXStreet servers automatically which can be further filtered by importance level, Currency and Keyword in the News.

Mt4 version can be found here:

[https://www.mql5.com/en/code/40598](/en/code/40598)

 Salient features of the code:

 -Filter News by High, Low or Medium Volatility

 -Filter By currencies

 -Filter by News Keyword

 -Auto GMT offset check

 -Dashboard to show upcoming News (Can be enabled or disabled)

 -Lines on chart for all Upcoming events

 -Code can be easily modified to place trade at certain time before or after an event or to just stop trading during events.

**Last comments |
[Go to discussion](/en/forum/432335)**
(5)

![Sniper B3](https://c.mql5.com/avatar/2022/8/6306C08D-D3D3.jpg "Sniper B3")

**[Sniper B3](/en/users/sniperb3s)**
|
14 Sep 2022 at 04:25

For it to be good, you can't focus on pairs and on assets, ideally, it gets the news just by the level of criticality or we can choose countries, then yes it would be excellent, the less variables you have put in the EA the better.

![Manpreet Singh](https://c.mql5.com/avatar/2021/5/60A98312-82E8.jpg "Manpreet Singh")

**[Manpreet Singh](/en/users/9210934041)**
|
21 Dec 2022 at 13:14

Hello,

How we can add a more feature to this code to [send notification to mobile](https://www.mql5.com/en/docs/network/sendnotification "MQL5 documentation: SendNotification function") before any news event ?

![Ridwan Salahudin](https://c.mql5.com/avatar/2020/8/5F3FED7E-7177.jpg "Ridwan Salahudin")

**[Ridwan Salahudin](/en/users/ridwansalahudin)**
|
3 Jan 2024 at 11:20

why there's no object, alerts or error messege on my mt5 ?...

![]()

![Ahmad Kazemi](https://c.mql5.com/avatar/2025/6/68431bb2-2a6e.png "Ahmad Kazemi")

**[Ahmad Kazemi](/en/users/ahmadkazemi.n2013)**
|
16 Feb 2024 at 09:07

Hello, dear friend, thank you for your code, it was great

How can I use this code in Metatrader 5 in [backtest](https://www.mql5.com/en/articles/2612 "Article: Testing trading strategies on real ticks ")?

In fact, I want to check the news in the market history on the strategy test, it gives this warning

2024.02.16 11:36:50.221 2022.01.03 01:07:21 ERROR\_TXT IN WebRequest

![Culture Capital Ltd.](https://c.mql5.com/avatar/2017/9/59CC4F89-962B.jpg "Culture Capital Ltd.")

**[Mark Lewis](/en/users/culturecapital)**
|
16 Jul 2024 at 10:51

the GMT offset remains in UTC for me, even though my broker us GMT+3. even going into the code and forcing the variable TIME\_CORRECTION to a different value makes no difference, it still draws in UTC. I'm using IC markets, which is UTC+3 with US DST shift schedule.

![Price Horizontal Line Notifications](https://c.mql5.com/i/code/indicator.png)
[Price Horizontal Line Notifications](/en/code/40573)

Get notifications when hit price level

![Equity Trailing EA MT5](https://c.mql5.com/i/code/expert.png)
[Equity Trailing EA MT5](/en/code/40566)

This EA started off as a job to trail equity. I then added the function of managing individual trades.
Thereafter I added the facility of manually putting the price of when it can send a grid of pending order's.
This EA does not have condition set in it to open trades. You have to determine that if market moves to an area you
believe you would open a grid of orders if you were by your computer watching the market. No what this EA helps is
you wake up in the morning you see the area you a grid to open. PUT THE PRICE FOR THE EA TO OPEN A GRID OF PENDING ORDERS.
If the market reaches the area price you have set. The EA will send the grid and will manage those trades putting Stop Loss (if you set it)
trailing(if you set it). Today 13 Sep 2022 the EA generates has NO ERROR when compiled

![The Restoring Pull Indicator](https://c.mql5.com/i/code/indicator.png)
[The Restoring Pull Indicator](/en/code/40786)

The Restoring Pull Indicator was created by John Ehlers (Stocks & Commodities V.11:10 (395-400))

![CSV Exporter](https://c.mql5.com/i/code/expert.png)
[CSV Exporter](/en/code/41254)

Automatically export csv file