# VR System Test - script for MetaTrader 4

Source: https://www.mql5.com/en/code/14178

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/14178) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# VR System Test - script for MetaTrader 4

[Vladimir Pastushak](/en/users/voldemar)  |
[English](javascript:void(false);)

[Русский](/ru/code/14178) [Español](/es/code/14178) [Deutsch](/de/code/14178) [日本語](/ja/code/14178) [Português](/pt/code/14178)

Views:
:   8451

Rating:
:   (25)

Published:
:   8 December 2015, 13:50

Updated:
:   18 January 2016, 08:13
:   [vr\_system\_test.mq4](/en/code/download/14178/vr_system_test.mq4 "vr_system_test.mq4")
    (56.36 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/14178.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

I often wondered and asked questions on the forum: "Which computer to
choose for maximum performance of the MetaTrader 4 and MetaTrader 5
Terminals?" This question is interesting to many at the time of an
upgrade or a purchase of a new PC with a focus on the performance of the
MetaTrader, which is better to buy? Intel-based or AMD? How many and
what kind of RAM should there be? Which motherboard? Which drive to
select for data storage: SSD or HDD ?

Developers praise the performance and super speeds of the МetaТrader 5
Terminal, but how does a usual trader or an amateur programmer check
the developers' words himself? Write some code? But which? What to check
with? How to compare the performances of МetaТrader 4 and МetaТrader 5
at all?

Anyway, I thought about it for a while and decided to write a tester
script to check the performance of the PC and the MetaTrader 4 and
MetaTrader 5 terminals.

Part of the code is taken from the [Testing the new MQL5 compiler for x64 platforms - speed up calculations from 2 to 10 times!](/en/forum/68087) topic.

All I did was combine the codes of all the tests into a single script
and add all these codes via a class, i.e. the script tests the PC and
the terminals in two types of programming: procedural and OOP. I also
added a few tests related to rendering of graphical objects, their
displacement and deletion, plus handling CCanvas class test, plus the
measurement of CopyRates function operation speed when copying 1 000 000
minute bars. 45 tests in total.

Additionally, honesty of VPS and VDS hosters can be checked using the script (by comparing performance on test periods).

You are welcome to take part in testing
your PC by my example. I ran this test on my PC at maximum performance
with empty startup.

The principle of operation of the script:
once started, the script runs tests step by step, creates and deletes
everything needed for the test, and finally opens a results table by
itself.

My work PC:

* OS name:     Windows 10 Pro
* Type:           Computer based on x64
* CPU: AMD Phenom(tm) II X6 1100T Processor, 3311 MHz, cores: 6, logical processors: 6
* RAM:          8,00 GB
* Drive:         SSD Model OCZ-AGILITY3 90 GB

This is the result:

|  | MT4 | MT5 |  | How many times МТ5 is faster |
| --- | --- | --- | --- | --- |
| ===TERMINAL INFO=== | 0 | 0 |  |  |
| TERMINAL\_BUILD | 902 | 1210 | Build |  |
| TERMINAL\_CPU\_CORES | 6 | 6 | Cores |  |
| TERMINAL\_DISK\_SPACE | 14228 | 14134 | Mb |  |
| TERMINAL\_MEMORY\_PHYSICAL | 8107 | 8107 | Mb |  |
| TERMINAL\_MEMORY\_TOTAL | 4095 | 16214 | Mb |  |
| TERMINAL\_MEMORY\_AVAILABLE | 3737 | 0 | Mb |  |
| TERMINAL\_MEMORY\_USED | 358 | 33245 | Mb |  |
| ===TEST=== | 0 | 0 |  |  |
| Test Ackermann | 2406 | 0 | MilSek | Absolute \* |
| Test Ackermann OOP | 2969 | 0 | MilSek | Absolute |
| Test Arrays | 21422 | 297 | MilSek | 72,13 |
| Test Arrays OOP | 7312 | 437 | MilSek | 16,73 |
| Test BubbleSort | 13422 | 672 | MilSek | 19,97 |
| Test BubbleSort OOP | 4297 | 656 | MilSek | 6,55 |
| Test Call | 969 | 0 | MilSek | Absolute |
| Test Call OOP | 906 | 0 | MilSek | Absolute |
| Test Fibo | 2594 | 0 | MilSek | Absolute |
| Test Fibo OOP | 2656 | 0 | MilSek | Absolute |
| Test Float | 2359 | 0 | MilSek | Absolute |
| Test Float OOP | 2516 | 0 | MilSek | Absolute |
| Test Matrix | 20969 | 672 | MilSek | 31,20 |
| Test Matrix OOP | 7984 | 656 | MilSek | 12,17 |
| Test Moments | 7578 | 5578 | MilSek | 1,36 |
| Test Moments OOP | 7266 | 5594 | MilSek | 1,30 |
| Test NestedLoop | 5672 | 0 | MilSek | Absolute |
| Test NestedLoop OOP | 6015 | 0 | MilSek | Absolute |
| Test PiCalculate | 12000 | 3515 | MilSek | 3,41 |
| Test PiCalculate OOP | 11953 | 3500 | MilSek | 3,42 |
| Test QuickSort | 11734 | 2110 | MilSek | 5,56 |
| Test QuickSort OOP | 12782 | 1234 | MilSek | 10,36 |
| Test Random | 3297 | 516 | MilSek | 6,39 |
| Test Random OOP | 3203 | 531 | MilSek | 6,03 |
| Test Sieve | 18828 | 1078 | MilSek | 17,47 |
| Test Sieve OOP | 18890 | 1094 | MilSek | 17,27 |
| Test StrCat | 47 | 1578 | MilSek | 0,03 |
| Test StrCat OOP | 47 | 1766 | MilSek | 0,03 |
| Test String | 250 | 437 | MilSek | 0,57 |
| Test String OOP | 235 | 453 | MilSek | 0,52 |
| Test StrPrep | 5406 | 1922 | MilSek | 2,81 |
| Test StrPrep OOP | 5500 | 1938 | MilSek | 2,84 |
| Test StrRev | 6719 | 4265 | MilSek | 1,58 |
| Test StrRev OOP | 7125 | 4297 | MilSek | 1,66 |
| Test StrSum | 5843 | 3922 | MilSek | 1,49 |
| Test StrSum OOP | 5844 | 3984 | MilSek | 1,47 |
| Test ObjectCreate | 63 | 157 | MilSek | 0,40 |
| Test ObjectMove | 46 | 343 | MilSek | 0,13 |
| Test ObjectDelete | 579 | 0 | MilSek | Absolute |
| Test ObjectCreate OOP | 46 | 125 | MilSek | 0,37 |
| Test ObjectMove OOP | 63 | 328 | MilSek | 0,19 |
| Test ObjectDelete OOP | 547 | 0 | MilSek | Absolute |
| Test CopyRates | 94 | 0 | MilSek | Absolute |
| Test Canvas | 30078 | 28047 | MilSek | 1,07 |
| Test Print(Hello, world!!!) | 1047 | 7453 | MilSek | 0,14 |
| Test Final | 281594 | 89609 | MilSek | 3,14 |

\* Absolute — absolute superiority of MetaTrader 5.

[Version for МetaТrader 5](/en/code/14179)

```mql5
// Important!!! It is not recommended to make changes to the script without understanding the consequences.
// The script is designed to evaluate the performance of the computer (Tablet, Desktop/Stationary, VPS/VDS servers, Servers).
// The script evaluated the computer in 45 tests of different focus in the two types of programming: OOP and procedural.
// Part of the codes was taken from open sources https://www.mql5.com/en/forum/68087   Author: Renat Fatkhullin
// Program put together by Vladimir Pastushak     https://www.mql5.com/en/users/voldemar
// Main performance indicator - time. The less time calculations required, the more productive are the computer and the МetaТrader Terminal.
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/14178](/ru/code/14178)

**[Go to discussion](/en/forum/68400)**

![ZigZag Dual Buffer](https://c.mql5.com/i/code/indicator.png)
[ZigZag Dual Buffer](/en/code/14331)

This ZigZag indicator uses dual buffers to store high and low points.

![Levels with Revolve](https://c.mql5.com/i/code/expert.png)
[Levels with Revolve](/en/code/14205)

EA opens trades from support and resistance levels, which were set by a trader, and revolves them at another levels.

![Simple Max-Min Channel with Slope](https://c.mql5.com/i/code/indicator.png)
[Simple Max-Min Channel with Slope](/en/code/14316)

Just a Donchian channel with slope. If xslope=0 it becomes the Donchian channel. It uses the moving average of Momentum.

![Buying and Selling at the Same Time](https://c.mql5.com/i/code/expert.png)
[Buying and Selling at the Same Time](/en/code/14371)

This EA implements a grid strategy by placing buy and sell orders at the same time.