# Trend Zigzag (on ma cross) - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/57302

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/57302) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Trend Zigzag (on ma cross) - indicator for MetaTrader 5

[Conor Mcnamara](/en/users/phade)  |
[English](javascript:void(false);)

[Русский](/ru/code/57302) [中文](/zh/code/57302) [Español](/es/code/57302) [Deutsch](/de/code/57302) [日本語](/ja/code/57302) [Português](/pt/code/57302) [한국어](/ko/code/57302) [Français](/fr/code/57302) [Italiano](/it/code/57302) [Türkçe](/tr/code/57302)

Views:
:   4899

Rating:
:   (8)

Published:
:   20 March 2025, 15:08

Updated:
:   20 March 2025, 19:49
:   [Zigzag on macross.mq5](/en/code/download/57302/zigzag_on_macross.mq5 "Zigzag on macross.mq5")
    (11.62 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/57302.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is a static zigzag which connects the intersections of two moving average crossovers. It is another way to analyse moving averages.

When the fast period moving average crosses above the slow period moving average, it is a buy signal, and when the fast period moving average crosses under the slow period moving average, it is a sell signal. The zigzag will be forming a green leg at the bullish crossover, and will start the red leg at the next bearish crossover.

As the zigzag is static, it is to be read a certain way:

The formation of a downwards facing red leg is a buy signal, because the next leg will be green.

The formation of an upwards facing green leg is a sell signal, because the next leg will be red.

A backstep is used to help the zigzag legs become valid, and to push away noise that moving averages are naturally victim to. It is up to you which moving average periods work best. This is an experimental indicator with a new zigzag structure that's organized with enum cycles.

[![](https://c.mql5.com/18/160/5192530122120__1.png)](https://c.mql5.com/18/160/5192530122120.png "https://c.mql5.com/18/160/5192530122120.png")

**Last comments |
[Go to discussion](/en/forum/483256)**
(4)

![Lorentzos Roussos](https://c.mql5.com/avatar/2025/3/67c6d936-d959.jpg "Lorentzos Roussos")

**[Lorentzos Roussos](/en/users/lorio)**
|
20 Mar 2025 at 15:38

the collection grows

![PRATAP SENEVASAM](https://c.mql5.com/avatar/2024/9/66DED2CD-BFDF.png "PRATAP SENEVASAM")

**[PRATAP SENEVASAM](/en/users/pratapsenevasam)**
|
28 Mar 2025 at 05:31

**Lorentzos Roussos [#](/en/forum/483256#comment_56225363):**  
 the collection grows

Hi how was your weekend

![bsstradeer](https://c.mql5.com/avatar/avatar_na2.png "bsstradeer")

**[bsstradeer](/en/users/bsstradeer)**
|
30 Mar 2025 at 02:23

You can't based on MA crossing to do the zig zag because its not going to be accurate and there is not viable on this zig zag line. What i suggest is to detect the highest candlestick point before the crossing. and if both the zig zag point is too near (maybe by number of candlestick, thenjust ignore it as a zig zag point). continue with the hard work...

![Conor Mcnamara](https://c.mql5.com/avatar/2025/9/68dab3ec-4506.png "Conor Mcnamara")

**[Conor Mcnamara](/en/users/phade)**
|
30 Mar 2025 at 14:05

**bsstradeer [#](/en/forum/483256#comment_56301882):**  
 You can't based on MA crossing to do the zig zag because its not going to be accurate and there is not viable on this zig zag line. What i suggest is to detect the highest candlestick point before the crossing. and if both the zig zag point is too near (maybe by number of candlestick, thenjust ignore it as a zig zag point). continue with the hard work...

Don't you see from the screenshot posted that it's already detecting the highest high and lowest low from the MA line crossing? That is what the backstep was for...in order to make the legs valid. Please look more carefully at it.  

In the first code uploaded, there was a logic error with the backstep, but it has since been fixed, so if you were one of the first to download this, just download it again as it's fixed now.

![Introsort (Introspective sort) using Function Pointers](https://c.mql5.com/i/code/library.png)
[Introsort (Introspective sort) using Function Pointers](/en/code/57233)

A hybrid sorting algorithm that provide fast performance for sorting arrays of simple types, structures or object pointers.

![Supertrend](https://c.mql5.com/i/code/indicator.png)
[Supertrend](/en/code/57063)

A SuperTrend indicator that plots trend direction using ATR volatility to create dynamic support/resistance levels for MetaTrader 5.

![FVG based Momentum Detection](https://c.mql5.com/i/code/indicator.png)
[FVG based Momentum Detection](/en/code/57377)

This is an indicator that evaluates FVGs in the inputted "window\_size" to detect momentum or trend strength.

![Withdrawal Tracking](https://c.mql5.com/i/code/expert.png)
[Withdrawal Tracking](/en/code/57676)

This is a piece of code to add to an existing Expert advisor to track withdrawals from your account where the EA is running. It helps the user to monitor his or her withdrawals from a particular account.