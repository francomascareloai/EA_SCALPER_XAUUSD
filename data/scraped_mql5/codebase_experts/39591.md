# DeMarker Pending 2_5 - expert for MetaTrader 5

Source: https://www.mql5.com/en/code/39591

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/39591) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# DeMarker Pending 2\_5 - expert for MetaTrader 5

[Vladimir Karputov](/en/users/barabashkakvn)

Views:
:   6668

Rating:
:   (34)

Published:
:   3 June 2022, 14:45
:   [DeMarker Pending 2\_5.mq5](/en/code/download/39591/demarker_pending_2_5.mq5 "DeMarker Pending 2_5.mq5")
    (156.46 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/39591.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Finalization of the versionÂ [DeMarker Pending 2](/en/code/39425)

Now, when opening a 'SELL' position, we immediately close all 'BUY' positions and vice versa: when opening a 'BUY' position, we immediately close all 'SELL' positions

![](https://c.mql5.com/18/104/1301348918287.png)

**Last comments |
[Go to discussion](/en/forum/426338)**
(6)

![Marin Zlatev](https://c.mql5.com/avatar/avatar_na2.png "Marin Zlatev")

**[Marin Zlatev](/en/users/marinzlatev)**
|
10 Jun 2022 at 10:44

Hello Vladimir,

I want to ask the following: Can you write the code for "Martingale" in [DeMarker](https://www.mql5.com/en/code/26 "The Demarker Indicator is based on the comparison of the period maximum with the previous period maximum") Pending 2\_5

```mql5
input groupÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â "Martingale"
input doubleÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â InpProfitTargetÂ Â Â Â Â Â Â Â  = 30.0;Â Â Â Â Â Â Â Â Â Â  // Profit target (in deposit money)
input doubleÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â InpPositionIncreaseRatio= 1.6;Â Â Â Â Â Â Â Â Â Â Â Â // Position Increase Ratio
input doubleÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â InpMaximumPositionVolume= 1.5;Â Â Â Â Â Â Â Â Â Â Â Â // Maximum volume of one position
input doubleÂ Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â InpMaximumTotalVolumeÂ Â  = 6.31;Â Â Â Â Â Â Â Â Â Â  // Maximum volume of all positions
```

Thank you in advance

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
10 Jun 2022 at 10:49

**Marin Zlatev [#](/en/forum/426338#comment_40092125) :**  

Hello Vladimir,

I want to ask the following: Can you write the code for "Martingale" in [DeMarker](/en/code/26 "The Demarker Indicator is based on the comparison of the period maximum with the previous period maximum") Pending 2\_5

Thank you in advance

Martingale and pending orders are very poorly compatible.

![Marin Zlatev](https://c.mql5.com/avatar/avatar_na2.png "Marin Zlatev")

**[Marin Zlatev](/en/users/marinzlatev)**
|
21 Jun 2022 at 12:01

Hello Vladimir,

Can DeMarker Pending 2\_5, parameter InpMaxPositions to split it separately for BUY,

separately for [Sell orders](https://www.mql5.com/en/docs/constants/tradingconstants/enum_book_type "MQL5 documentation: Trade Orders in Depth Of Market").

Thank you in advance.

![Vladimir Karputov](https://c.mql5.com/avatar/2024/2/65d8b5a2-f9d9.jpg "Vladimir Karputov")

**[Vladimir Karputov](/en/users/barabashkakvn)**
|
21 Jun 2022 at 12:08

**Marin Zlatev [#](/en/forum/426338#comment_40325477) :**  

Hello Vladimir,

Can DeMarker Pending 2\_5, parameter InpMaxPositions to split it separately for BUY,

separately for [Sell orders](/en/docs/constants/tradingconstants/enum_book_type "MQL5 documentation: Trade Orders in Depth Of Market") .

Thank you in advance.

Probably not.

![andi satria](https://c.mql5.com/avatar/2022/12/63A1AF3B-BE33.png "andi satria")

**[andi satria](/en/users/andisatria)**
|
28 Jan 2023 at 10:39

after first opening an additional indicator given for the 2nd. 3rd.4th position open, could be more advantageous option parameter may be, like support [resistance level](https://www.mql5.com/en/articles/1742 "Article: Method of Building Resistance and Support Levels Using MQL5 ") ....thanks anyway ðŸ˜Š

![AMA Trader 2](https://c.mql5.com/i/code/expert.png)
[AMA Trader 2](/en/code/39582)

Trading strategy based on the iAMA (Adaptive Moving Average, AMA) and iRSI (Relative Strength Index, RSI) indicator. Doubling the position at a loss (not Martingale!)

![OrderExecution](https://c.mql5.com/i/code/expert.png)
[OrderExecution](/en/code/39575)

Just a very simple expert that execute orders from a text file.

![MACD Stochastic Square](https://c.mql5.com/i/code/indicator.png)
[MACD Stochastic Square](/en/code/39620)

A series of indicators 'Square' - shows the state of the indicators in the form of lines of squares. Displays two indicators: MACD and Stochactic

![Chicken Knife](https://c.mql5.com/i/code/indicator.png)
[Chicken Knife](/en/code/39621)

A simple indicator that tries to assess autocorrelation in price series.