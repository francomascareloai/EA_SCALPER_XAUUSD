# Virtual Robot - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/26140

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/26140) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Virtual Robot - expert for MetaTrader 4

[Szymon Palczynski](/en/users/stiopa)

Views:
:   25530

Rating:
:   (22)

Published:
:   21 July 2019, 16:20

Updated:
:   25 February 2020, 19:15
:   [Virtual Robot.mq4](/en/code/download/26140/virtual_robot.mq4 "Virtual Robot.mq4")
    (24.83 KB)
    [view](# "view")

    [Virtual Robot v 1.10.mq4](/en/code/download/26140/virtual_robot_v_1.10.mq4 "Virtual Robot v 1.10.mq4")
    (24.8 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/26140.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Virtual Robot will open virtual trades, using them to monitor the market to determine the entry point(according to the inputs parameters), at
which point Virtual Bot will start opening real trades.

Demo account - recommended

### Input Parameters

* TF - the choice of timeframe

* Slippage - slippage.
* MagicNumber - trades ID.
* Comment - comment for orders.
* Stop Loss - Stop Loss in pips.
* Take Profit - Take Profit in pips.
* Min Take Profit - minimal Take Profit.
* Average + Take Profit  - average order price + Take Profit.
* Lots - initial lot.
* Lotmax - maximum volume.
* Multiplier - multiplier to increase/reduce your lot size.
* Stepper for real - quantity positions without the multiplier 1=1+multiplier; 2=1+1+multiplier etc.
* Stepper for virtual - quantity positions without the multiplier 1=1+multiplier; 2=1+1+multiplier etc.
* PipStep - the minimum distance between orders.
* Max Trades - the maximum number of position.
* Start opening real trades - after virtual trades.
* Start average orders price for real orders - transition to averaging real transactions (only).

* Visual - true/false.

**Last comments |
[Go to discussion](/en/forum/318394)**
(22)

![Szymon Palczynski](https://c.mql5.com/avatar/2019/3/5C7BEBB6-459F.jpg "Szymon Palczynski")

**[Szymon Palczynski](/en/users/stiopa)**
|
9 Sep 2019 at 19:35

**Frika:**  

Running since 33 days now with real account and 17 different pairs. Settings default. About 5% win.

What I noticed is that my Ram workload is still growing over the time. Hopefully the next version of EA has a more optimized memory
management.

set the visual =false.

![Frieder Kauber](https://c.mql5.com/avatar/avatar_na2.png "Frieder Kauber")

**[Frieder Kauber](/en/users/frika)**
|
23 Oct 2019 at 16:00

**Szymon Palczynski:**  

set the visual =false.

Short update from long term [real test](https://www.mql5.com/en/articles/2612 "Article \"Testing trading strategies on real ticks\""). At day 77 there is a result of 65% . Starting with 10000 Cent - Now 16500 Cent.

![Szymon Palczynski](https://c.mql5.com/avatar/2019/3/5C7BEBB6-459F.jpg "Szymon Palczynski")

**[Szymon Palczynski](/en/users/stiopa)**
|
23 Oct 2019 at 19:23

**Frika:**  
 Short update from long term [real
test](/en/articles/2612 "Article \"Testing trading strategies on real ticks\""). At day 77 there is a result of 65% . Starting with 10000 Cent - Now 16500 Cent.

Ok. Very good.

![Frieder Kauber](https://c.mql5.com/avatar/avatar_na2.png "Frieder Kauber")

**[Frieder Kauber](/en/users/frika)**
|
19 Dec 2019 at 14:28

Last update in [real
test](/en/articles/2612 "Article \"Testing trading strategies on real ticks\""). Due a downtrend in GBPCAD this week the account is blown. From 19.187 Cenz to 1.737 Cent.

Works good for months, but as all EA with MA Strategies within, it failed on longer trends. Is there anything what we could do to avoid this?

[![](https://c.mql5.com/3/301/grafik__1.png)](https://c.mql5.com/3/301/grafik.png "https://c.mql5.com/3/301/grafik.png")

![Szymon Palczynski](https://c.mql5.com/avatar/2019/3/5C7BEBB6-459F.jpg "Szymon Palczynski")

**[Szymon Palczynski](/en/users/stiopa)**
|
19 Dec 2019 at 23:28

**Frika:**  

Last update in [real
test](/en/articles/2612 "Article \"Testing trading strategies on real ticks\""). Due a downtrend in GBPCAD this week the account is blown. From 19.187 Cenz to 1.737 Cent.

Works good for months, but as all EA with MA Strategies within, it failed on longer trends. Is there anything what we could do to avoid this?

GBP ... it's a killer.I personally use the AMD system.

![MAxCD](https://c.mql5.com/i/code/indicator.png)
[MAxCD](/en/code/26128)

Three Moving Averages Convergence/Divergence - Indicator for MT4

![Camarilla Flat and Clear](https://c.mql5.com/i/code/indicator.png)
[Camarilla Flat and Clear](/en/code/26120)

The code consists of lines created according to the opening, closing, low and high values of prices.

![Volatility ratio](https://c.mql5.com/i/code/indicator.png)
[Volatility ratio](/en/code/26159)

Volatility ratio

![TraderToolEA](https://c.mql5.com/i/code/expert.png)
[TraderToolEA](/en/code/26160)

TraderTool is a tool/panel that will help any trader to perform trades quickly and easily.