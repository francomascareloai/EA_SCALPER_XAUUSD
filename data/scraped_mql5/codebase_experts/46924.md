# MT5 CCI with shift parameter - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/46924

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/46924) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# MT5 CCI with shift parameter - indicator for MetaTrader 5

[Conor Mcnamara](/en/users/phade)

Views:
:   6837

Rating:
:   (7)

Published:
:   20 October 2023, 23:51

Updated:
:   9 September 2024, 13:36
:   [Test\_CustomCCI.mq5](/en/code/download/46924/test_customcci.mq5 "Test_CustomCCI.mq5")
    (2.47 KB)
    [view](# "view")

    [CCI\_withShift\_v1.01.mq5](/en/code/download/46924/cci_withshift_v1.01.mq5 "CCI_withShift_v1.01.mq5")
    (3.49 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/46924.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

A simple extension to the CCI indicator using the iCCI function call. Now you have a shift parameter which will shift the plot by user defined bars.

This is somewhat an educational code as it reveals how to apply a shift feature to any indicator based on shifting the buffer index.

When you use [i - shift], you are effectively shifting the index in the buffer.

Visually, it moves the plot from right to left. It is giving an after the fact representation of the signal...which may not be useful to most people, but can be useful in some trading systems.

[![No shift](https://c.mql5.com/18/152/img_1__1.JPG "No shift")](https://c.mql5.com/18/152/img_1.JPG "https://c.mql5.com/18/152/img_1.JPG")

[![Shift applied](https://c.mql5.com/18/152/img_2__1.JPG "Shift applied")](https://c.mql5.com/18/152/img_2.JPG "https://c.mql5.com/18/152/img_2.JPG")

The "Test\_CustomCCI" script shows how the indicator can be utilized with iCustom.

Place both files in the Indicators/Examples folder and compile CCI\_withShift before compiling the other file. They will both show as usable indicators in the software.

**Last comments |
[Go to discussion](/en/forum/456061)**
(2)

![Kat George](https://c.mql5.com/avatar/2020/4/5E95BE37-AC55.jpg "Kat George")

**[Kat George](/en/users/kmoraba10-gmail)**
|
8 Sep 2024 at 21:31

I'MÂ  experiencing challenge with the indicator. When I set shift parameter to 0 it works perfectly but when I set shift from 1,2 or 3 so on, the indicator moves in horizontal direction sticking at zero level where it doesn't fluctuate and the good signal when I look at the history are generated when shift parameter set from 1 upwards. It is good indicator but please solve the problem, thank you.

![Conor Mcnamara](https://c.mql5.com/avatar/2025/9/68dab3ec-4506.png "Conor Mcnamara")

**[Conor Mcnamara](/en/users/phade)**
|
9 Sep 2024 at 15:04

Fixed and new version is uploaded now

![Smooth Algorithms - Corrected/Modified - library for MetaTrader 5](https://c.mql5.com/i/code/library.png)
[Smooth Algorithms - Corrected/Modified - library for MetaTrader 5](/en/code/46816)

Smooth Algorithms fixed version plus Trade Algorithms plus full operational EA, plus two indicators . So you will get complete project where you be able to see example how to use and implement this libraries

![Double Bolling Band Signal](https://c.mql5.com/i/code/indicator.png)
[Double Bolling Band Signal](/en/code/46727)

Let follow previous EA by this link
https://www.mql5.com/en/code/46630

![Simplest CSV file reader](https://c.mql5.com/i/code/script.png)
[Simplest CSV file reader](/en/code/46935)

Provide simplest class to read and parse CSV file

![Keltner Channel code for beginners by William210](https://c.mql5.com/i/code/indicator.png)
[Keltner Channel code for beginners by William210](/en/code/46986)

Keltner Channel for traders or young developers by William210