# News EA Template without DLL - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/16308

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/16308) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# News EA Template without DLL - expert for MetaTrader 4

[Yurij Izyumov](/en/users/tormovies)  |
[English](javascript:void(false);)

[Русский](/ru/code/16308)

Views:
:   70957

Rating:
:   (92)

Published:
:   27 October 2016, 13:43

Updated:
:   22 November 2016, 07:32
:   [News\_EA.mq4](/en/code/download/16308/news_ea.mq4 "News_EA.mq4")
    (9.12 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/16308.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

In essence, this is source code (template) of the Expert Advisor that downloads news from the investing.com, written in the MQL4 without the use of DLL. If you were looking for a way to do this in your product for the Market (use of DLL is not allowed there), then this is what you need. Now anyone can implement the feature of working according to the news background — and anyone can do this himself. The template is based on the [Urdala News Investing](/en/code/12768) indicator.

For example, it is possible to make the EA to not trade at all during the news release, or make it close all profitable positions before the news release, or make it place pending orders before the news, there are numerous options. I give you a draft — create.

But despite it being only a template, it is fully operational as news background indicator — generates signals, drawn lines.

![News lines](https://c.mql5.com/18/53/gbpusd-m5-alpari-limited.png "News lines")

**Recommendations:**

The code contains this segment

```mql5
if(CheckNews>0)
     {
      // Here you should list the actions to be performed at the time of the news release and during its validity period
      Comment("News time");

        }else{
      // Here you should specify the action when there is no news on the horizon
      Comment("No news");

     }
```

Currently, the EA simply generates a comment stating that there is news or there is no news. You can insert the conditions you want to execute during the news events instead of these comments.

Attention! The EA operation requires the following link to be added to trusted URL:

http://ec.forexprostools.com/?columns=exc\_currency,exc\_importance&importance=1,2,3&calType=week&timeZone=15&lang=1

**List of variables:**

* **BeforeNewsStop** - time in minutes before the news for the EA to pause operation, for example, 5 minutes before the news release. The EA switches to "News time" mode.
* **AfterNewsStop** - time in minutes after the news for the EA to pause operation, for example, 5 minutes after the news release. The EA deactivates the "News time" mode.
* **NewsLight, NewsMedium, NewsHard** - enable downloading weak, medium and strong news.
* **offset** - Time zone (GMT).
* **NewsSymb** - list of all currencies, for which the news should be downloaded. If empty, currencies of the current symbol are used.
* **DrawLines** - draw lines on the chart.
* **Next** - draw only the upcoming news, do not draw the past news.
* **Signal** - alert about the approaching news at the distance of BeforeNewsStop minutes.

If you are unable to insert the required functions into the EA, contact me.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/16308](/ru/code/16308)

**Last comments |
[Go to discussion](/en/forum/99036)**
(37)

![Thierry Joseph Thenard](https://c.mql5.com/avatar/2023/1/63d931ce-728a.jpg "Thierry Joseph Thenard")

**[Thierry Joseph Thenard](/en/users/thtinvest)**
|
5 Oct 2023 at 15:14

Good [source code](/go?link=https://forge.mql5.io/help/en/guide "MQL5 Algo Forge: Cloud Workspace for Algorithmic Trading Development")

![Minh Truong Pham](https://c.mql5.com/avatar/2025/7/687ede4c-04cb.png "Minh Truong Pham")

**[Minh Truong Pham](/en/users/truongxx)**
|
31 Oct 2023 at 02:36

Thank you! Good code!

![hamada90](https://c.mql5.com/avatar/avatar_na2.png "hamada90")

**[hamada90](/en/users/hamada90)**
|
19 Mar 2024 at 11:14

**Francisco Rayol [#](/en/forum/99036/page2#comment_44468380):**  
 Thanks very much for your contribution!!

still work ? bro itreid but nothing , show me no news

![hamada90](https://c.mql5.com/avatar/avatar_na2.png "hamada90")

**[hamada90](/en/users/hamada90)**
|
19 Mar 2024 at 11:42

**Fatchur Rochman [#](/en/forum/99036/page4#comment_49199738):**  

for ReadBOE()

change little with this than can work again

bro still not working please any update?

![Vaclav Kohout](https://c.mql5.com/avatar/2020/6/5EF62592-16CA.png "Vaclav Kohout")

**[Vaclav Kohout](/en/users/venna)**
|
5 Dec 2024 at 09:17

unfortunately it doesn't work

![TypeToBytes](https://c.mql5.com/i/code/library.png)
[TypeToBytes](/en/code/16282)

Byte-wise operation with structures and standard data types.

![PriceLines](https://c.mql5.com/i/code/script.png)
[PriceLines](/en/code/16269)

Script for drawing a price markup.

![Basket Chart Creator](https://c.mql5.com/i/code/script.png)
[Basket Chart Creator](/en/code/16779)

Basket offline chart creator script using geometric mean method.

![PA adaptive MACD](https://c.mql5.com/i/code/indicator.png)
[PA adaptive MACD](/en/code/17068)

Phase accumulation adaptive MACD - completely adaptive MACD