# Simplest Logger class for MetaTrader 5 - library for MetaTrader 5

Source: https://www.mql5.com/en/code/52741

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/52741) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Simplest Logger class for MetaTrader 5 - library for MetaTrader 5

[Denis Kislicyn](/en/users/deniskislitsyn)  |
[English](javascript:void(false);)

[Русский](/ru/code/52741) [中文](/zh/code/52741) [Español](/es/code/52741) [Deutsch](/de/code/52741) [日本語](/ja/code/52741) [Português](/pt/code/52741) [한국어](/ko/code/52741) [Français](/fr/code/52741) [Italiano](/it/code/52741) [Türkçe](/tr/code/52741)

Views:
:   2994

Rating:
:   (5)

Published:
:   13 October 2024, 21:54

Updated:
:   13 October 2024, 22:10
:   \MQL5\Include\DKStdLib\Logger\

    [CDKLogger.mqh](/en/code/download/52741/cdklogger.mqh "CDKLogger.mqh")
    (26.27 KB)
    [view](# "view")

    \MQL5\Scripts\

    [CDKLogger\_Example.mq5](/en/code/download/52741/cdklogger_example.mq5 "CDKLogger_Example.mq5")
    (5.73 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/52741.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Every programmer has their own logger. I wrote my own for MQL5, inspired by the Python logging module.

This class is simplest. No hierarchy, rotators or formatters. It's simple and convenient for any project.

### Installation

1. Copy CDKLogger.mqh to MQL\Include\DKStdLib\Logger folder.
2. Import CDKLogger class.

```mql5
#include <DKStdLib\Logger\CDKLogger.mqh
```

### Usage

```mql5
CDKLogger logger;

// STEP 1. Init Logger with "MyLoggerName" name and INFO level
logger.Init("MyLoggerName", INFO);

// You can change default logger format "%name%:[%level%] %message%" to your own
// Use any pattern combination 
logger.Format = "%YYYY%-%MM%-%DD% %hh%:%mm%-%ss% - %name%:[%level%] %message%"; 

// STEP 2. If you like to filter message only with substings,
//         fill the FilterInList 
// 2.1. Add a substings to FilterIntList
logger.FilterInList.Add("Including-Substring-#1");        
logger.FilterInList.Add("Including-Substring-#2");        

// 2.2. Split string by ";" separator to add all substrings to FilterInList in one line
logger.FilterInFromStringWithSep("Including-Substring-#3;Including-Substring-#4", ";");  

// STEP 3. If you like to filter OUT message with substrings, but leave all others,
//         fill the FilterOutList 
// 3.1. Add a substrings to FilterOutList
logger.FilterOutList.Add("Excluding-Substring-#1");        
logger.FilterOutList.Add("Excluding-Substring-#2");        

// 3.2. Split string by ";" separator to add all substrings to FilterOutList in one line
logger.FilterOutFromStringWithSep("Excluding-Substring-#3;Excluding-Substring-#4", ";");  // use Filter In put your filter str sep by ; here

// STEP 4. Logging
logger.Debug("Debug: Including-Substring-#1", false);                  // Debug with no Alert
logger.Info("Info: Including-Substring-#1", true);                     // Info with Alert dialog
logger.Warn("Warn: Including-Substring-#1"); 
logger.Error("Error: Including-Substring-#1: Excluding-Substring-#1"); // Skipped because of FilterOutList
logger.Critical("Critical: Including-Substring-#1");

logger.Assert(true, 
              "Log msg if true", INFO,   // if ok
              "Log msg if false", ERROR, // if fails
              true);                     // Show Alert as well
logger.Assert(true, 
              "Same msg for true & false", 
              INFO,   // Log level if ok
              ERROR,  // Log level if fails
              false); // No Alert  
```

The following messages will be output to the log as a result of execution:

[![](https://c.mql5.com/18/156/5300691107539__1.png)](https://c.mql5.com/18/156/5300691107539.png "https://c.mql5.com/18/156/5300691107539.png")

### Open issues

I often use class this way:

```mql5
logger.Debug(StringFormat("%s/%d: My message: PARAM1=%f",
                          __FUNCTION__, __LINE__,
                          my_param));
```

But here we have an issue. StringFormat function parse string every time, even if the logging level does not require the message to be output.

If you need to output debug messages a lot, you'll have to wrap the output in a condition:

```mql5
if(DEBUG >= logger.Level)                          
  logger.Debug(StringFormat("%s/%d: My message: PARAM1=%f",
                            __FUNCTION__, __LINE__,
                            my_param));      
```

The best way to do this would be to use StringFormat lazily, **but unfortunately MQL5 doesn't support passing a dynamic number of function parameters** to the Debug, Info, Error, and so on functions.

If you have any ideas on how this could be done, I'd love to hear them.

**Last comments |
[Go to discussion](/en/forum/474608)**
(1)

![Gerard William G J B M Dinh Sy](https://c.mql5.com/avatar/2023/8/64ccdcc6-13d0.jpg "Gerard William G J B M Dinh Sy")

**[Gerard William G J B M Dinh Sy](/en/users/william210)**
|
16 Sep 2025 at 11:15

Add a SetDebugMode method to set the desired logging level (e.g. DEBUG or INFO).

Also add an IsDebugEnabled method which simply returns a bool indicating whether [debug mode](https://www.mql5.com/en/docs/constants/environment_state/mql5_programm_info#enum_mql5_info_integer "MQL5 documentation: Running MQL5 Program Properties") is active.

Unique configuration:

In your OnInit function, call SetDebugMode only once.

Then store the result of IsDebugEnabled in a global variable, for example g\_debug, for quick access.

Use in your code:

Anywhere you want to log a message, add a simple if condition that checks the global g\_debug. This check is extremely fast and ensures that the StringFormat is not called unnecessarily.

![TimeServerDaylightSavings](https://c.mql5.com/i/code/script.png)
[TimeServerDaylightSavings](/en/code/52557)

Time-related functions for empirical detection of server time zone and daylight savings mode (DST) from history of quotes

![Custom crosshair cursor with synchronization](https://c.mql5.com/i/code/indicator.png)
[Custom crosshair cursor with synchronization](/en/code/52538)

Synchronized custom crosshair indicator showing price and (server/local) time.

![Script to extract Candlesticks data from all time frames to CSV.](https://c.mql5.com/i/code/script.png)
[Script to extract Candlesticks data from all time frames to CSV.](/en/code/52766)

This MQL5 script exports candlestick data for various timeframes into a CSV file, capturing essential market information like open, high, low, and close prices. It analyzes each candlestick's characteristics, including body and wick sizes, while calculating additional metrics such as candle gaps. After processing the latest 21 bars, it notifies the user upon successful data export.

![Push Notification for Opened / Closed Trades (Netting)](https://c.mql5.com/i/code/library.png)
[Push Notification for Opened / Closed Trades (Netting)](/en/code/52899)

This code provides a simple function for sending push notifications to your mobile device whenever trades are opened or closed in MetaTrader 5. It's designed for netting accounts (where only one position per symbol is allowed).