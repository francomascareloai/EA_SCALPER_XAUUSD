# Bar or Volume Colored Candlesticks - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/35576

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/35576) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Bar or Volume Colored Candlesticks - indicator for MetaTrader 5

[Mateus Matucuma Teixeira](/en/users/brmateus2)

Views:
:   10633

Rating:
:   (26)

Published:
:   8 July 2021, 20:55

Updated:
:   16 August 2021, 21:37
:   [Volume Candles.mq5](/en/code/download/35576/volume_candles.mq5 "Volume Candles.mq5")
    (26.08 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/35576.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Volume Colored Candlestick with Bollinger Bands as the Standard Deviation

Changelog

v1.02b:Â Hotfix for static int chartBars, where it would be forever the first call value of Bars(Symbol(), PERIOD\_CURRENT) and would not update thereafter (guarantees that invalid candles are not visible)

v1.02a:

Guarantee that Invalid Bars don't have Invalid Chart Data (hide uncalculable Bars), also check for Minimum Bars

Fix Gradients not showing from Bar 0 until iPeriod

[![](https://c.mql5.com/18/98/Volume_Candles__1.png)](https://c.mql5.com/18/98/Volume_Candles.png "https://c.mql5.com/18/98/Volume_Candles.png")

**Last comments |
[Go to discussion](/en/forum/372963)**
(2)

![jeel. alfrede](https://c.mql5.com/avatar/2021/8/610D5DFC-0A68.png "jeel. alfrede")

**[jeel. alfrede](/en/users/jeel.alfrede)**
|
6 Aug 2021 at 19:03

hi sir , how to make it work perfectly ? cause its doesnt work on my mt5

![Mateus Matucuma Teixeira](https://c.mql5.com/avatar/2021/2/60315985-952D.jpg "Mateus Matucuma Teixeira")

**[Mateus Matucuma Teixeira](/en/users/brmateus2)**
|
10 Aug 2021 at 07:58

**jeel. alfrede:**  
 hi sir , how to make it work perfectly ? cause its doesnt work on my mt5

You need to be sure your Broker provides your MT5 Platform with [Tick Volume](/en/docs/constants/indicatorconstants/prices#enum_applied_volume_enum "MQL5 documentation: Price Constants") or Real Volume data, if you don't have either of those, then there is no way to ever calculate a Volume-Type Indicator;

If your broker only provides Real Volume, then you have to configure the Indicator to use Real Volume, and vice-versa.

You also need to be sure to put the Adaptive Period, or the Period (you choose to enable one another), at a sensible setting - if you don't have enough Bars (candles) on your Chart to do the math, then there is no result to show (the indicator wont work without enough past data).

Is the issue solved?

![williams percent direction index](https://c.mql5.com/i/code/expert.png)
[williams percent direction index](/en/code/35556)

Expert

![Fibonacci Retracement](https://c.mql5.com/i/code/script.png)
[Fibonacci Retracement](/en/code/35549)

3 fibo levels.

![AO n Stochastic](https://c.mql5.com/i/code/expert.png)
[AO n Stochastic](/en/code/35588)

awesome oscillator, stochastic filter. expert

![Heikin Ashi Engulfing](https://c.mql5.com/i/code/expert.png)
[Heikin Ashi Engulfing](/en/code/35628)

& moving average , two rsi filters.