# OC Momentum - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/28727

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/28727) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# OC Momentum - indicator for MetaTrader 4

[JAN OPOCENSKY](/en/users/jan.opocensky)

Views:
:   20959

Rating:
:   (19)

Published:
:   12 April 2020, 13:45

Updated:
:   6 May 2020, 08:41
:   [OC Momentum.mq4](/en/code/download/28727/oc_momentum.mq4 "OC Momentum.mq4")
    (10.82 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/28727.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

5.5.2020 new version uploaded.

-----------------------------------------------------------------

**Descritpion:**

OC Momentum oscillator uses Open and Close price to calculate its value.

The only variable **n** default value is 3. It can be modified obviously.

The histogram simplifies identification of trade entry.

**Usage in trending markets:**

Points 1 and 2 form a trendline.

Entry signal is when the indicator curve crosses the zero line and the first histogram bar of propper color is formed.

Points 3,4 and 5 present possible entry points.

Take into account that no trend is endless.

[![UP](https://c.mql5.com/18/90/OC_Momentum_UP__1.png "UP")](https://c.mql5.com/18/90/OC_Momentum_UP.png "https://c.mql5.com/18/90/OC_Momentum_UP.png")

[![DOWN](https://c.mql5.com/18/90/OC_Momentum_DOWN__1.png "DOWN")](https://c.mql5.com/18/90/OC_Momentum_DOWN.png "https://c.mql5.com/18/90/OC_Momentum_DOWN.png")

**Last comments |
[Go to discussion](/en/forum/337372)**
(6)

![Happy2trade](https://c.mql5.com/avatar/avatar_na2.png "Happy2trade")

**[Happy2trade](/en/users/happy2trade)**
|
22 Apr 2020 at 18:40

Please I need help, how do I add Arom up and down to my mt4 platform. Many thanks

![JAN OPOCENSKY](https://c.mql5.com/avatar/2020/8/5F273E67-9B6D.jpg "JAN OPOCENSKY")

**[JAN OPOCENSKY](/en/users/jan.opocensky)**
|
22 Apr 2020 at 22:09

**PIP\_SKY:**  
 Good idea. Can you add arrow on chart and
alert on slope change with [arrow
code](/en/docs/constants/indicatorconstants/drawstyles#enum_plot_property_integer "MQL5 documentation: Drawing Styles") and colour option.One bug is there when change n period it,s redraw histogram colour width to 1.

Thank you.

It is nothing special.

I will look at it.

Regards.

Jan.

![Nathan](https://c.mql5.com/avatar/avatar_na2.png "Nathan")

**[Nathan](/en/users/niqmadu)**
|
2 May 2020 at 16:29

This is beautifully simple.   I'm trying to test it in an EA, but in the back test I see an error when I call it.

2020.05.02 07:57:20.264 2020.01.02 00:00:00  OC Momentum EURUSDi,H1: [array out of range](https://www.mql5.com/en/articles/2555 "Article \"The checks a trading robot must pass before publication in the Market\"") in 'OC
Momentum.mq4' (72,34)

I traced it to this line

```mql5
for (i=0;i<pos;i++)
```

Since pos=Bars-IndicatorCounted(), when you add "n" to pos, you walk past the end of the array/buffer.

Changing it to the following eliminates the runtime error when calling this in iCustom.

```mql5
for (i=0;i<pos+n;i++)
```

One more thing... I'm not an expert in coding indicators... but it looks like you are not using previously\_calculated, so the entire
array is being filled each tick.  Looking at the Alligator indicator which simply fills an array like this does I see you might want
to change that line to this... it appears to work as desired for me...

```mql5
//pos=Bars-IndicatorCounted();                  //this what you have

pos=rates_total-prev_calculated;                //this is what other indicators do
```

Incidentally, I edited this and recompiled and it \*appears\* to be working correctly in my terminal.

![Abu Ridwaan](https://c.mql5.com/avatar/2020/10/5F9C6344-CA21.jpg "Abu Ridwaan")

**[Abu Ridwaan](/en/users/aburidwaan)**
|
5 Nov 2020 at 19:45

hello.. thank you for indicator.....is my 0{zero} line meant to look like this ??

![JAN OPOCENSKY](https://c.mql5.com/avatar/2020/8/5F273E67-9B6D.jpg "JAN OPOCENSKY")

**[JAN OPOCENSKY](/en/users/jan.opocensky)**
|
5 Nov 2020 at 21:05

**Abu Ridwaan:**  
 hello.. thank you for indicator.....is my 0{zero} line meant to look like this ??

Hello Abu Ridwaan,

you are right.

The indicator was developed for white background (I use) but the position of the zero line is still fairly clearly visible.

In the description is old picture of the original version of the indicator.

Your picture shows newer version with average line (blue).

The new version should simplify inrepretation.

If the average is above zero line you should think of long (buy) if the average is below zero line you should think about short (sell) position.

Once the average line crosses the zero line you only wait for the pullback to the direction of the trend.

You should use the indicator in clear trend enviroment.

Regards.

Jan.

![The Currency Strength indicator shows the relative strength of a currency compared to seven other currencies.](https://c.mql5.com/i/code/indicator.png)
[The Currency Strength indicator shows the relative strength of a currency compared to seven other currencies.](/en/code/28677)

Simply select one of the main currencies (AUD, CAD, CHF, EUR, GBP, JPY, NZD, USD) as "Currency" in the settings.

![Power of USD](https://c.mql5.com/i/code/indicator.png)
[Power of USD](/en/code/28626)

Power of USD indicator shows actual strength of currency USD calculated of 7 pairs that contain USD.
Indicator can be used for strategies based on mean reversion and/or correlation.
Included pairs: EUR USD, AUD USD, NZD USD, GBP USD, USD JPY, USD CAD, USD CHF.

![Trade Transmitter via web and OnTrade Function to MQL4](https://c.mql5.com/i/code/script.png)
[Trade Transmitter via web and OnTrade Function to MQL4](/en/code/28743)

This EA can detect trades in your MT4 account and transmit them via web

![Manual Trading Lightweight Utility](https://c.mql5.com/i/code/expert.png)
[Manual Trading Lightweight Utility](/en/code/28783)

Free utility for manual orders placement.