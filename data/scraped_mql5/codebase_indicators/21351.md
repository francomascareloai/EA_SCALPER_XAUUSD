# Schedule - library for MetaTrader 4

Source: https://www.mql5.com/en/code/21351

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/21351) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Schedule - library for MetaTrader 4

[Matthew Colter](/en/users/matthewkastor)

Views:
:   7946

Rating:
:   (10)

Published:
:   16 July 2018, 17:33
:   \MQL4\Include\Schedule\

    [Schedule.mqh](/en/code/download/21351/schedule.mqh "Schedule.mqh")
    (6.83 KB)
    [view](# "view")

    \MQL4\Scripts\Tests\Schedule\

    [ScheduleTests.mq4](/en/code/download/21351/scheduletests.mq4 "ScheduleTests.mq4")
    (11.66 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/21351.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The Schedule class defines a schedule as beginning at a certain day of the week and time, and running until the ending day of the week and time. There are also tests included in "Scripts\Tests\Schedule\ScheduleTests.mq4" that give extensive usage examples and codify the expected behavior of the Schedule.

### Constructor Parameters

```mql5
void Schedule(
    ENUM_DAY_OF_WEEK startDay,
    string startTime,
    ENUM_DAY_OF_WEEK endDay,
    string endTime
)
```

* [ENUM\_DAY\_OF\_WEEK](https://docs.mql4.com/constants/environment_state/marketinfoconstants#enum_day_of_week "https://docs.mql4.com/constants/environment_state/marketinfoconstants#enum_day_of_week") **startDay** - the day that the schedule starts.
* string **startTime** - the time that the schedule starts in 24 hour format.
* [ENUM\_DAY\_OF\_WEEK](https://docs.mql4.com/constants/environment_state/marketinfoconstants#enum_day_of_week "https://docs.mql4.com/constants/environment_state/marketinfoconstants#enum_day_of_week") **endDay** - the day that the schedule ends.
* string **endTime** - the time that the schedule ends in 24 hour format.

### Properties

```mql5
ENUM_DAY_OF_WEEK  DayStart;    // the day when the schedule begins
TimeStamp        *TimeStart;   // the time when the schedule starts
ENUM_DAY_OF_WEEK  DayEnd;      // the day when the schedule ends
TimeStamp        *TimeEnd;     // the time when the schedule ends
```

The TimeStamp properties are instances of a simple TimeStamp object included in this library. They have two properties "Hour" and "Minute" as integers.

### Methods

```mql5
string ToString() // returns a description of the schedule in English.
```

```mql5
bool IsActive(datetime when) // returns true if the schedule is active on the given datetime.
```

### Usage

```mql5
#include <Schedule\Schedule.mqh>

ENUM_DAY_OF_WEEK StartDay=1; // Start Day
ENUM_DAY_OF_WEEK EndDay=5;   // End Day
string   StartTime="12:30";  // Start Time
string   EndTime="14:30";    // End Time

// Creating the schedule
Schedule s(StartDay,StartTime,EndDay,EndTime);

// Displaying an English description of the schedule.
Print("Schedule: ",s.ToString());

// Creating some datetimes to check against the schedule
datetime ted0 = StrToTime(StringConcatenate("2018.06.10 ", (string)(s.TimeEnd.Hour), ":", (string)(s.TimeEnd.Minute)));
datetime ted1 = StrToTime(StringConcatenate("2018.06.11 ", (string)(s.TimeEnd.Hour), ":", (string)(s.TimeEnd.Minute)));

// the day of week is outside of the schedule, schedule should not be active
if(s.IsActive(ted0)) Print("Fail! Schedule active at ",ted0," = ",s.IsActive(ted0));

// the day of week and time are within the schedule, schedule should be active
if(!s.IsActive(ted1)) Print("Fail! Schedule active at ", ted1, " = ", s.IsActive(ted1));
```

**[Go to discussion](/en/forum/265681)**

![Tipu CCI](https://c.mql5.com/i/code/indicator.png)
[Tipu CCI](/en/code/21312)

Tipu CCI is one of the popular indicators in the Market. The original code for Tipu CCI is modified by removing compatibility with Tipu Panel. This version of Tipu CCI is open for everyone who is interested in developing an Expert Advisor.

![CSeries Class](https://c.mql5.com/i/code/library.png)
[CSeries Class](/en/code/21223)

A low latency container for working with ticks

![Scale All Charts](https://c.mql5.com/i/code/script.png)
[Scale All Charts](/en/code/21357)

Set all opened charts to use auto scaling or fixed scaling simultaneously.

![Change Timeframe All](https://c.mql5.com/i/code/script.png)
[Change Timeframe All](/en/code/21352)

Change the timeframe for all opened charts simultaneously.