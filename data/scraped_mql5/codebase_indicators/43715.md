# Risk Manager EA - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/43715

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/43715) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Risk Manager EA - expert for MetaTrader 4

Noah Kurtz

Published by:
:   [Noah Kurtz](/en/users/kurtzinvestments)

Views:
:   16558

Rating:
:   (10)

Published:
:   8 April 2023, 08:22

Updated:
:   8 April 2023, 08:50
:   [RiskManager.mq4](/en/code/download/43715/riskmanager.mq4 "RiskManager.mq4")
    (8.3 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/43715.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

You need to do your own TA for the best results. You decide which direction you want the EA to place trades in (you can go long and short, but hedging won't work) & the EA will wait until a setup occurs and place the trades for you. The EA looks at volume and levels & decides where to place trades.

Level & Length correspond to the level and length of the pullback. The longer the Length, the more it will scale in, the bigger the level, the deeper the pullback it'll look for.

**Close PL is the max floating PL before the EA closes all positions.**

**The profit & risk limit are the parameters you will need to use to specify how much profit/risk you are looking to achieve on the given signal.**

**The capital parameter will be set to your balance before the EA was attached, if you have a floating loss or profit, you may want to change, but the default value of 0 will assume your initial balance before the EA is attached.**

**If you're trading multiple pairs, the hedging function will not work, so it will not hedge anything. Make sure to turn off Multipairtrading if you're only trading one pair and want to use the hedging function. The hedging function will hedge your position once the hedgelevel is reached, hedgelevel meaning the percent of risk you have remaining, and to the specified ration.**

Maxsize is the largest position the EA will scale into, layers is the number of positions you want to spread Maxsize into. For instance, if you want to buy 1 lot worth of an instrument and scale in 10 times, Maxsize = 1, Layers = 10

**Last comments |
[Go to discussion](/en/forum/445161)**
(2)

![BookClub](https://c.mql5.com/avatar/2023/3/6424e542-7f0e.jpg "BookClub")

**[BookClub](/en/users/bookclub)**
|
12 Apr 2023 at 10:42

May you post the MT5 version as well?

![Muhammad Hakimi Bin Khairuddin](https://c.mql5.com/avatar/avatar_na2.png "Muhammad Hakimi Bin Khairuddin")

**[Muhammad Hakimi Bin Khairuddin](/en/users/mhakimii)**
|
7 Feb 2024 at 17:57

Great EA, but thru some time the EA will show "System Inactive". Can I know why?

![Elder Impulse System Candlestick](https://c.mql5.com/i/code/indicator.png)
[Elder Impulse System Candlestick](/en/code/43589)

This indicator paints the candlestick chart color according to the Elder Impulse System

![Cryptos_V1 - MetaTrader 4 Expert for ETH](https://c.mql5.com/i/code/expert.png)
[Cryptos\_V1 - MetaTrader 4 Expert for ETH](/en/code/43428)

Crypto EA for ETH/USD pair.

![Simple license on account name](https://c.mql5.com/i/code/script.png)
[Simple license on account name](/en/code/43740)

Below you can find a super simple method to create a license based on MT4 account name.
Place in your init function: CheckLicense();
The stringLower method makes sure the account name is in lowercase. Then you can check this value with the account name you want to check.

![MoveStopLoss](https://c.mql5.com/i/code/expert.png)
[MoveStopLoss](/en/code/43793)

Move the stoploss as the trade moves in your direction at a specific distance.