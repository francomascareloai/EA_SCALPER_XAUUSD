# Martingale Trade Simulator - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/47581

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/47581) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Martingale Trade Simulator - expert for MetaTrader 4

[DADALI ARWALY](/en/users/drdz)

Views:
:   15147

Rating:
:   (8)

Published:
:   9 December 2023, 11:55

Updated:
:   9 December 2023, 12:28
:   [Martingale Trade Simulator.mq4](/en/code/download/47581/martingale_trade_simulator.mq4 "Martingale Trade Simulator.mq4")
    (23.03 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/47581.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

[![](https://c.mql5.com/18/152/Screenshot_w2s.png)](https://c.mql5.com/18/152/Screenshot_a20.png "https://c.mql5.com/18/152/Screenshot_a20.png")

This EA i've created is for Manual Trade Training using Martingale that can be enabled/disabled.

Only works on Strategy Tester Mode.

**[Go to discussion](/en/forum/458725)**

![Multi time frame example by recursion](https://c.mql5.com/i/code/indicator.png)
[Multi time frame example by recursion](/en/code/47556)

The purpose of this indicator is to demonstrate newbie friendly way a structure of a multi time frame indicator based on recursion.

![Superb Fractal](https://c.mql5.com/i/code/indicator.png)
[Superb Fractal](/en/code/47476)

Few improvements from standart fractal:
1. You can chouse size of fractal. Standart version use 2 as constant
2. It does not draw fractals against the trend, which makes your chart much more informative

![Heikin Ashi Lines](https://c.mql5.com/i/code/indicator.png)
[Heikin Ashi Lines](/en/code/47603)

A simpler way to display Heikin Ashi

![Closing all open trades if all one symbol and one trade direction](https://c.mql5.com/i/code/script.png)
[Closing all open trades if all one symbol and one trade direction](/en/code/47759)

All open trades must be of same symbol and type, e.g. all GBPUSD and all BUY.
This script will close out your position using one large trade to hedge your position
then using CloseBy() function to close all trades against the one large trade until all
trades are closed. There can be a maximum of 500 open trades.