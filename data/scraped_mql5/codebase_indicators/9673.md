# Script opening orders - script for MetaTrader 4

Source: https://www.mql5.com/en/code/9673

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9673) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Script opening orders - script for MetaTrader 4

[Vladimir Khlystov](/en/users/cmillion)  |
[English](javascript:void(false);)

[Русский](/ru/code/9673) [Español](/es/code/9673) [Deutsch](/de/code/9673) [Português](/pt/code/9673)

Views:
:   37133

Rating:
:   (14)

Published:
:   17 May 2010, 08:14

Updated:
:   21 April 2014, 14:54
:   [OpenOrder\_EN.mq4](/en/code/download/9673/OpenOrder_EN.mq4 "OpenOrder_EN.mq4")
    (1.84 KB)
    [view](# "view")

    [Open\_1\_Order\_1\_0.mq4](/en/code/download/9673/Open_1_Order_1_0.mq4 "Open_1_Order_1_0.mq4")
    (1.58 KB)
    [view](# "view")

    [Open\_2\_Order\_0\_5.mq4](/en/code/download/9673/Open_2_Order_0_5.mq4 "Open_2_Order_0_5.mq4")
    (1.79 KB)
    [view](# "view")

    [Open\_3\_Order\_0\_3.mq4](/en/code/download/9673/Open_3_Order_0_3.mq4 "Open_3_Order_0_3.mq4")
    (1.99 KB)
    [view](# "view")

    [Open\_4\_Order\_0\_25.mq4](/en/code/download/9673/Open_4_Order_0_25.mq4 "Open_4_Order_0_25.mq4")
    (2.13 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9673.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Sometimes you want to help the advisor and add the order, but that Advisor has its own Magic number needed to be placed orders with its number.

**Variables:**   

* **stoploss** - level exhibiting SL, if 0, then SL is not exposed
* **takeprofit** - level exhibiting TP, if 0, then TP is not exposed
* **Magic** - a unique order number
* **SELL** - open SELL order
* **BUY** - open BUY order
* **Lot** - Order Quantity
* **slippage** - the maximum deviation of the price for market orders

The simultaneous installation of different directions of orders for this variable SELL BUY and set to true.

When failures of connection or a sharp price movement will be exhibiting 10 attempts to place an order, after that the script stops.

To run the script, drop it on the chart window and the menu will appear, select the options and type of the opened orders.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/9673](/ru/code/9673)

**Last comments |
[Go to discussion](/en/forum/27425)**
(6)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
26 May 2010 at 10:46

**mrozali1:**  

Hi,

Your script is good. I have been trying to write a script like this but it doesn't work.

Maybe you can help!!

When I open order, I will open 1, 2, 3 or 4 orders.

1 Order: **Ord1**, Lot=1, SL=70, TP=25

2 Orders: **Ord1**, Lot =0.5, SL=70, TP=25; **Ord2**, Lot =0.5, SL=70, TP=50

3 Orders: **Ord1**, Lot =0.3, SL=70, TP=25; **Ord2**, Lot =0.3, SL=70, TP=50; **Ord3**, Lot =0.3, SL=70, TP=75

4 Orders : **Ord1**, Lot =0.25, SL=70, TP=25; **Ord2**, Lot =0.25, SL=70, TP=50; **Ord3**, Lot =0.25, SL=70, TP=75; **Ord4**, Lot =0.25, SL=70, TP=0

Can the above script be modified to do the above steps. Variables are, Orders, Lot, SL and TP.

TQ

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
26 May 2010 at 10:47

THIS IS GREAT...THANK YOU !!!!!

![Vladimir Khlystov](https://c.mql5.com/avatar/2022/6/62B496F5-1DBF.jpg "Vladimir Khlystov")

**[Vladimir Khlystov](/en/users/cmillion)**
|
26 May 2010 at 21:59

**mrozali1:**  
THIS IS GREAT...THANK YOU !!!!!

  
Glad to help! Ask! cmillion@narod.ru

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
30 Sep 2010 at 20:31

Thank you

I search that for long time.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
1 May 2011 at 12:43

I was looking for something like this for some time. But sadly every time i'm trying to lunch the script i get error message 4109. I would be very grateful if can help me to solve the problem. Especially i'm interesting in the opening orders in different directions at the same time.

Best regards

Yegor

![Wavy Dash Indicator](https://c.mql5.com/i/code/indicator.png)
[Wavy Dash Indicator](/en/code/9674)

Indicator draw green and red lines similar to wavy dash. Green is a buy signal, red is a sell signal.

![Load Server History](https://c.mql5.com/i/code/script.png)
[Load Server History](/en/code/9672)

Load history form server Set the option at 1.

![Variations of the Hurst Exponent over time](https://c.mql5.com/i/code/indicator.png)
[Variations of the Hurst Exponent over time](/en/code/9676)

This indicator displays the variations of the Hurst Exponent which are seen as a predictor of the variations of volatility, therefore giving an indication on when to enter the market.

![HAS EA NEW](https://c.mql5.com/i/code/expert.png)
[HAS EA NEW](/en/code/9677)

Based on the HAS indicator.