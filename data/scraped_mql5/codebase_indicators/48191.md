# Strong Historical Levels - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/48191

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/48191) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Strong Historical Levels - indicator for MetaTrader 5

[Mahdi Ebrahimzadeh](/en/users/pipcrop)

Views:
:   11461

Rating:
:   (6)

Published:
:   16 February 2024, 04:24

Updated:
:   19 February 2024, 10:48
:   [Strong\_Levels\_V1.mq5](/en/code/download/48191/strong_levels_v1.mq5 "Strong_Levels_V1.mq5")
    (19.86 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/48191.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

**Historical Levels** are prices over life time of a symbol which technically believed as most repeated prices. From financial point of view, these prices are important limits of economical conditions of a financial environment which is shadowed over dedicated symbol chart. There are scientific materials shows these levels has linkage to financial limits/phases which price/rate can not easily pass those levels unless financial phase changes for considered symbol. These are strong reasons that a trader has to empower their market analyses with Historical Levels.

I tried to create a structural view on these levels from candle formation analyses point of view. Price/rate behavior over these levels most probably has strong effect on candle shape. As an example, if there is a strong level for a price, we should have a PRICE JUMP because of high amount of money sleeping on that price/rate or its around.

Considering this concept, two rules are developed:

* **Rule 1**(bull candle on sup. level): if close - low > Jump Factor
* **Rule 2**(bull candle on res. level): if close - low > Jump Factor & (close-low)/(high-low)>ratio

To make rules more clear two images are prepared.

[![Jump Factor](https://c.mql5.com/18/153/Jump-Factor__1.png "Jump Factor")](https://c.mql5.com/18/153/Jump-Factor.png "https://c.mql5.com/18/153/Jump-Factor.png")

Image1: jumping from S/R levels with same action (like bull candle on support)

[![Ratio](https://c.mql5.com/18/153/Ratio__1.png "Ratio")](https://c.mql5.com/18/153/Ratio.png "https://c.mql5.com/18/153/Ratio.png")

Image 2: jumping from S/R levels but in reverse (like Bull candle under resistance)

Based on these rules (rules are selectable) an indicator developed which gathers data in two different matrix (sup\_mat and res\_mat). Number of S/R levels obeying selected rules are shown on screen during gathering data. Hense, **[AlgLib](/en/code/11077)([dataanalysis.mqh](/en/code/download/11077/dataanalysis.mqh "dataanalysis.mqh"))**library used to make a clustering process over gathered data through **K-means method**. Results illustrated as columns of Support and Resistance Levels data.

After enhancing levels, its open a chart with same symbol analysed and then draws all levels(clusters) over that chart accordingÂ  clustering process. Some parameters of indicator can be changed from screen to make it more user-friendly. Here is a brief illustration od screen graphics of tool and its results.

[![Indicator screen](https://c.mql5.com/18/153/Indicator___1.png "Indicator screen")](https://c.mql5.com/18/153/Indicator_.png "https://c.mql5.com/18/153/Indicator_.png")

Image 3: indicator screen

[![Results](https://c.mql5.com/18/153/Result__1.png "Results")](https://c.mql5.com/18/153/Result.png "https://c.mql5.com/18/153/Result.png")

Image 4: auto drawing of results of Levels on chart

As conclusion, tool is very powerful even if we have to very basic rules and levels are showing strong support and resistance behavior. Adding more rules is possible and code is in an easy mode to make more rules to enhance it. Adding to extra rules, dividing clustering areas and make more dedicated clustering for those areas, searching for max distance taken before retouching levels can be further improvements for tool. Anyone who like to have more, please contact me.

**Last comments |
[Go to discussion](/en/forum/462516)**
(8)

![Chua Wee Kiat](https://c.mql5.com/avatar/2025/8/68a51397-a900.png "Chua Wee Kiat")

**[Chua Wee Kiat](/en/users/jng640)**
|
18 Feb 2024 at 13:43

Tried to plot for Daily chart but it can't. Does it only for smaller time frame?

![Mahdi Ebrahimzadeh](https://c.mql5.com/avatar/2023/12/658fcccd-b8d5.png "Mahdi Ebrahimzadeh")

**[Mahdi Ebrahimzadeh](/en/users/pipcrop)**
|
18 Feb 2024 at 14:32

**Chua Wee Kiat [#](/en/forum/462516#comment_52323373):**  
 Tried to plot for Daily chart but it can't. Does it only for smaller time frame?

thanks to report, update is uploading!

![Mahdi Ebrahimzadeh](https://c.mql5.com/avatar/2023/12/658fcccd-b8d5.png "Mahdi Ebrahimzadeh")

**[Mahdi Ebrahimzadeh](/en/users/pipcrop)**
|
18 Feb 2024 at 17:57

I do not know why but new version testing process is not going to finish! it is kind of stuck!

![SergioTForex](https://c.mql5.com/avatar/avatar_na2.png "SergioTForex")

**[SergioTForex](/en/users/sergiotforex)**
|
18 Feb 2024 at 19:44

A job well done, can you provide us with a version that updates from EA?

![Mahdi Ebrahimzadeh](https://c.mql5.com/avatar/2023/12/658fcccd-b8d5.png "Mahdi Ebrahimzadeh")

**[Mahdi Ebrahimzadeh](/en/users/pipcrop)**
|
19 Feb 2024 at 01:05

**SergioTForex [#](/en/forum/462516#comment_52325185):**  

A job well done, can you provide us with a version that updates from EA?

thanks,

it is very simple,

1- copy and paste all the code to a new EA template. (all main function separately. read item 3)

2- remove two lines of buffers and plots

3- copy OnCalculated to OnTick.

thats it. I prepared code as an EA and as you see in code it has message box functions which will not work in indicator but EA.

![Indices Testing](https://c.mql5.com/i/code/expert.png)
[Indices Testing](/en/code/48139)

The EA only trades buy positions and does not use SL and TP.

![Frog Jump](https://c.mql5.com/i/code/indicator.png)
[Frog Jump](/en/code/48131)

Hides Alone Candlesticks

![SAR ADX Signal](https://c.mql5.com/i/code/indicator.png)
[SAR ADX Signal](/en/code/48247)

SAR ADX Signal with mobile notification, rewritten from MT4 version (source no longer found).
This is a repaintable indicator, please be careful when using it.

![KA-Gold Bot MT5](https://c.mql5.com/i/code/expert.png)
[KA-Gold Bot MT5](/en/code/48251)

KA-Gold Bot is an advanced trading advisor specifically designed for gold, utilizing the powerful combination of the Keltner channel strategy and two exponential moving averages (EMAs) - the 10-period EMA and the 200-period EMA. Principle of Operation: The 10-period EMA represents the average price cutting above/below the Keltner band, confirming an uptrend/downtrend. The price being above the 200-period EMA supports the uptrend/downtrend. This indicates that the uptrend/downtrend has been stronger than the previous 10 periods, considering the volatility over the last 50 periods.
- Time frame: M15