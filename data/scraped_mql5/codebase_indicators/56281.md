# Candle size - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/56281

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/56281) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Candle size - indicator for MetaTrader 5

[Gustavo Franthesco Kerntopf](/en/users/virologustavo)  |
[English](javascript:void(false);)

[Русский](/ru/code/56281) [中文](/zh/code/56281) [Español](/es/code/56281) [Deutsch](/de/code/56281) [日本語](/ja/code/56281) [Português](/pt/code/56281) [한국어](/ko/code/56281) [Français](/fr/code/56281) [Italiano](/it/code/56281) [Türkçe](/tr/code/56281)

Views:
:   4205

Rating:
:   (4)

Published:
:   21 June 2025, 12:06
:   [Candle\_size.mq5](/en/code/download/56281/candle_size.mq5 "Candle_size.mq5")
    (16.62 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/56281.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### 

### **Main Ideas Incorporated in the Code**

1. **Candle Size Calculation** :

   * The indicator measures the amplitude of the candles (difference between high and low) and displays the value in points or pips.
   * Different colours are used to distinguish bullish and bearish candles, making visual interpretation easier.
2. **Customisation by Day of the Week** :

   * Allows you to process candles from a specific day of the week (e.g. Monday, Tuesday, etc.) or every day.
   * It assigns unique colours to each day of the week, making it easy to observe daily patterns.
3. **Dynamic Text Positioning** :

   * Text can be moved vertically in relation to the candle to avoid overlapping with other chart elements.
   * Automatically adjusts the position of the text to remain within the visible limits of the chart.
4. **Style and Formatting** :

   * The user can customise the font, font size, colour and anchor type of the text.
   * Supports different line styles (e.g. dashed, dotted) for better visualisation.
5. **Automatic Cleaning** :

   * When detaching the indicator from the chart, all objects created are automatically removed to keep the chart clean.

---

### **Description of External Variables**

All the user-configurable external variables are described below:

|
|  |

|  |  |
| --- | --- |
| InpAmount | Number of numbered candles to be processed. |
| InpMCConfigOptimistic | Optimistic calculation type (e.g. maximum). |
| InpMCConfigPessimistic | Pessimistic calculation type (e.g. minimum). |
| InpMCCorOptimistic | Colour for bullish candles. |
| InpMCCorPessimistic | Colour for bearish candles. |
| InpMCConfigFountain | Font of the text displayed on the chart. |
| Sunday , Monday , etc. | Specific colours for each day of the week. |
| InpStyle | Line style (e.g. dashed, dotted). |
| InpWidth | Line width. |
| textplace | Distance of the text from the top of the graph. |
| InpFont | Font of the text displayed in the graph. |
| InpFontSize | Font size. |
| InpAnchor | Type of anchor for the text (e.g. top, bottom, centre). |

---

### **Recommended Instruments and Timeframes**

* **Instruments** : This indicator can be used with any financial instrument available on the MetaTrader 5 platform, including currency pairs, indices, commodities and cryptocurrencies.
* **Timeframes** : It works on all timeframes, from 1-minute charts to weekly charts. However, it is recommended to use larger timeframes (e.g. H1, D1) to get a clearer and more accurate analysis of volatility.

---

### **Indicator interpretation**

1. **Candle size** :

   * A larger candle indicates greater volatility during the period.
   * A smaller candle suggests less activity or consolidation in the market.
2. **Colours** :

   * Bullish candles are displayed in a specific colour (e.g. gold).
   * Bearish candles are displayed in another colour (e.g. grey).
3. **Days of the week** :

   * Assigning different colours to each day of the week allows you to observe patterns in price behaviour on specific days.

---

### **Example of Practical Use**

* **Volatility Analysis** : Helps traders identify days or periods with higher volatility based on the size of the candles.
* **Daily Patterns** : Processing candles from a specific day allows you to observe patterns of price behaviour on specific days.
* **Decision Making** : Provides quick visual insights into the strength of bullish and bearish movements, helping you make trading decisions.

---

### **Illustrative images**

*Figure 1: Example chart with the indicator applied. The colours differentiate bullish and bearish candles, while the text displays the size of each candle.*

---

![](https://c.mql5.com/18/159/candle_size__2.png)

[https://www.mql5.com/en/charts/20733290/wdoh25-m15-banco-btg-pactual](/en/charts/20733290/wdoh25-m15-banco-btg-pactual)

Translated from Portuguese by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/pt/code/56281](/pt/code/56281)

![MACD coloured histogram](https://c.mql5.com/i/code/indicator.png)
[MACD coloured histogram](/en/code/56382)

The MACD Coloured Histogram is an enhanced version of the classic MACD (Moving Average Convergence Divergence) indicator, designed to provide a clearer and more intuitive visual analysis of market momentum. This indicator combines traditional MACD functionalities with a dynamic histogram that changes colour based on the relationship between the MACD Line and the Signal Line, allowing traders to quickly identify trends, reversal points and moments of indecision in the market.

![Candle Counter](https://c.mql5.com/i/code/indicator.png)
[Candle Counter](/en/code/56432)

Candle counter is a powerful and versatile tool designed to help traders visualise and analyse the sequence of bars on their charts. This indicator automatically numbers each candle on the chart based on user-defined preferences, making it easy to follow specific candles, identify patterns and implement precise trading strategies.

![Moving Average x Relative Strength Indicator EA](https://c.mql5.com/i/code/expert.png)
[Moving Average x Relative Strength Indicator EA](/en/code/60730)

A Simple RSI and Moving Average-Based Expert Advisor for MQL5

![Price Time Scale](https://c.mql5.com/i/code/indicator.png)
[Price Time Scale](/en/code/56228)

Custom time and price scale.