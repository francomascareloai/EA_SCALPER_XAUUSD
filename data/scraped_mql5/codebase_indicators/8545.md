# CLEAR_CHART_ON_NAME_AND_TYPE   - script for MetaTrader 4

Source: https://www.mql5.com/en/code/8545

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/8545) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# CLEAR\_CHART\_ON\_NAME\_AND\_TYPE - script for MetaTrader 4

[Aleksandr Pak](/en/users/korey)  |
[English](javascript:void(false);)

[Русский](/ru/code/8545) [中文](/zh/code/8545) [Español](/es/code/8545) [Deutsch](/de/code/8545) [Português](/pt/code/8545)

Views:
:   9925

Rating:
:   (7)

Published:
:   9 November 2008, 08:30

Updated:
:   22 November 2016, 07:32
:   [CLEAR\_CHART\_BY\_NAME\_AND\_TYPE.mq4](/en/code/download/8545/CLEAR_CHART_BY_NAME_AND_TYPE.mq4 "CLEAR_CHART_BY_NAME_AND_TYPE.mq4")
    (3.11 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/8545.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

CLEAR\_CHART\_ON\_NAME\_AND\_TYPE  script selectively clears the chart by the part of the name and/or by the type of the object.

The lines, marks, texts, channles are accumulated on the chart.

The experiments with the indicators leave thousands of graphic arrows.

You can close and reopen the chart to clear it.

Then you can apply a template to restore the settings.

However all graphical objects will be erased.

24 objects are appplied in MQL 4. They are the vertical and horizontal lines, trend lines, channel lines, Fibo, etc.

This srcipt has 25 parameters for the selective deleting.

The selectivity is specified with the external parameters:

First of all it is any part of the objects' names.

For example: "#" will clear the graphical history of the trades.

Then comes a bonus: the list of the objects that can be deleted using this script.

All fields are inactive on default.

Rules:

1. if all fields are inactive, i.e. they are empty or equal to False then the screen will be cleared from all the objects, i.e. the script will delete all graphical objects if you don't modify its parameters.

2. if you change even one parameter:

- specify a part of the object's name: only the objects that contain that part will be deleted.

- specify a type of the graphical objects: all the objects of that type will be deleted.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/8545](/ru/code/8545)

**Last comments |
[Go to discussion](/en/forum/26174)**
(2)

![Florin Ionescu](https://c.mql5.com/avatar/avatar_na2.png "Florin Ionescu")

**[Florin Ionescu](/en/users/ifmihai)**
|
16 Aug 2010 at 15:07

Very very nice and useful.

Thank you very much.

I've already made it in MQL5.

I can post it in codebase of MQL5. Are you ok with this?

Thanks anyway.

![Florin Ionescu](https://c.mql5.com/avatar/avatar_na2.png "Florin Ionescu")

**[Florin Ionescu](/en/users/ifmihai)**
|
16 Aug 2010 at 17:35

A more flexible version:

1. if user enters partial name and selects some types => script will delete all objects with those types and with that partial name

2. if user enters partial name but selects no types => script will delete all objects with that partial name

3. if user enters no partial name and selects some types => script will delete all objects with those types

4. if user enters no partial name and doesn't select any type => script will delete all objects

I find this version more intuitive.

this is just start() [function:](https://www.mql5.com/en/docs/constants/namedconstants/compilemacros "MQL5 documentation: Predefined Macrosubstitutions")

```mql5
int start()
  {
//----
   string s; 
   int i,j,k,_type;
   k=ObjectsTotal();
   bool typesSelected=false;
   for(j=0;j<24;j++) if(u[j]) typesSelected=true;
   
   if (StringLen(delete_on_Partial_name)!=0)
      if (typesSelected) //partial name entered and some types selected
        for (i=k-1;i>=0; i--) {//óäàëåíèå ïî òèïó//delete by type and partial name
            s=ObjectName(i);
            _type=ObjectType(s);
            if(_type>=0&&_type<=23)
                  for(j=0;j<24;j++)
                     if(u[_type] && StringFind(s,delete_on_Partial_name,0)>=0) ObjectDelete(s);
         } 
      else //partial name entered and no type selected
         for (i=k-1;i>=0; i--) {//óäàëÿåì ïàðòèþ//delete partial 
            s=ObjectName(i);
            if(StringFind(s,delete_on_Partial_name,0)>=0)ObjectDelete(s);
         }
   else 
      if (typesSelected) //no partial name entered and some types selected
         for (i=k-1;i>=0; i--) {//óäàëåíèå ïî òèïó//delete by type
            s=ObjectName(i);
            _type=ObjectType(s);
            if(_type>=0&&_type<=23)
                  for(j=0;j<24;j++)
                     if(u[_type]) ObjectDelete(s);
         }
      else //no partial name entered and no type selected  
         for (i=k-1;i>=0; i--) {//óäàëÿåì âñå//delte ALL
            s=ObjectName(i);
            ObjectDelete(s);
         }
   return(0);
}
```

![Pipsing_Close_on_DROP](https://c.mql5.com/i/code/script.png)
[Pipsing\_Close\_on\_DROP](/en/code/8546)

The script closes any position using the Drag'n'Drop method, i.e. the method of "drag the script with the mouse and drop it on the order lines".

![Brakeout_Trader_v1.mq4](https://c.mql5.com/i/code/expert.png)
[Brakeout\_Trader\_v1.mq4](/en/code/8543)

EA that opens a trade when a candlestick closes out of the specified level on a break through. An update to the graphical treminal. But the help in code further development is necessary.

![Moving Average Based on Demark's Approaches](https://c.mql5.com/i/code/indicator.png)
[Moving Average Based on Demark's Approaches](/en/code/8542)

The drawing of the moving average is performed on the basis of Demark's method "Daily Range Projections". Indicator on a zero bar points at the future price change.

![Expert Advisor Based on FXRaider's Trade Strategy](https://c.mql5.com/i/code/expert.png)
[Expert Advisor Based on FXRaider's Trade Strategy](/en/code/8539)

Expert Advisor Based on FXRaider's Trade Strategy by ForTrader.ru.