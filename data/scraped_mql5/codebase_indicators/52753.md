# Simplified "EuroSurge" Expert Advisor - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/52753

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/52753) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Experts](https://c.mql5.com/i/code/expert.png)

# Simplified "EuroSurge" Expert Advisor - expert for MetaTrader 4

[Bernard Petrus Le Roux](/en/users/noobfx_trading)

Views:
:   9889

Rating:
:   (7)

Published:
:   14 October 2024, 16:36

Updated:
:   17 October 2024, 15:56
:   [EuroSurge Simplified.mq4](/en/code/download/52753/eurosurge_simplified.mq4 "EuroSurge Simplified.mq4")
    (9.68 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/52753.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This code represents a simplified version of "EuroSurge" Expert Advisor (EA) for MetaTrader 4 (MT4). It implements multiple technical indicators for trade signal generation, provides configurable lot sizing, and manages trades based on specific conditions.

The Default settings work for EURUSD 5min

Settings based off optimizations since 2020

Input Parameters

1. Trade Size Calculation:

   * The EA allows for three types of trade size calculations:
     + Fixed lot size.
     + Balance percentage (percentage of account balance used to calculate lot size).
     + Equity percentage (percentage of account equity used to calculate lot size).
   * Inputs like FixedLotSize , TradeSizePercent , and MagicNumber configure the lot size and uniquely identify trades.
2. Indicator Settings:

   * The EA uses a variety of indicators for generating buy and sell signals:
     + Moving Average (MA) with configurable period.
     + Relative Strength Index (RSI) with configurable overbought/oversold levels.
     + MACD with adjustable EMA and signal line settings.
     + Bollinger Bands with adjustable periods and deviation settings.
     + Stochastic Oscillator with configurable %K, %D, and slowing parameters.
   * Each indicator can be toggled on or off using input parameters like UseMA , UseRSI , etc.

Signal Detection

* IsBuySignal(): This function checks if all buy conditions are met based on the chosen indicators. For example:

  + MA Condition: Checks if the shorter-term MA is above the longer-term MA.
  + RSI Condition: Looks for the RSI being below 50 (relaxed from the oversold level of 30).
  + MACD Condition: Compares the MACD line and signal line.
  + Bollinger Bands Condition: Checks if the price is below the lower band.
  + Stochastic Condition: Looks for %K and %D values below 50 (relaxed from 20).
* IsSellSignal(): Similar to IsBuySignal() , but reversed for selling conditions, such as checking for:

  + MA Short < MA Long,
  + RSI > 50 (relaxed from overbought at 70),
  + MACD line < signal line,
  + Price above the upper Bollinger band, etc.

Trade Execution

* When the buy or sell conditions are met, the EA places a trade with calculated stop loss (SL) and take profit (TP) based on multipliers ( SL\_Multiplier , TP\_Multiplier ).
* The lot size is calculated using the CalculateLotSize() function, which adjusts based on the selected TradeSizeType .
* Orders are executed using the OrderSend() function, with error handling to check for issues in placing trades.

**Last comments |
[Go to discussion](/en/forum/474676)**
(12)

![Bernard Petrus Le Roux](https://c.mql5.com/avatar/2023/9/64f8992c-9eec.jpg "Bernard Petrus Le Roux")

**[Bernard Petrus Le Roux](/en/users/noobfx_trading)**
|
29 Nov 2024 at 09:57

**Alir Raza [#](/en/forum/474676#comment_54983870):**  
 I have a question, as i have added the ea to the chart will it work automatically and only place trades when the given conditions are met even when i have closed mt4. Sorry, if it sounds ridiculous im new to this ea bot thing

Hey! Yes, you just add it to the 5min chart EURUSD, and as default it will work. I apologize for the late response, I do not get the notifications from this discussion. Send me a DM if you have further questions.

![Bernard Petrus Le Roux](https://c.mql5.com/avatar/2023/9/64f8992c-9eec.jpg "Bernard Petrus Le Roux")

**[Bernard Petrus Le Roux](/en/users/noobfx_trading)**
|
29 Nov 2024 at 09:58

**H.K. SIMON LEE [#](/en/forum/474676#comment_55074825):**  
 Don't seem to work

Sorry for the delayed response, I do not get notifications regarding this discussion. Make sure to use/test it on 5min EURUSD. If you have further difficulties, send me a DM and I will try to help where I can.

![hatchbob](https://c.mql5.com/avatar/avatar_na2.png "hatchbob")

**[hatchbob](/en/users/hatchbob)**
|
3 Dec 2024 at 02:07

Will this EA work in the US with the FIFO rules?

![Bernard Petrus Le Roux](https://c.mql5.com/avatar/2023/9/64f8992c-9eec.jpg "Bernard Petrus Le Roux")

**[Bernard Petrus Le Roux](/en/users/noobfx_trading)**
|
3 Dec 2024 at 04:58

**hatchbob [#](/en/forum/474676#comment_55283745):**  
 Will this EA work in the US with the FIFO rules?

Not this version no. As you have access to the source code, you can always add that.

![wfh9](https://c.mql5.com/avatar/avatar_na2.png "wfh9")

**[wfh9](/en/users/wfh9)**
|
18 Mar 2025 at 17:08

Don't seem to work on MT4

![The Doji Candelstick Pattern](https://c.mql5.com/i/code/expert.png)
[The Doji Candelstick Pattern](/en/code/52297)

The Doji Pattern Detector EA is designed to automatically detect the classic Doji candlestick pattern on any chart. A Doji pattern occurs when the open and close prices of a candle are very close to each other, signaling market indecision. This EA identifies Doji candles where the open and close prices are within a small range and positioned near the midpoint of the candle's high and low.

![PrevDayLines.mq4 - Draw Previous Day's High, Low, and Average Price Lines](https://c.mql5.com/i/code/script.png)
[PrevDayLines.mq4 - Draw Previous Day's High, Low, and Average Price Lines](/en/code/51820)

The PrevDayLines.mq4 script is a tool for MetaTrader 4 that automatically draws three critical price levels from the previous trading day on your chart. These levels include the highest price (Max), the lowest price (Min), and the average price (Avg), providing traders with a clear visual reference for key support and resistance points.

![Backtesting Trade Assistant Panel](https://c.mql5.com/i/code/expert.png)
[Backtesting Trade Assistant Panel](/en/code/52957)

Backtesting Trade Assistant Panel

![Candle Size](https://c.mql5.com/i/code/indicator.png)
[Candle Size](/en/code/53012)

The indicator searches for candles on the price chart that are larger than the size specified in the settings and marks them on the chart.