# Trading Session Mapping - script for MetaTrader 5

Source: https://www.mql5.com/en/code/64546

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/64546) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Trading Session Mapping - script for MetaTrader 5

[Conor Mcnamara](/en/users/phade)  |
[English](javascript:void(false);)

[Русский](/ru/code/64546) [中文](/zh/code/64546) [Español](/es/code/64546) [Deutsch](/de/code/64546) [日本語](/ja/code/64546) [Português](/pt/code/64546) [한국어](/ko/code/64546) [Français](/fr/code/64546) [Italiano](/it/code/64546) [Türkçe](/tr/code/64546)

Views:
:   3633

Rating:
:   (5)

Published:
:   7 October 2025, 14:03

Updated:
:   8 October 2025, 17:39
:   [SessionTimes.mq5](/en/code/download/64546/SessionTimes.mq5 "SessionTimes.mq5")
    (7.07 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/64546.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This tool is a visual aid which maps the correct trading session beside each hour on the 24-hour clock. It links the session name to the hour relating to your brokers server time, with your computers local time beside it.

Depending on what time it is, the current active session (or session overlap) is written in yellow text.

It may alleviate any confusion about which session is currently active, and which sessions are overlapping (relating to the server time).

[![](https://c.mql5.com/18/169/3313663415135__1.png)](https://c.mql5.com/18/169/3313663415135.png "https://c.mql5.com/18/169/3313663415135.png")

**Last comments |
[Go to discussion](/en/forum/497044)**
(7)

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
9 Oct 2025 at 06:29

**Conor Mcnamara [#](/en/forum/497044#comment_58221805):**  

I was getting very confused as well with the disparity between my timezone and the brokers timezone, so it drove me to build this.

I have only tested the results with my own brokers timezone on GMT+3, I hope there are no bugs. We'll see if anyone catches anything

will it detect if and when a broker changes to Daylight savings?

![Conor Mcnamara](https://c.mql5.com/avatar/2025/9/68dab3ec-4506.png "Conor Mcnamara")

**[Conor Mcnamara](/en/users/phade)**
|
9 Oct 2025 at 09:18

**Michael Charles Schefe [#](/en/forum/497044#comment_58225445):**  
 will it detect if and when a broker changes to Daylight savings?

Yes it should as nothing is hardcoded. It will calculate the GMT offset depending on what it finds through MqlDateTime   

The trick is that the session times are understood first in GMT, that is the base, and then the offset is computed

![Michael Charles Schefe](https://c.mql5.com/avatar/2021/5/60ADC6A5-6810.gif "Michael Charles Schefe")

**[Michael Charles Schefe](/en/users/ausimike)**
|
9 Oct 2025 at 09:54

**Conor Mcnamara [#](/en/forum/497044#comment_58226662):**  

The trick is that the session times are understood first in GMT, that is the base, and then the offset is computed

nice.

![lumache](https://c.mql5.com/avatar/avatar_na2.png "lumache")

**[lumache](/en/users/lumache)**
|
26 Oct 2025 at 06:40

does the script automatically adjust for daylight saving changes, or do we need to update the offsets manually when the clocks change?

![Conor Mcnamara](https://c.mql5.com/avatar/2025/9/68dab3ec-4506.png "Conor Mcnamara")

**[Conor Mcnamara](/en/users/phade)**
|
5 Nov 2025 at 18:17

**lumache [#](/en/forum/497044#comment_58359551):**  
 does the script automatically adjust for daylight saving changes?

   It should do

**lumache [#](/en/forum/497044#comment_58359551):**  
do we need to update the offsets manually when the clocks change?

nope, as the offsets are dynamically computed based on the server time that it reads

```mql5
int GetServerOffsetHours()
  {
   MqlDateTime gmt, local;
   TimeToStruct(TimeGMT(), gmt);
   TimeToStruct(TimeCurrent(), local);
   int offset = local.hour - gmt.hour;
   if(offset < 0)
      offset += 24;
   return offset;
  }

```

![Renko_Subwindow_ATRTrend](https://c.mql5.com/i/code/indicator.png)
[Renko\_Subwindow\_ATRTrend](/en/code/63485)

A combination of many known indicators

![Babi Ngepet](https://c.mql5.com/i/code/expert.png)
[Babi Ngepet](/en/code/64444)

I share my code for expert advisor babi ngepet

![Assisted position closing tool](https://c.mql5.com/i/code/expert.png)
[Assisted position closing tool](/en/code/51095)

This is an auxiliary take profit and stop loss tool, which can help you to tight stop loss and dynamic take profit. Updated

![OHLC Candles with Ask and Bid](https://c.mql5.com/i/code/indicator.png)
[OHLC Candles with Ask and Bid](/en/code/64697)

A candlestick chart which connects the ask price and bid price to the high and low of the candles