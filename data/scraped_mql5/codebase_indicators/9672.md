# Load Server History - script for MetaTrader 4

Source: https://www.mql5.com/en/code/9672

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9672) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Load Server History - script for MetaTrader 4

[Lam K](/en/users/klam2404)

Views:
:   19423

Rating:
:   (2)

Published:
:   15 May 2010, 07:08

Updated:
:   21 April 2014, 14:54
:   [LoadHistory.mq4](/en/code/download/9672/LoadHistory.mq4 "LoadHistory.mq4")
    (9.34 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9672.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This is a script to load the history at the server. Most of the Using, is for testing the Expert Advisor, Need more data to test!

1. But reminder to set the option at 1:

![](https://c.mql5.com/18/22/Option.jpg)

2. Set the Max Bars in History = 9999999999999999999999999999. Set the Max Bars in Chart = 99999999999999999999999999.

![symbol](https://c.mql5.com/18/22/Symbols.jpg "symbol")

3. Click you need to load at server. Unclick to unlike symbol.

![var](https://c.mql5.com/18/22/Variables.jpg "var")

**Note**

If fail to Load at no error!

* try Pass F3
* then delete the value "glSymbolHandle"
* then try again!

this is new version! but I have been forget What is the Update!

Sorry! Sorry! Sorry!

Thank You!

**Last comments |
[Go to discussion](/en/forum/27423)**
(8)

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
3 Jul 2012 at 05:23

It is great tools, but running no-correctly. Insert script to graph, graph si moving - it´s right, BUT no change variable CurrBars therefore script doing only 5x move graph (condition: k>4) then continue next timeframe. I am sure that problem is this row: CurrBars=iBars(Symbols[i],tf[j]); - CurrBars no actualization although graph move to older history.

I am using Vista and XP (two pc) both MT ver. 427.

Can you help me anyone [remove](https://www.mql5.com/en/docs/integration/python_metatrader5/mt5copyratesfrom_py "MQL5 Documentation: copy_rates_from function") this problem? Thank you very mutch!!!

![Lam K](https://c.mql5.com/avatar/2014/2/52F85D14-2F2B.gif "Lam K")

**[Lam K](/en/users/klam2404)**
|
10 Sep 2013 at 13:29

**endy5:**  

It is great tools, but running no-correctly. Insert script to graph, graph si moving - it´s right, BUT no change variable CurrBars therefore script doing only 5x move graph (condition: k>4) then continue next timeframe. I am sure that problem is this row: CurrBars=iBars(Symbols[i],tf[j]); - CurrBars no actualization although graph move to older history.

I am using Vista and XP (two pc) both MT ver. 427.

Can you help me anyone remove this problem? Thank you very mutch!!!

this problem can not be fix, this is the iBars do not update when the data come in the script is running!!

I know this, but this is MT4 bug!

So Need to run more and more one time!

if you data is ever download!

normal, I run it weekly! to keep data.

And most MT4 server do not keep data too long time(few month, a year) data!

![Imię Ja](https://c.mql5.com/avatar/2021/2/60188CD2-1E25.jpg "Imię Ja")

**[Imię Ja](/en/users/bigmelon75)**
|
4 Feb 2021 at 13:44

There is a problem with iBars, but I use default tamplate for new charts with Expert which sets iBars.

![Lam K](https://c.mql5.com/avatar/2014/2/52F85D14-2F2B.gif "Lam K")

**[Lam K](/en/users/klam2404)**
|
8 Sep 2024 at 16:41

**SatchFan [#](/en/forum/27423#comment_893861):**  

This script no longer works after update 401 on MT4. Please update.

Thank You!

This is the Last version 2

https://www.mql5.com/en/code/52004/302982#!tab=code

![Lam K](https://c.mql5.com/avatar/2014/2/52F85D14-2F2B.gif "Lam K")

**[Lam K](/en/users/klam2404)**
|
15 Sep 2024 at 16:26

New Version V2

[http://forex.kkstore.com/MT4/LoadHistoryV2.mq4](/go?link=http://forex.kkstore.com/MT4/LoadHistoryV2.mq4 "http://forex.kkstore.com/MT4/LoadHistoryV2.mq4")

![Wave Power](https://c.mql5.com/i/code/expert.png)
[Wave Power](/en/code/8730)

Wave Power

![Change your pending order PRICE, SL or TP by just drag and drop a script](https://c.mql5.com/i/code/script.png)
[Change your pending order PRICE, SL or TP by just drag and drop a script](/en/code/9668)

This script allow you to modify the price, the Stop Loss or take profit or a pending order by just point and drop a script

![Wavy Dash Indicator](https://c.mql5.com/i/code/indicator.png)
[Wavy Dash Indicator](/en/code/9674)

Indicator draw green and red lines similar to wavy dash. Green is a buy signal, red is a sell signal.

![Script opening orders](https://c.mql5.com/i/code/script.png)
[Script opening orders](/en/code/9673)

Script opening orders with specified Magic Number