# U.S. dollar index - service for MetaTrader 5

Source: https://www.mql5.com/en/code/63678

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Facebook](https://www.facebook.com/mql5.community/)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/63678) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Services](https://c.mql5.com/i/code/services.png)

# U.S. dollar index - service for MetaTrader 5

Slawa  |
[English](javascript:void(false);)

[Русский](/ru/code/63678) [中文](/zh/code/63678) [Español](/es/code/63678) [Deutsch](/de/code/63678) [日本語](/ja/code/63678) [Português](/pt/code/63678) [한국어](/ko/code/63678) [Français](/fr/code/63678) [Italiano](/it/code/63678) [Türkçe](/tr/code/63678)

Published by:
:   [Artyom Trishkin](/en/users/artmedia70)

Views:
:   2039

Rating:
:   (8)

Published:
:   13 October 2025, 12:59
:   [USD\_Index.mq5](/en/code/download/63678/USD_Index.mq5 "USD_Index.mq5")
    (3.01 KB)
    [view](# "view")

    [CurrencyIndex.mqh](/en/code/download/63678/CurrencyIndex.mqh "CurrencyIndex.mqh")
    (51.64 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/63678.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

The**US Dollar Index (USDX, DXY)** is a measure of the value of the US dollar relative to a basket of six major world currencies. It is calculated as a weighted geometric mean of the dollar's exchange rates against these currencies:

* **EURUSD** (euro) - weight -0.576
* **USDJPY** (Japanese Yen) - weight 0.136
* **GBPUSD** (British pound) - weight -0.119
* **USDCAD** (Canadian dollar) - weight 0.091
* **USDSEK** (Swedish krona) - weight 0.042
* **USDCHF** (Swiss Franc) - weight 0.036

**Calculation formula:**

```mql5
USDX = 50.14348112 × EURUSD^(-0.576) × USDJPY^(0.136) × GBPUSD^(-0.119) × USDCAD^(0.091) × USDSEK^(0.042) × USDCHF^(0.036)
```

The coefficient 50.14348112 is the historical base and the degrees are the weights of the currencies in the basket.

This service implements data flow for a synthetic instrument - dollar index. It creates a custom symbol (USDX.synthetic), calculates its price based on current currency quotes from the basket, updates bars and ticks. It works in an infinite loop, updating data every tenth millisecond.

![](https://c.mql5.com/18/168/terminal64_X2t4VgVz8D.png)

You can read more about this Service in the article["Dollar Index and Euro Index Charts - an example of the Service in MetaTrader 5](/en/articles/15684)"

When launched, the service automatically creates a synthetic symbol of the dollar index (USDX.synthetic) based on the quotes of the currency basket, opens its chart and updates ticks and bars of this instrument.   
 The user can analyse the chart of this index, use it in indicators and test strategies. The service is designed to assess the strength of the dollar and build trading systems based on it.

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/63678](/ru/code/63678)

![Delete Trading History](https://c.mql5.com/i/code/script.png)
[Delete Trading History](/en/code/63519)

The script removes all autotrading icons from the current chart

![Find Pin Bars](https://c.mql5.com/i/code/indicator.png)
[Find Pin Bars](/en/code/63672)

The indicator searches the chart for Price Action patterns "Pin Bar" and puts icons on the bar with the found pattern.

![Zigzag Custom Timeframe](https://c.mql5.com/i/code/indicator.png)
[Zigzag Custom Timeframe](/en/code/64951)

It's the classic zigzag with a timeframe input to display a HTF zigzag on a LTF chart

![Consolidation](https://c.mql5.com/i/code/indicator.png)
[Consolidation](/en/code/64955)

This indicator calculate count of one direction movement in selected period.