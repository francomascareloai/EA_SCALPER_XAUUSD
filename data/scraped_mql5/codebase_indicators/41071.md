# Closing All Open Orders - script for MetaTrader 4

Source: https://www.mql5.com/en/code/41071

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/41071) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Closing All Open Orders - script for MetaTrader 4

[Muhammad Ali Akbar](/en/users/maakbarofficial)

Views:
:   20363

Rating:
:   (33)

Published:
:   20 October 2022, 15:59

Updated:
:   20 October 2022, 16:10
:   [Closing All Open Orders.mq4](/en/code/download/41071/closing_all_open_orders.mq4 "Closing All Open Orders.mq4")
    (1.6 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/41071.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This Script Closed All Open Orders At Once (Except Pending Orders)

[![](https://c.mql5.com/18/105/Closing_All_Open_Orders__1.gif)](https://c.mql5.com/18/105/Closing_All_Open_Orders.gif "https://c.mql5.com/18/105/Closing_All_Open_Orders.gif")

**Last comments |
[Go to discussion](/en/forum/434918)**
(11)

![Alain Verleyen](https://c.mql5.com/avatar/2024/5/663a6cdf-e866.jpg "Alain Verleyen")

**[Alain Verleyen](/en/users/angevoyageur)**
|
1 Apr 2023 at 15:54

**W., Eddy [#](/en/forum/434918#comment_45991170):**  
 This stuff doesnt work at all. I pasted it onto the MT4 script and dragged it to the chart few times, none of my trades are closed, finally have to closed trades manually one by one. It is a garbage tool.

What is printed in the log (Experts and Journal) ? Please check and report it here.

It should work.

![conimo](https://c.mql5.com/avatar/avatar_na2.png "conimo")

**[conimo](/en/users/conimo)**
|
12 Jul 2023 at 19:14

**Alain Verleyen [#](/en/forum/434918#comment_45996007):**  

What is printed in the log (Experts and Journal) ? Please check and report it here.

It should work.

This is what the errors says...Expert 'Close All Trade' is not custom indicator and will be removed

![Muhammad Nasrullah](https://c.mql5.com/avatar/2023/9/64FE96FD-6D83.jpg "Muhammad Nasrullah")

**[Muhammad Nasrullah](/en/users/nasrule1412)**
|
11 Sep 2023 at 04:55

**W., Eddy [#](/en/forum/434918#comment_45991170):**  
 This stuff doesnt work at all. I pasted it onto the MT4 script and dragged it to the chart few times, none of my trades are closed, finally have to closed trades manually one by one. It is a garbage tool.

did u enable auto trading ?

![Fernando Carreiro](https://c.mql5.com/avatar/2025/9/68d40cf8-38fb.png "Fernando Carreiro")

**[Fernando Carreiro](/en/users/fmic)**
|
11 Sep 2023 at 12:48

**[@conimo](/en/users/conimo) [#](/en/forum/434918#comment_48082856):** This is what the errors says...Expert 'Close All Trade' is not custom indicator and will be removed

That is obvious, because this is NOT a custom indicator. It is a ***Script***, not an *Indicator*. Put it in the "Scripts" folder. Indicators cannot trade.

![jordan0105](https://c.mql5.com/avatar/avatar_na2.png "jordan0105")

**[jordan0105](/en/users/jordna0105)**
|
14 Sep 2023 at 19:01

Thanks is working, Make sure you turn on auto trading and drag the script into the chart then it will start close all the trades. Thank You

![TSV - Time Segmented Volume](https://c.mql5.com/i/code/indicator.png)
[TSV - Time Segmented Volume](/en/code/40762)

Time segmented volume (TSV) is a technical analysis indicator developed by Worden Brothers Inc. that segments a stockâ€™s price and volume according to specific time intervals. The price and volume data is then compared to uncover periods of accumulation (buying) and distribution (selling).
Time Segmented Volume was developed by Worden Brothers, Inc to be a leading indicator by comparing various time segments of both price and volume.

![News Detector for Mt4 & MT5](https://c.mql5.com/i/code/expert.png)
[News Detector for Mt4 & MT5](/en/code/40598)

One code that works for both Mt4 and Mt5 combined.
Salient features of the code:
-Filter News by High, Low or Medium Volatility
-Filter By currencies
-Filter by News Keyword
-Auto GMT offset check
-Dashboard to show upcoming News (Can be enabled or disabled)
-Lines on chart for all Upcoming events
-Code can be easily modified to place trade at certain time before or after an event or to just stop trading during events.

![Open Order With Trade Management](https://c.mql5.com/i/code/script.png)
[Open Order With Trade Management](/en/code/41084)

A Simple Trade Management Script

![Close All Trade at Once](https://c.mql5.com/i/code/expert.png)
[Close All Trade at Once](/en/code/41099)

This EA will Close All your current running Trades when Applied.