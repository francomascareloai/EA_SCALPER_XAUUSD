# MT5 to Telegram - Professional Trading Notifications Library - library for MetaTrader 5

Source: https://www.mql5.com/en/code/63585

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/63585) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# MT5 to Telegram - Professional Trading Notifications Library - library for MetaTrader 5

[Stepan Sinic](/en/users/stepansinic)  |
[English](javascript:void(false);)

[Ğ ÑƒÑÑĞºĞ¸Ğ¹](/ru/code/63585) [ä¸­æ–‡](/zh/code/63585) [EspaÃ±ol](/es/code/63585) [Deutsch](/de/code/63585) [æ—¥æœ¬èª](/ja/code/63585) [PortuguÃªs](/pt/code/63585) [í•œêµ­ì–´](/ko/code/63585) [FranÃ§ais](/fr/code/63585) [Italiano](/it/code/63585) [TÃ¼rkÃ§e](/tr/code/63585)

Views:
:   1685

Rating:
:   (6)

Published:
:   10 October 2025, 12:59
:   \MQL5\Experts\

    [testbot.mq5](/en/code/download/63585/testbot.mq5 "testbot.mq5")
    (42.56 KB)
    [view](# "view")

    \MQL5\Include\

    [TelegramBot.mqh](/en/code/download/63585/TelegramBot.mqh "TelegramBot.mqh")
    (186.27 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/63585.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

Professional library of Telegram Bot integration for MetaTrader 5. A complete solution for sending trading signals, screenshots, reports and real-time notifications to Telegram channels and groups.

## Main features

* ğŸ“¨ **Real-time trade notifications** - Instant alerts on opening/closing/modifying positions
* ğŸ“¸ **Chart screenshots** - Automatically capture charts with annotations
* ğŸ“Š A **ccount Reports** - Daily, weekly and monthly performance reports
* âš ï¸ **Risk Management Alerts** - Drawdown, margin level and stop-out alerts
* ğŸ”„ **Message queuing system** - Reliable delivery with retry mechanism
* ğŸ‘¥ **Multi-channel support** - Send to multiple Telegram chats/channels
* ğŸ“ **Template system** - Customisable message templates
* ğŸ¯ S **mart rate limiting** - Prevent API blocking

## Requirements

* MetaTrader 5 version 2375 or higher
* Telegram Bot token (get it from @BotFather)
* Chat or channel ID
* Internet connection

## Installation

### Step 1: Create a Telegram Bot

1. Open Telegram and find @BotFather
2. Send the command /newbot
3. Choose a name for your bot
4. Select username (must end with 'bot')
5. Save the token provided by BotFather

### Step 2: Obtain a Chat ID

1. Add the bot to a group/channel or start a private chat room
2. Send any message to the bot
3. Go to: https://api.telegram.org/bot<YOUR\_TOKEN>/getUpdates
4. Find the chat ID in the reply

### Step 3: Setup MT5

1. Open MT5 â†’ Service â†’ Settings â†’ Expert Advisors
2. Tick the "Allow WebRequest for the following URLs" box
3. Add URL: https://api.telegram.org
4. Click OK

### Step 4: Install files

1. Copy TelegramBot.mqh to the MQL5/Include/ folder.
2. Copy TelegramBot\_Example.mq5 to the MQL5/Experts/ folder.
3. Compile both files

## Quick Start

```mql5
#include <TelegramBot.mqh>

CTelegramBot bot;

int OnInit()
{
Â Â Â Â // Initialising the bot
Â Â Â Â if(!bot.Initialize("YOUR_TOKEN"., "YOUR_CHAT_ID"))
Â Â Â Â {
Â Â Â Â Â Â Â Â Print("Failed to initialise bot");
Â Â Â Â Â Â Â Â return INIT_FAILED;
Â Â Â Â }
Â Â Â Â 
Â Â Â Â // Sending a test message
Â Â Â Â bot.SendMessage("Bot successfully connected!");
Â Â Â Â 
Â Â Â Â // Send a screenshot of the graph
Â Â Â Â bot.SendChartScreenshot("Current market situation.");
Â Â Â Â 
Â Â Â Â return INIT_SUCCEEDED;
}
```

## API Reference

### Basic Messages

```mql5
bool SendMessage(string text);
bool SendHTMLMessage(string text);
bool SendMarkdownMessage(string text);
bool SendMessageToAll(string text);
```

### Trading Signals

```mql5
bool SendTradeSignal(ENUM_SIGNAL_TYPE type, string symbol, double price);
bool SendPositionOpened(ulong ticket, string symbol, ENUM_POSITION_TYPE type, double volume, double price);
bool SendPositionClosed(ulong ticket, string symbol, double profit, double commission, double swap);
```

### Media files

```mql5
bool SendPhoto(string file_path, string caption);
bool SendDocument(string file_path, string caption);
bool SendChartScreenshot();
bool SendChartScreenshot(string caption);
```

### Reports

```mql5
bool SendAccountStatus();
bool SendDailyReport();
bool SendWeeklyReport();
bool SendMonthlyReport();
```

### Risk Management

```mql5
bool SendRiskAlert(double drawdown_percent);
bool SendMarginWarning(double margin_level);
bool SendStopOutWarning();
```

## Expert Advisor example

The package includes a fully functional example of the Expert Advisor, demonstrating:

* Position monitoring with notifications
* Automatic screenshots at trading events
* Periodic account status updates
* Risk management alerts
* Daily reports
* Demo trading signals

## Message formatting

### HTML format (recommended)

```mql5
string message = "<b> Ğ–Ğ¸Ñ€Ğ½Ñ‹Ğ¹ Ñ‚ĞµĞºÑÑ‚</b>\n";
message += "<i> ĞšÑƒÑ€ÑĞ¸Ğ²</i>\n";
message += "<code> ĞœĞ¾Ğ½Ğ¾ÑˆĞ¸Ñ€Ğ¸Ğ½Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´</code>\n";
message += "<a href='http://example.com'> Ğ¡ÑÑ‹Ğ»ĞºĞ°</a>";
bot.SendHTMLMessage(message);
```

### Markdown format

```mql5
string message = "Bold text{\n}";
message += "Italics.";
message += "Monospaced code.";
message += "[Link](http://example.com)";
bot.SendMarkdownMessage(message);
```

## Performance

* **Message Speed:** Up to 30 messages per minute
* **File size limit:** 50MB per file
* **Message length:** 4096 characters
* **Signature length:** 1024 characters
* **Queue size:** 100 messages
* **Average response time:** 50-200ms

## Error handling

The library includes complex error handling:

* Connection checking
* Limit overrun protection
* Automatic retries on failure
* Queuing system for failed messages
* Detailed error logging

## Support

* **Documentation:** Full API documentation is included in the source code
* **EA example:** Working example with all features
* **Debug Mode:** Built-in debugging for troubleshooting

## Version History

### Version 1.0.0 (2024)

* First release
* Full integration of Telegram Bot API
* Support for multiple channels
* Queuing system
* Template engine
* Risk management alerts

## Licence

This library is provided "as is" for use in MetaTrader 5. It is free for personal and commercial use.

## Author

**Forex Trading Blueprint**(Stepan Sinic)

## Disclaimer

This software is provided "as is" without warranty of any kind. Trading involves a substantial risk of loss and is not suitable for all investors. Past performance is not an indicator of future results.

---

*If you find this library useful, please rate it on MQL5 CodeBase!*

## Detailed setup instructions

### Creating a bot in Telegram

1. **Find BotFather**

   * Open Telegram
   * Type @BotFather in the search
   * Press START
2. **Create a new bot**

   * Send the command /newbot
   * Enter the bot's name (for example: "My Trading Bot")
   * Enter the bot's username (for example: my\_trading\_bot)
   * Save the token of the form: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz
3. **Configure the bot**

   * Send /setprivacy and select DISABLE (for working in groups).
   * Send /setjoingroups and select ENABLE (to add to groups)

### Getting a Chat ID

#### For private messages:

1. Start a dialogue with your bot
2. Send any message
3. Open in your browser: https://api.telegram.org/bot<TOKEN>/getUpdates
4. Find "chat":{"id":123456789} - this is your Chat ID

#### For a group:

1. Add the bot to a group
2. Send a message in the group
3. Open in a browser: https://api.telegram.org/bot<TOKEN>/getUpdates
4. Find "chat":{"id":-123456789} is a negative number for groups

#### For channel:

1. Add a bot as a channel administrator
2. Send a message to the channel
3. Or use @username of the channel as Chat ID

### Frequent Problem Solution

#### WebRequest error:

Solution: 1. Tools â†’ Settings â†’ Advisors 2. âœ“ Allow WebRequest for the following URLs 3. Add: https://api.telegram.org 4. Restart MT5

#### Bot is not responding:

Check: 1. Correct token 2. Chat ID is correct 3. Internet connection 4. WebRequest settings

#### Messages are not getting through:

Possible causes: 1. API limit exceeded (30 messages/minute) 2. Incorrect HTML format in the message 3. Message is too long (>4096 characters)

## Usage Examples

### Sending a buy signal

```mql5
bot.SendTradeSignal(SIGNAL_BUY, "EURUSD", 1.1850, 1.1800, 1.1900);
```

### Sending a screenshot with annotation

```mql5
string caption = "<b> Ğ¢Ğ¾Ñ‡ĞºĞ° Ğ²Ñ…Ğ¾Ğ´Ğ°</b>\n";
caption += "ĞŸĞ°Ñ€Ğ°: EURUSD\n";
caption += "Ğ¢Ğ¸Ğ¿: BUY\n";
caption += "Ğ¦ĞµĞ½Ğ°: 1.1850";
bot.SendChartScreenshot(caption);
```

### Sending account status

```mql5
bot.SendAccountStatus();
// Automatically send balance, equity, margin, etc.
```

### Setting up daily reports

```mql5
// In OnTimer() advisor
if(TimeHour(TimeCurrent()) == 23 && TimeMinute(TimeCurrent()) == 0)
{
Â Â Â Â bot.SendDailyReport();
}
```

### Drawdown alert

```mql5
double drawdown = CalculateDrawdown(); // Your calculation function
if(drawdown > 20.0) // The drawdown is more than 20%
{
Â Â Â Â bot.SendRiskAlert(drawdown);
}
```

## Message structure

### Position open

```mql5
[POSITION OPENED] â†‘
================
Ticket: #12345678
Symbol: EURUSD
Type: BUY
Volume: 0.10
Price: 1.18500
Time: 2024.01.15 10:30
================
```

### Position closed

```mql5
[POSITION CLOSED]
================
Ticket: #12345678
Symbol: EURUSD
Profit: +125.50 USD
Commission: -2.00
Swap: -0.50
Total: +123.00 USD
Time: 2024.01.15 14:45
================
```

### Daily report

```mql5
[DAILY REPORT]
================
Date: 2024.01.15

ACCOUNT SUMMARY
----------------
Balance: 10,125.50 USD
Equity: 10,250.00 USD
Floating P/L: +124.50 USD

TRADING ACTIVITY
----------------
Trades Today: 5
Today's Result: +250.00 USD
Open Positions: 2

BOT STATISTICS
----------------
Messages Sent: 45
Signals Sent: 8
Success Rate: 98.5%
================
```

Translated from Russian by MetaQuotes Ltd.   
Original code: [https://www.mql5.com/ru/code/63585](/ru/code/63585)

![OHLC Candles with Ask and Bid](https://c.mql5.com/i/code/indicator.png)
[OHLC Candles with Ask and Bid](/en/code/64697)

A candlestick chart which connects the ask price and bid price to the high and low of the candles

![Assisted position closing tool](https://c.mql5.com/i/code/expert.png)
[Assisted position closing tool](/en/code/51095)

This is an auxiliary take profit and stop loss tool, which can help you to tight stop loss and dynamic take profit. Updated

![OHLC Candles with extreme tick price tracking](https://c.mql5.com/i/code/indicator.png)
[OHLC Candles with extreme tick price tracking](/en/code/64706)

This is an OHLC candlestick chart which records the highest ask and lowest bid on each new bar

![TimeBar](https://c.mql5.com/i/code/indicator.png)
[TimeBar](/en/code/51015)

A simple information indicator that shows the remaining time until the bar closes, as well as the time elapsed since the bar opened and the current time.