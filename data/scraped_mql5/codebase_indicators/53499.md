# Comment - library for MetaTrader 5

Source: https://www.mql5.com/en/code/53499

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/53499) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# Comment - library for MetaTrader 5

[Aleksandr Slavskii](/en/users/s22aa)  |
[English](javascript:void(false);)

[Русский](/ru/code/53499) [中文](/zh/code/53499) [Español](/es/code/53499) [Deutsch](/de/code/53499) [日本語](/ja/code/53499) [Português](/pt/code/53499) [한국어](/ko/code/53499) [Français](/fr/code/53499) [Italiano](/it/code/53499) [Türkçe](/tr/code/53499)

Views:
:   2866

Rating:
:   (13)

Published:
:   14 November 2024, 17:29

Updated:
:   5 December 2024, 16:27
:   [Example.mq5](/en/code/download/53499/example.mq5 "Example.mq5")
    (0.94 KB)
    [view](# "view")

    [Comm.mqh](/en/code/download/53499/comm.mqh "Comm.mqh")
    (19.43 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/53499.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

A simple replacement for a comment. Works in the tester 50 times faster than the standard function.

It is known that the standard "Comment" function slows down the tester very much.

Here is an example of code and its execution time in the tester.

```mql5
void OnTick()
  {
   MqlTick tick;
   SymbolInfoTick(_Symbol, tick);
   if(tick.ask != 0 && tick.bid != 0)
     {
      string str = StringFormat("ask  = %.5f\nbid  = %.5f\ntime = %s", tick.ask, tick.bid, TimeToString(tick.time, TIME_DATE | TIME_SECONDS));
      Comment(str);
     }
  }
//+------------------------------------------------------------------+
```

![](https://c.mql5.com/18/157/1.png)

11 minutes 28 seconds  !!!

![](https://c.mql5.com/18/157/2.png)

Just add the code  #include <Comm.mqh>

```mql5
#include <Comm.mqh>
//+------------------------------------------------------------------+
void OnTick()
  {
   MqlTick tick;
   SymbolInfoTick(_Symbol, tick);
   if(tick.ask != 0 && tick.bid != 0)
     {
      string str = StringFormat("ask  = %.5f\nbid  = %.5f\ntime = %s", tick.ask, tick.bid, TimeToString(tick.time, TIME_DATE | TIME_SECONDS));
      Comment(str);
     }
  }
//+------------------------------------------------------------------+
```

![](https://c.mql5.com/18/157/3.png)

14  seconds !!!  

### **14 seconds instead of 11 minutes 28 seconds**

11\*60+28=688,    688/14=49,   49 times faster!!!

### 

Example of usage with default settings.

No need to declare an instance of the class.

```mql5
#include <Comm.mqh>
//+------------------------------------------------------------------+
void OnTick()
  {
   string str = "PROGRAM_NAME = " + MQLInfoString(MQL_PROGRAM_NAME) + "\n" + (string)TimeCurrent();
   Comment(str);
  }
//+------------------------------------------------------------------+
```

![](https://c.mql5.com/18/157/1.gif)

Example of use with the ability to change settings.

```mql5
#include <Comm.mqh>
//+------------------------------------------------------------------+
void OnTick()
  {
   string str = "PROGRAM_NAME = " + MQLInfoString(MQL_PROGRAM_NAME) + "\n" + (string)TimeCurrent();
   Comment(str, _Xpx, _Ypx, _clrText, _FontSize, _clrBack, _Transparency, _Font, _corner);
  }
//+------------------------------------------------------------------+
```

![](https://c.mql5.com/18/157/2.gif)

Example of using multiple instances of a comment.

```mql5
#include <Comm.mqh>
CComm comm1;
CComm comm2;
CComm comm3;
CComm comm4;
//+------------------------------------------------------------------+
void OnTick()
  {
   MqlTick tick;
   SymbolInfoTick(_Symbol, tick);
   if(tick.ask != 0 && tick.bid != 0)
     {
      string str = StringFormat("ask  = %.5f\nbid  = %.5f\ntime = %s", tick.ask, tick.bid, TimeToString(tick.time, TIME_DATE | TIME_SECONDS));
      Comment(str);
      comm1.Comm(str, _Xpx, _Ypx + 80, _clrText, _FontSize, _clrBack, _Transparency, _Font, _corner);
      comm2.Comm(str, _Xpx + 10, _Ypx + 20, _clrText, _FontSize, clrGreen, _Transparency, _Font, CORNER_LEFT_LOWER);
      comm3.Comm(str, _Xpx + 30, _Ypx, clrGreen, _FontSize, _clrBack, _Transparency, _Font, CORNER_RIGHT_LOWER);
      comm4.Comm(str, _Xpx, _Ypx + 50, clrBlack, _FontSize, _clrBack, _Transparency, _Font, CORNER_RIGHT_UPPER);
     }
  }
//+------------------------------------------------------------------+
```

![](https://c.mql5.com/18/157/3.gif)

update 05.12.2024   version   1.06

update 05.12.2024   version   1.07

**Last comments |
[Go to discussion](/en/forum/476513)**
(11)

![Harry Santoso](https://c.mql5.com/avatar/2019/6/5D165A96-EDA9.png "Harry Santoso")

**[Harry Santoso](/en/users/kangdono)**
|
4 Aug 2025 at 06:19

**Gerard William G J B M Dinh Sy [#](/en/forum/476513#comment_57719936):**  
 This code clears the warning  
 Does it work? You tell me

It works perfectly. Thanks Sir.

![Gerard William G J B M Dinh Sy](https://c.mql5.com/avatar/2023/8/64ccdcc6-13d0.jpg "Gerard William G J B M Dinh Sy")

**[Gerard William G J B M Dinh Sy](/en/users/william210)**
|
4 Aug 2025 at 06:31

**Harry Santoso [#](/en/forum/476513#comment_57720394) :**  

It works perfectly. Thanks Sir.

To be honest it wasn't very complicated lol

![kishore.bharat](https://c.mql5.com/avatar/avatar_na2.png "kishore.bharat")

**[kishore.bharat](/en/users/kishore.bharat)**
|
5 Aug 2025 at 17:49

Thanks [madcedar](/en/users/madcedar) for your comment on canvas.mqh. Will watch out for the update

And thanks [Gerard William G J B M Dinh Sy](/en/users/william210) for the interim code fix.

![Taras Slobodyanik](https://c.mql5.com/avatar/2016/6/5762BB0D-F098.png "Taras Slobodyanik")

**[Taras Slobodyanik](/en/users/tecciztecatl)**
|
8 Aug 2025 at 12:28

**Gerard William G J B M Dinh Sy [#](/en/forum/476513#comment_57720438):**  

To be honest it wasn't very complicated lol

it could be even easier lol

```mql5
for ( int i= 0 ; i<imin; i++)
     {
      CPoint tmp;
      tmp = p[0];   

       ArrayCopy (p,p, 0 , 1 );
      p[total- 1 ]=tmp;
     }
```

![Juan Luis De Frutos Blanco](https://c.mql5.com/avatar/2023/2/63df76f5-9ce7.jpg "Juan Luis De Frutos Blanco")

**[Juan Luis De Frutos Blanco](/en/users/febrero59)**
|
28 Aug 2025 at 23:33

Please, the solution for this error?

[![](https://c.mql5.com/3/473/3811989784673__1.png)](https://c.mql5.com/3/473/3811989784673.png "https://c.mql5.com/3/473/3811989784673.png")

![Volume weighted line chart with smoothing](https://c.mql5.com/i/code/indicator.png)
[Volume weighted line chart with smoothing](/en/code/53468)

A smoother line chart which cuts out a lot of the market noise and uses volume in the formula

![simple mt5 trade copier](https://c.mql5.com/i/code/expert.png)
[simple mt5 trade copier](/en/code/53406)

this is a copier template

![SUPERMACBOT](https://c.mql5.com/i/code/expert.png)
[SUPERMACBOT](/en/code/53526)

The SUPERMACBOT is a fully automated trading robot that combines the power of the Moving Average Crossover strategy with the MACD Indicator to deliver precise and reliable trade signals. This Expert Advisor is designed to work seamlessly on all symbols and timeframes, offering versatility and adaptability for traders across various market conditions.

![MT4 to MT5 Convertor (MT5Compat.mqh)](https://c.mql5.com/i/code/library.png)
[MT4 to MT5 Convertor (MT5Compat.mqh)](/en/code/53547)

A new interface library has been developed to simplify the process of converting MT4 indicators and Expert Advisors (EAs) to MT5. This library supports most of the MetaTrader 4 functions, offering developers a unified solution for cross-platform compatibility.