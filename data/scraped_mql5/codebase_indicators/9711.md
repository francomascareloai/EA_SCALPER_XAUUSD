# DROP LEVEL LINES (WITH LEVEL VALUE AND AUTOMATIC COLOR CHANGING) - script for MetaTrader 4

Source: https://www.mql5.com/en/code/9711

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/9711) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# DROP LEVEL LINES (WITH LEVEL VALUE AND AUTOMATIC COLOR CHANGING) - script for MetaTrader 4

[blackhawk](/en/users/blackhawk)

Views:
:   24356

Rating:
:   (5)

Published:
:   10 June 2010, 08:19

Updated:
:   21 April 2014, 14:54
:   [DROP\_LEVEL\_LINES.mq4](/en/code/download/9711/DROP_LEVEL_LINES.mq4 "DROP_LEVEL_LINES.mq4")
    (4.5 KB)
    [view](# "view")

    [DROP\_LEVEL\_LINES\_Rev1.mq4](/en/code/download/9711/DROP_LEVEL_LINES_Rev1.mq4 "DROP_LEVEL_LINES_Rev1.mq4")
    (4.67 KB)
    [view](# "view")

    [DROP\_LEVEL\_LINES\_Rev2.mq4](/en/code/download/9711/DROP_LEVEL_LINES_Rev2.mq4 "DROP_LEVEL_LINES_Rev2.mq4")
    (4.67 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/9711.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

NEW REVISION 2010-12-17:

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

DROP\_LEVEL\_LINE\_Rev2.mq4: DROP\_LEVEL\_LINES.mq4 has been revised. The last revision Rev1 was displaying all prices with 4 digits. In this new revision (Rev2) the number of digits displayed is adjusted to the Market. (Example: With Rev1: EURUSD = 1.3452 USDJPY = 83.8200 DJ30 = 11332.0000 With new Rev2: EURUSD = 1.3452 USDJPY = 83.82 DJ30 = 11332).

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

NEW REVISION:

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

DROP\_LEVEL\_LINE\_Rev1.mq4: DROP\_LEVEL\_LINES.mq4 has been revised. With the new revision the script will work also when MT4 is not connected to server. The old version could only work when the platform was connected to server.

\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*\*

This is the new release of my previous script for horizontal segment lines (level lines).

[http://codebase.mql4.com/en/code/9708](/en/code/9708) --> Previous code

What this script can do:

* This new script will draw horizontal lines like a segment (short line).
* It will show a text with the value (price) of the level line inserted above or below the line.
* It will recognize when the line itâ€™s a bottom or top line changing automatically the color of the line and the position of the text (below a bottom line or above a top line).

These properties can be modified by editing the code:

1. You can modify the color for bottom or top lines
2. You can modify the width of the lines
3. You can modify the length of the segment line
4. You can modify the line type: segment (short line) or Ray (long full line)
5. You can choose if you want to insert the level value as a text or not
6. You can modify the distance of the text from the line
7. You can modify the font size of the text
8. You can modify the color of the text

Graph illustration:

[![](https://c.mql5.com/18/22/Segment_lines_small.jpg)](https://c.mql5.com/18/22/Segment_lines.JPG)

**Last comments |
[Go to discussion](/en/forum/27465)**
(14)

![Mike Tanton](https://c.mql5.com/avatar/2013/7/51E5DEFF-A263.jpg "Mike Tanton")

**[Mike Tanton](/en/users/miket)**
|
22 Aug 2015 at 16:05

If you don't mind me adding to your work...

![Mike Tanton](https://c.mql5.com/avatar/2013/7/51E5DEFF-A263.jpg "Mike Tanton")

**[Mike Tanton](/en/users/miket)**
|
22 Aug 2015 at 20:28

Sorry...

![Type636](https://c.mql5.com/avatar/2016/1/56A9261A-4E19.jpg "Type636")

**[Type636](/en/users/karado58)**
|
1 Mar 2016 at 18:22

Anyone else out there working on this script?

![Komgrit Sungkhaphong](https://c.mql5.com/avatar/2023/4/643f6746-e37b.png "Komgrit Sungkhaphong")

**[Komgrit Sungkhaphong](/en/users/iamgotzaa)**
|
27 Dec 2017 at 08:49

**Karado58:**  
 Anyone else out there working on this script?

I tested it.

Work very well.

[MetaTrader Trading Platform Screenshots](/en/charts)

[USDJPYf, H4, 2017.12.27](/en/charts/8095640/usdjpyf-h4-fort-financial-services)

Fort Financial Services Ltd., MetaTrader 4, Real

![USDJPYf, H4, 2017.12.27, Fort Financial Services Ltd., MetaTrader 4, Real](https://charts.mql5.com/17/107/usdjpyf-h4-fort-financial-services.png)

![Behzad Mohebali](https://c.mql5.com/avatar/2015/12/567BD66E-8046.jpg "Behzad Mohebali")

**[Behzad Mohebali](/en/users/behzadma8)**
|
5 Jan 2021 at 10:07

Hi

Please add the description item of the line as well

For example, the price at which the line is drawn should be included in the description

Or the user's desired name, which is later defined by him in the code, should be inserted in the description

Thankful

![Higher timeframe candles on your chart](https://c.mql5.com/i/code/indicator.png)
[Higher timeframe candles on your chart](/en/code/9712)

This indicator allows you to draw candles of an higher timeframe on your chart. Example: Draw H1 candles on your M1 chart.

![Progressive Grid Positionning System (Entry and Exit)](https://c.mql5.com/i/code/expert.png)
[Progressive Grid Positionning System (Entry and Exit)](/en/code/9713)

This systems allows you to progressively enter and exit the market. You define the amount you want to risk (%) and it calculates automatically the different levels of entering and exiting the market according to the amount of levels you have defined.

![Trinity-Impulse](https://c.mql5.com/i/code/indicator.png)
[Trinity-Impulse](/en/code/9717)

Zero values characterizes the Flat Trend. V-shaped pulse indicates the entrance to the opposite direction. U-shaped ilpuls - entry in the same direction.

![ORDER MANAGEMENT FOR EA DEVELOPMENT - LAST VERSION](https://c.mql5.com/i/code/expert.png)
[ORDER MANAGEMENT FOR EA DEVELOPMENT - LAST VERSION](/en/code/9718)

THIS IS THE LAST VERSION for EA DEVELOPMENT