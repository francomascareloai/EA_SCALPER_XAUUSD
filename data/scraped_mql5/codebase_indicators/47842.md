# SSH Multi Time-Frame - indicator for MetaTrader 4

Source: https://www.mql5.com/en/code/47842

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/47842) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# SSH Multi Time-Frame - indicator for MetaTrader 4

[Mahdi Ebrahimzadeh](/en/users/pipcrop)

Views:
:   10063

Rating:
:   (6)

Published:
:   9 January 2024, 18:38

Updated:
:   9 January 2024, 18:40
:   [SSH\_MultiTF\_V0.mq4](/en/code/download/47842/ssh_multitf_v0.mq4 "SSH_MultiTF_V0.mq4")
    (11.55 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/47842.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

SSH is a famous indicator which uses moving average high and low prices of candles to draw two lines. The cross point of these two lines considered as signal for buy or sell.

Illustrating higher TFs (time-frames) in lower one is a preferred way of technical tracking of market. SSH Multi-TF prepares higher TF of this indicator in lower TFs.

Moreover, user can select higher TF from a small panel inside of chart without opening indicator input. Also, changing TF will change sort of Time-Frame buttons as we do not need lower time frame button to select.

[![SSH Multi-TF](https://c.mql5.com/18/153/EURUSDH1__1.png "SSH Multi-TF")](https://c.mql5.com/18/153/EURUSDH1.png "https://c.mql5.com/18/153/EURUSDH1.png")

SSH Multi -Time-Frame with a panel to select TF from chart

Code prepared a panel which can be used for any indicator that you want to make a Multi-TF form for. You will need to copy Panel graphical function and its necessities from **input** and **OnInit()** function. to calculate current TF candle index for higher time frame we can use **iBarShift** built-in function but I prefer to use my own function that find candle index which has very nearest time to higher TF candle time. This function is useful for other usage with same purposes too and totally I recommend it in comparison with original built-in function.

**[Go to discussion](/en/forum/460267)**

![Closing all open trades if all one symbol and one trade direction](https://c.mql5.com/i/code/script.png)
[Closing all open trades if all one symbol and one trade direction](/en/code/47759)

All open trades must be of same symbol and type, e.g. all GBPUSD and all BUY.
This script will close out your position using one large trade to hedge your position
then using CloseBy() function to close all trades against the one large trade until all
trades are closed. There can be a maximum of 500 open trades.

![Heikin Ashi Lines](https://c.mql5.com/i/code/indicator.png)
[Heikin Ashi Lines](/en/code/47603)

A simpler way to display Heikin Ashi

![Bounce Number for Grid/Martingale strategies Lot Sizing/Order Count set](https://c.mql5.com/i/code/expert.png)
[Bounce Number for Grid/Martingale strategies Lot Sizing/Order Count set](/en/code/47874)

When we want to know how many times price will goes up and down 40 pips before breaking this channel, we will need Bounce Number tool.

![Relative Price Channel](https://c.mql5.com/i/code/indicator.png)
[Relative Price Channel](/en/code/47961)

mt4 version of original indicator