# V1N1 New Order - script for MetaTrader 4

Source: https://www.mql5.com/en/code/17466

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/17466) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/mt5setup.exe?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# V1N1 New Order - script for MetaTrader 4

[Vinicius Pereira De Oliveira](/en/users/vinicius-fx)

Views:
:   23647

Rating:
:   (19)

Published:
:   31 January 2017, 12:42

Updated:
:   17 March 2021, 23:48
:   [V1N1 New Order.mq4](/en/code/download/17466/v1n1_new_order.mq4 "V1N1 New Order.mq4")
    (24.64 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/17466.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This tool is designed to open orders / positions in MetaTrader 4 terminals with absolute control of the risk / reward ratio, automatically calculating the lot size (without the need for manual calculations and/or spreadsheets) according to Risk and Stop Loss defined in the input parameters, with agility and precision, assisting in the risk management strategy of user manual trades.

It calculates the size of the lot respecting the risk and reward defined by the user, and adapts to various strategies. Basically, all the user needs to do is set where he want to place the stop loss, the risk / reward ratio, and the order will be included according to these parameters.

This tool provides resources not available in the New Order command of the MetaTrader 4 platform, acting as a complement to this command.

### **Features**

* It works with all symbols, regardless of the timeframe;
* Immediately executes an order or include a pending order;
* Supports two types of definition of Risk: Percentage (account balance) or Amount;
* Supports two types of definition of Stop Loss: Price or Points;
* Supports four types of definition of Take Profit (Reward): Percentage (account balance), Amount, Price or Points;
* You can add a Comment to the order, set the Magic Number and Slippage;
* Easy to use and friendly interface.

### **Usage**

* Make sure that Auto Trading option is enabled in the toolbar and, with the chart of the symbol you wish to negotiate active, select the Navigator option in the View menu; in the Navigator window, select Scripts and then double-click V1N1 New Order;
* In the window that opens, select the Inputs tab and set the parameters as follows.

### **Input Parameters**

* **Order Operation Type:** select the operation type to be included: Buy, Sell, Buy Limit, Sell Limit, Buy Stop ou Sell Stop;
* **Set Pending Order Level By:** if the operation type is a pending order, select as the entry level this order will be informed: Price or Points;
* **Pending Order Level:** if the operation type is a pending order, set the entry level this order;
* **Set Order Risk By:** select as the risk of operation will be informed: Percentage (account balance) or Amount;
* **Order Risk:** risk of operation;
* **Set Stop Loss By:** select as the stop loss will be informed: Price or Points;
* **Stop Loss:** stop loss level;
* **Set Take Profit By:** select as the take profit will be informed: Percentage (account balance), Amount, Price or Points;
* **Take Profit:** take profit level;
* **Order Comment:** you can add a comment on the operation (for example: a brief description of the strategy used, the price action signal, etc);
* **Order Magic Number:** you can set the magic number for the operation (it may be useful, for example, for those using some tool for positions management);
* **Maximum Price Slippage - Points:** you can set the maximum price slippage, in points, when open positions (it may be useful, for example, in times of high market volatility).

![Input Parameters](https://c.mql5.com/18/96/v1n1-new-order-screen-3452.png "Input Parameters")

**Last comments |
[Go to discussion](/en/forum/168490)**
(9)

![Vinicius Pereira De Oliveira](https://c.mql5.com/avatar/2025/4/6804f561-0038.png "Vinicius Pereira De Oliveira")

**[Vinicius Pereira De Oliveira](/en/users/vinicius-fx)**
|
18 Nov 2018 at 22:40

**Mohd Fahmi Azlan Mohamad Zuki:**  
 This is what I'm looking for.. Complete solution

Thank you, good luck.

![Mohd Fahmi Azlan Mohamad Zuki](https://c.mql5.com/avatar/2018/3/5AA558B8-E939.jpg "Mohd Fahmi Azlan Mohamad Zuki")

**[Mohd Fahmi Azlan Mohamad Zuki](/en/users/theazlan)**
|
29 Nov 2018 at 05:20

How I can entry by lot?

![Vinicius Pereira De Oliveira](https://c.mql5.com/avatar/2025/4/6804f561-0038.png "Vinicius Pereira De Oliveira")

**[Vinicius Pereira De Oliveira](/en/users/vinicius-fx)**
|
29 Nov 2018 at 10:21

**Mohd Fahmi Azlan Mohamad Zuki:**  
 How I can entry by lot?

The purpose of this script is to calculate the lot size according to other [parameters](https://www.mql5.com/en/docs/directx/dxinputset "MQL5 Documentation: DXInputSet function") that you inform.

If you want, for example, that the risk of an order will be 1% of the balance of the account, then you inform where you want to position the SL and TP and the script calculates the appropriate lot size;

Or if you want, for example, that the risk of an order will be 50 USD, then you inform where you want to position the SL and TP and the script calculates the appropriate lot size.

![baderocks2](https://c.mql5.com/avatar/2017/10/59EAB86B-C606.jpg "baderocks2")

**[baderocks2](/en/users/baderocks2)**
|
8 Apr 2019 at 00:59

Very good script, thank you for making this. I have 2 questions to ask..

1) Because I'm placing many orders, Is it possible to have the input pre-defined automatically to specific options, or do I need to load the settings every time? Is there a way to change the default settings?

2) Unfortunately my only complaint is that I can't place a [pending order](https://www.mql5.com/en/docs/constants/tradingconstants/orderproperties#enum_order_type "MQL5 documentation:") without a stop loss. It doesn't place an order unless I put my stop loss, which I don't want to do. Even if the stop loss is 0, it still doesn't work.

Thank you.

![Vinicius Pereira De Oliveira](https://c.mql5.com/avatar/2025/4/6804f561-0038.png "Vinicius Pereira De Oliveira")

**[Vinicius Pereira De Oliveira](/en/users/vinicius-fx)**
|
8 Apr 2019 at 22:29

**baderocks2:**

Hi thanks.

1) You can change the default settings directly in the source code, informing the values of your preference in the input parameters;

2) It is impossible to calculate lot size without informing the [Stop Loss](https://www.metatrader5.com/en/terminal/help/trading/general_concept "User Guide: Types of orders") position, but if you want, attach here the version of the script you are using (\*.mq4 file) and I will make a change to the script to place orders without Stop Loss, **as long as the RISK option is FIXED LOT**.

Kind regards.

![V1N1 LONNY MT4](https://c.mql5.com/i/code/expert.png)
[V1N1 LONNY MT4](/en/code/17465)

Automated trading system for breakouts in the London and New York sessions.

![Normalized Price Indicator](https://c.mql5.com/i/code/indicator.png)
[Normalized Price Indicator](/en/code/17280)

By using this indicator you can see the normalized price of any chart!

![OpenOrder (With Risk Management, TP and SL)](https://c.mql5.com/i/code/script.png)
[OpenOrder (With Risk Management, TP and SL)](/en/code/17518)

OpenOrder script allows you to open an order defining the % of balance to risk, the Stop Loss distance in pips and the Take Profit distance in pips and a magic number.

![CloseOrders (With further filtering)](https://c.mql5.com/i/code/script.png)
[CloseOrders (With further filtering)](/en/code/16684)

This script allows you to close orders with one click, filtering by profit, loss, magic number and comment.