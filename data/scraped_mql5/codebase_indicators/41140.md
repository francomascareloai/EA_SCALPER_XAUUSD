# Mean Reversion - expert for MetaTrader 4

Source: https://www.mql5.com/en/code/41140

MetaTrader 4 /
Experts

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

# Mean Reversion - expert for MetaTrader 4

[Aharon Tzadik](/en/users/aharontzadik1)

13339

(26)

Mean Reversion strategy works best on daily time frame major forex pairs  .

### 

* Try it on demo first.
* This EA trades only with the price of open candle!
* If you do not want to trade with increasing lot size when you lose  a trade set:"IncreaseFactor=0"

Inputs

* Use\_TP\_In\_Money- Use Take Profit In Money (values:true/false).
* TP\_In\_Money- Take Profit In Money   (values: 10-100).
* Use\_TP\_In\_percent- Use Take Profit In Percent (values:true/false).
* TP\_In\_Percent- Take Profit In Percent (values: 10-100).
* ------------[Money Trailing Stop For Multiple Trades]----------------------
* Enable\_Trailing-Enable\_Trailing with money  (values:true/false).
* Take Profit In Money (in current currency) (values: 25-200).
* Stop Loss In Money(in current currency) (values: 1-20).
* --------------------------------------------------------------------------------------
* Exit= Close trades if the trend is against you and control draw dwon (values:true/false).
* BarsToCount= Bars To Count  (values: 1-20).
* Lots - Lots size (values: 0.01-1).
* Lots size Exponent  (values: 1.01-2).
* IncreaseFactor -how much to increase lots from total margin if you lose a trade (values: 0.001-0.1).
* Stop\_Loss - Stop Loss (values: 30-500).  /set value 600 for  Multiple Trades
* MagicNumber - Magic number (values: 1-100000).
* TakeProfit - Take Profit (values: 50-200).  /set value 600 for  Multiple Trades
* FastMA - Fast Moving Average (values: 1-20).
* SlowMA - Slow Moving Average (values: 50-200).
* Mom\_Sell-Momentum\_Sell trigger(values: 0.1-0.9).
* Mom\_Buy-Momentum\_Buy trigger(values: 0.1-0.9).
* ---------------------CONTROL DRAW DOWN-----------------------------
* UseEquityStop -  (values:true/false).
* TotalEquityRisk- (values: 0.01-20).
* -------------------------------------------------------------------------------
* Max\_Trades(1-12).
* FractalNum= Number Of High And Low(values: 1-10).
* ----------------IF YOU USE ONLY 1 TRADE:-----------------------
* /////////////////////////////////////////////////////////////////////
* USETRAILINGSTOP-If use trailing stop (values:true/false).
* WHENTOTRAIL-When to trail (values: 40-100).
* TRAILAMOUNT-Trail amount (values: 40-100).
* Distance From Candle -Distance From Candle (values: 1-100).
* USECANDELTRAIL=If use trailing stop (values:true/false).
* X=2-number of candles (values: 1-100).
* USEMOVETOBREAKEVEN-Enable " break even " (values: true/false).
* WHENTOMOVETOBE-When to move break even (values: 1-30).
* PIPSTOMOVESL=30-How much pips to move stop loss  (values: 1-30).

  

-You should optimize this EA every few months and use the exact same  inputs from above .  
-You can use it as  hedging grid EA or a single trade EA.  
-How to perform back test:[https://bit.ly/2CD7XWD](/go?link=https://bit.ly/2CD7XWD "https://bit.ly/2CD7XWD")

* [![Mean Reversion](https://c.mql5.com/18/159/h5sj606_4t3_3218b.png "Mean Reversion")](https://c.mql5.com/18/159/f9zhbej_986_3218v.png "https://c.mql5.com/18/105/f9zhbej_986_3218v.png")

Mr Anan Seti:

Thank you for sharing.

onlinejc:

Even your backtest shows 4 years with no profit. Why bother posting?

Aharon Tzadik:

The test you see is from 01.01.2020-26.10.2022 where are 4 years with no profit ? The backtest is partial and roughly tested, you can test it yourself, wait until the end and get better results in other pairs

onlinejc:

OK, I misread the dates but the fact remains that from trade 400 to the end (about 400 trades and half the period) there is no profit at all. Why bother to post a ' partial and roughly tested' backtest ? If the creator can't produce a good backtest we must assume nobody can...

Fernando Carreiro:

Because the CodeBase is not necessarily about profitable EAs — it's more about example code. And besides, any strategy or EA is not a "one size fits all". It is a tool and like any tool, it takes knowledge and experience to be able to use a tool properly. It needs to be configured properly and used on the correct market or symbol, at the correct time.

[Read more comments and leave your own ones >>](/en/forum/435233)