# Trendline zigzag in qualitative channel - indicator for MetaTrader 5

Source: https://www.mql5.com/en/code/59792

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Telegram](https://t.me/mql5dev)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/59792) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Indicators](https://c.mql5.com/i/code/indicator.png)

# Trendline zigzag in qualitative channel - indicator for MetaTrader 5

[Conor Mcnamara](/en/users/phade)  |
[English](javascript:void(false);)

[Русский](/ru/code/59792) [中文](/zh/code/59792) [Español](/es/code/59792) [Deutsch](/de/code/59792) [日本語](/ja/code/59792) [Português](/pt/code/59792) [한국어](/ko/code/59792) [Français](/fr/code/59792) [Italiano](/it/code/59792) [Türkçe](/tr/code/59792)

Views:
:   5939

Rating:
:   (6)

Published:
:   26 May 2025, 18:15

Updated:
:   22 August 2025, 23:41
:   [Trendline Zigzag.mq5](/en/code/download/59792/Trendline_Zigzag.mq5 "Trendline Zigzag.mq5")
    (10.73 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/59792.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

This indicator is as an evolution of the classic Donchian channel.

Pivots are identified using a zigzag structure and graphical markers, with the pivots derived entirely from the behaviour of the channel. A pivot is triggered when the channel flattens, forming a connector point for the next zigzag leg. To avoid weak or insignificant pivots, a depth parameter is used to confirm the channel’s flatness before marking a new pivot. The pivot logic is intentionally kept simple, with no forward correction applied. As a result, there is some inherent lag due to the need for confirmation.

To make the indicator more useful in live trading, the current "live" leg is drawn as a dynamic trendline from the most recent confirmed pivot to the current price extreme. This trendline remains valid until a new pivot is confirmed. The result is a continuously updating cycle of trendlines, which enhances the visual interpretation of the channel and provides an analytical advantage.

The purpose of this indicator is to observe whether price action respects the trendline by reacting to it with a bounce, or disrespects it, by altering it and prompting a shift in direction. This tool provides qualitative insight rather than precise signals, so it should not be used to predict exact market movements or serve as a standalone decision-making tool.

[![Trendline Donchian Channel](https://c.mql5.com/18/163/2025-05-26_18_24_06-1__1.png "Trendline Donchian Channel")](https://c.mql5.com/18/163/2025-05-26_18_24_06-1.png "https://c.mql5.com/18/163/2025-05-26_18_24_06-1.png")

-----

Edit: A new version (1.02) is uploaded with a full code reconstruction and input options for leg correction, and the ability to enable or disable the trend line

**Last comments |
[Go to discussion](/en/forum/487500)**
(3)

![Conor Mcnamara](https://c.mql5.com/avatar/2025/9/68dab3ec-4506.png "Conor Mcnamara")

**[Conor Mcnamara](/en/users/phade)**
|
27 May 2025 at 09:18

Richard Donchian lived long enough to see early computerized versions of his [Donchian Channel](https://www.mql5.com/en/articles/3146 "Article: Trading with Donchian Channels ") indicator. By the 1980s and early 1990s, financial markets were transitioning from manual charting to computer-assisted trading, and technical indicators like the Donchian Channel were being integrated into trading platforms. His legacy continues to influence trend-following strategies today.

![Soshianth Azar](https://c.mql5.com/avatar/2021/8/610B070F-9A56.jpg "Soshianth Azar")

**[Soshianth Azar](/en/users/alakialakiani)**
|
11 Jun 2025 at 06:11

Excellent! Thanks for sharing.

![Educator Jay](https://c.mql5.com/avatar/2023/12/6581dd1c-ba03.jpg "Educator Jay")

**[Educator Jay](/en/users/educatorjay)**
|
11 Nov 2025 at 12:23

Amazing [product](https://www.metatrader5.com/en/terminal/help/fundamental/economic_indicators_usa/usa_productivity "Productivity")

![Equity and Balance Indicator - History based](https://c.mql5.com/i/code/indicator.png)
[Equity and Balance Indicator - History based](/en/code/59744)

This indicator reads the trade history and plots the Cumulative P & L over time, helping visual traders to see how much money they are making or losing over time.
This current version has a difference of 0.02% marginal error, due to rounding floats, and calculation methods. It can be considered extremely precise with this marginal error.

![Function for checking whether the market is open for trading at the moment by the current symbol](https://c.mql5.com/i/code/script.png)
[Function for checking whether the market is open for trading at the moment by the current symbol](/en/code/57948)

The function can be useful to not overload the server with trade requests at times when the market is closed for trading

![Engulfing Pattern Indicator with Volume Confirmation](https://c.mql5.com/i/code/indicator.png)
[Engulfing Pattern Indicator with Volume Confirmation](/en/code/59733)

This indicator detects bullish and bearish engulfing candlestick patterns with an optional volume filter to highlight stronger signals.

![Trade Classes in Python - CTade, CSymbol, CPositionInfo, etc.](https://c.mql5.com/i/code/library.png)
[Trade Classes in Python - CTade, CSymbol, CPositionInfo, etc.](/en/code/59808)

MQL5-Like Trade Classes in Python for MetaTrader 5 Python