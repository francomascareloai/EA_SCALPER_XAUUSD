# Trading scripts with pictures - script for MetaTrader 4

Source: https://www.mql5.com/en/code/10500

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/10500) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Scripts](https://c.mql5.com/i/code/script.png)

# Trading scripts with pictures - script for MetaTrader 4

[bdeyes](/en/users/bdeyes)

Views:
:   24553

Rating:
:   (10)

Published:
:   1 November 2011, 07:08

Updated:
:   21 April 2014, 14:55
:   [Buy\_Market\_with\_user\_check.mq4](/en/code/download/10500/Buy_Market_with_user_check.mq4 "Buy_Market_with_user_check.mq4")
    (2.63 KB)
    [view](# "view")

    [Buy\_Market.mq4](/en/code/download/10500/Buy_Market.mq4 "Buy_Market.mq4")
    (3.68 KB)
    [view](# "view")

    [Close\_Orders.mq4](/en/code/download/10500/Close_Orders.mq4 "Close_Orders.mq4")
    (5.97 KB)
    [view](# "view")

    [Sell\_Market\_with\_user\_check.mq4](/en/code/download/10500/Sell_Market_with_user_check.mq4 "Sell_Market_with_user_check.mq4")
    (2.62 KB)
    [view](# "view")

    [Sell\_Market.mq4](/en/code/download/10500/Sell_Market.mq4 "Sell_Market.mq4")
    (3.67 KB)
    [view](# "view")

    [SnapShot.mq4](/en/code/download/10500/SnapShot.mq4 "SnapShot.mq4")
    (2.38 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/10500.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

### Description:

I like to keep a record of my trades so that I can look back and see where I might make improvements in my trading decisions. To make that easier I created a script that would take a snapshot of the chart, give it a unique name and file it for me. Later it occurred to me that I could just add this feature to the trading execution scripts I was already using and thus save myself a step. I use them with a HotKey setup.

I thought someone might find the scripts or the actions they perform useful so I am making them available to all.

There are 5 scripts that execute trades, "**Buy Market**", "**Sell Market**", "**Buy Market with user check**", "**Sell Market with user check**" and "**Close Orders**".

Also the is original that just executes the picture of a chart called "**Snapshot**".

Ironically there are no pictures of how they work, but there are comment
instructions in the top of each script that should suffice and the titles are fairly self-explanatory:

* **Buy Market** - when dragged onto the chart it executes a buy at market and takes a picture of the chart at the time the trade is executed, names it and files it in C:\Program Files\MetaTrader4\experts\files. ***Trade values are modified in MetaEditor.***
* **Sell Market** - when dragged onto the chart it executes a sell at market and takes a picture of the chart at the time the trade is executed, names it and files it in C:\Program Files\MetaTrader4\experts\files. ***Trade values are modified in MetaEditor.***
* **Buy Market with user check** - pauses when dragged onto the chart to allow you to set the parameters before it executes a buy at market
  and takes a picture of the chart at the time the trade is executed,
  names it and files it in C:\Program Files\MetaTrader4\experts\files.
* **Sell Market with user check** - pauses when dragged onto the chart to allow you to set the parameters before it executes a sell at market
  and takes a picture of the chart at the time the trade is executed,
  names it and files it in C:\Program Files\MetaTrader4\experts\files
* **Close Orders** - when dragged onto the chart it closes **all** orders on the chart and takes a
  picture of the chart at the time the trade is executed, names it and
  files it in C:\Program Files\MetaTrader4\experts\files.
* **Snapshot** - when dragged onto the chart it takes a picture of the chart at that time, names it and files it in C:\Program Files\MetaTrader4\experts\files.

Remembering the old adage "you get what you pay for", I suggest you check these out for yourself thoroughly (as you should with all code from this site) to see if they will work for you.

**Last comments |
[Go to discussion](/en/forum/28260)**
(3)

![rplust](https://c.mql5.com/avatar/avatar_na2.png "rplust")

**[rplust](/en/users/rplust)**
|
17 Nov 2011 at 06:46

Hi, thanks for the Snapshot script. Ultrafast, ultraconvenient.

![](https://c.mql5.com/avatar/avatar_na2.png)

**[Deleted]**
|
15 Mar 2012 at 11:57

Very good idea! Thank you a lot, i'm gonna use it to build my own orders.

![Adi Nugraha](https://c.mql5.com/avatar/2013/6/51C7D858-229F.jpg "Adi Nugraha")

**[Adi Nugraha](/en/users/adi_nugraha32)**
|
12 Oct 2013 at 03:38

Very handy! Top marks :-) Thanks.

![True Range Envelopes](https://c.mql5.com/i/code/indicator.png)
[True Range Envelopes](/en/code/10497)

Envelopes with MaOnArray and Average True Range.

![SpreadProbe](https://c.mql5.com/i/code/expert.png)
[SpreadProbe](/en/code/10491)

Just like internet speed test can tell you your internet speed, SpreadProbe can measure ask/bid spreads on the go.

![Postzigzagv2Close](https://c.mql5.com/i/code/indicator.png)
[Postzigzagv2Close](/en/code/10501)

Based on Zigzag Indicator.

![Simple Scalping EA](https://c.mql5.com/i/code/expert.png)
[Simple Scalping EA](/en/code/10503)

Very simple scalping EA, no Indicators. Logic is based on very fast price movements.