# MT5 to Telegram Professional Library - library for MetaTrader 5

Source: https://www.mql5.com/en/code/63587

* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 5](/en/code/mt5)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt5/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt5/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt5/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt5/libraries)
* [![](https://c.mql5.com/i/sidebar/mt.svg)MetaTrader 4](/en/code/mt4)
  + [![](https://c.mql5.com/i/sidebar/expert.svg)Experts](/en/code/mt4/experts)
  + [![](https://c.mql5.com/i/sidebar/indicator.svg)Indicators](/en/code/mt4/indicators)
  + [![](https://c.mql5.com/i/sidebar/scripts.svg)Scripts](/en/code/mt4/scripts)
  + [![](https://c.mql5.com/i/sidebar/library.svg)Libraries](/en/code/mt4/libraries)

* [![](https://c.mql5.com/i/sidebar/storage.svg)Storage](/en/code/storage)

Watch [how to download](https://youtu.be/rloNyFVtHuA?list=PLltlMLQ7OLeKwyQwC8FhiKwjl9syKhOCK) trading robots for free

Find us on [Twitter](https://x.com/mql5com)!  
 Join our fan page

Interesting script?  
So post a [link](/en/code/63587) to it -  
let others appraise it

You liked the script? Try it in the [MetaTrader 5](https://download.mql5.com/cdn/web/metaquotes.ltd/mt5/MetaTrader5.pkg.zip?utm_source=www.mql5.com&utm_campaign=download) terminal

[to pocket](#pocket "Pocket allows you to insert a complete content description to the appropriate comment")

![Libraries](https://c.mql5.com/i/code/library.png)

# MT5 to Telegram Professional Library - library for MetaTrader 5

[Stepan Sinic](/en/users/stepansinic)  |
[English](javascript:void(false);)

[Ğ ÑƒÑÑĞºĞ¸Ğ¹](/ru/code/63587) [ä¸­æ–‡](/zh/code/63587) [EspaÃ±ol](/es/code/63587) [Deutsch](/de/code/63587) [æ—¥æœ¬èª](/ja/code/63587) [PortuguÃªs](/pt/code/63587) [í•œêµ­ì–´](/ko/code/63587) [FranÃ§ais](/fr/code/63587) [Italiano](/it/code/63587) [TÃ¼rkÃ§e](/tr/code/63587)

Views:
:   5912

Rating:
:   (12)

Published:
:   9 September 2025, 17:40

Updated:
:   9 September 2025, 18:07
:   \MQL5\Include\

    [TelegramBot.mqh](/en/code/download/63587/TelegramBot.mqh "TelegramBot.mqh")
    (186.27 KB)
    [view](# "view")

    \MQL5\Experts\

    [testbot.mq5](/en/code/download/63587/testbot.mq5 "testbot.mq5")
    (42.56 KB)
    [view](# "view")

    [Download as ZIP](/en/code/download/63587.zip "Download all attachments in the single ZIP archive") [How to download code from MetaEditor](https://www.metatrader5.com/en/metaeditor/help/workspace/toolbox#codebase)

    ![MQL5 - Language of trade strategies built-in the MetaTrader 5 client terminal](https://c.mql5.com/i/registerlandings/logo-2.png)

    You are missing trading opportunities:

    * Free trading apps
    * Over 8,000 signals for copying
    * Economic news for exploring financial markets

    Registration
    Log in

    latin characters without spaces

    a password will be sent to this email

    An error occurred

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup&amp;reg=1)

    You agree to [website policy](/en/about/privacy) and [terms of use](/en/about/terms)

    If you do not have an account, please [register](https://www.mql5.com/en/auth_register)

    Allow the use of cookies to log in to the MQL5.com website.

    Please enable the necessary setting in your browser, otherwise you will not be able to log in.

     

    [Forgot your login/password?](https://www.mql5.com/en/auth_forgotten?return=popup)

    * [Log in With Google](https://www.mql5.com/en/auth_oauth2?provider=Google&amp;return=popup)
:   ![MQL5 Freelance](https://c.mql5.com/i/code/icon_freelance.svg)
    Need a robot or indicator based on this code? Order it on Freelance
    [Go to Freelance](/en/job/new "Go to Freelance")

## Key Features

* ğŸ“¨ **Real-time Trading Notifications** - Instant alerts for position open/close/modify
* ğŸ“¸ **Chart Screenshots** - Automatic chart captures with annotations
* ğŸ“Š **Account Reports** - Daily, weekly, and monthly performance reports
* âš ï¸ **Risk Management Alerts** - Drawdown, margin level, and stop-out warnings
* ğŸ”„ **Message Queue System** - Reliable delivery with retry mechanism
* ğŸ‘¥ **Multi-Channel Support** - Broadcast to multiple Telegram chats/channels
* ğŸ“ **Template System** - Customizable message templates
* ğŸ¯ **Smart Rate Limiting** - Prevents API throttling

## Requirements

* MetaTrader 5 build 2375 or higher
* Telegram Bot Token (obtain from @BotFather)
* Chat ID or Channel ID
* Internet connection

## Installation

### Step 1: Create Telegram Bot

1. Open Telegram and search for @BotFather
2. Send /newbot command
3. Choose a name for your bot
4. Choose a username (must end with 'bot')
5. Save the token provided by BotFather

### Step 2: Get Chat ID

1. Add your bot to a group/channel or start private chat
2. Send any message to the bot
3. Visit: https://api.telegram.org/bot<YOUR\_TOKEN>/getUpdates
4. Find the chat ID in the response

### Step 3: Configure MT5

1. Open MT5 â†’ Tools â†’ Options â†’ Expert Advisors
2. Check "Allow WebRequest for listed URL"
3. Add URL: https://api.telegram.org
4. Click OK

### Step 4: Install Files

1. Copy TelegramBot.mqh to MQL5/Include/
2. Copy TelegramBot\_Example.mq5 to MQL5/Experts/
3. Compile both files

## Quick Start

```mql5
#include <TelegramBot.mqh>

CTelegramBot bot;

int OnInit()
{
Â Â Â Â // Initialize bot
Â Â Â Â if(!bot.Initialize("YOUR_TOKEN", "YOUR_CHAT_ID"))
Â Â Â Â {
Â Â Â Â Â Â Â Â Print("Failed to initialize bot");
Â Â Â Â Â Â Â Â return INIT_FAILED;
Â Â Â Â }
Â Â Â Â 
Â Â Â Â // Send test message
Â Â Â Â bot.SendMessage("Bot connected successfully!");
Â Â Â Â 
Â Â Â Â // Send chart screenshot
Â Â Â Â bot.SendChartScreenshot("Current market situation");
Â Â Â Â 
Â Â Â Â return INIT_SUCCEEDED;
}
```

## API Reference

### Basic Messaging

```mql5
bool SendMessage(string text);
bool SendHTMLMessage(string text);
bool SendMarkdownMessage(string text);
bool SendMessageToAll(string text);
```

### Trading Signals

```mql5
bool SendTradeSignal(ENUM_SIGNAL_TYPE type, string symbol, double price);
bool SendPositionOpened(ulong ticket, string symbol, ENUM_POSITION_TYPE type, double volume, double price);
bool SendPositionClosed(ulong ticket, string symbol, double profit, double commission, double swap);
```

### Media

```mql5
bool SendPhoto(string file_path, string caption);
bool SendDocument(string file_path, string caption);
bool SendChartScreenshot();
bool SendChartScreenshot(string caption);
```

### Reports

```mql5
bool SendAccountStatus();
bool SendDailyReport();
bool SendWeeklyReport();
bool SendMonthlyReport();
```

### Risk Management

```mql5
bool SendRiskAlert(double drawdown_percent);
bool SendMarginWarning(double margin_level);
bool SendStopOutWarning();
```

## Example Expert Advisor

The package includes a fully functional example EA demonstrating:

* Position monitoring with notifications
* Automatic screenshots on trade events
* Periodic account status updates
* Risk management alerts
* Daily reports
* Demo trading signals

## Message Formatting

### HTML Format (Recommended)

```mql5
string message = "<b>Bold text</b>\n";
message += "<i>Italic text</i>\n";
message += "<code>Fixed-width code</code>\n";
message += "<a href='http://example.com'>Link</a>";
bot.SendHTMLMessage(message);
```

### Markdown Format

```mql5
string message = "*Bold text*\n";
message += "_Italic text_\n";
message += "`Fixed-width code`\n";
message += "[Link](http://example.com)";
bot.SendMarkdownMessage(message);
```

## Performance

* **Message Rate:** Up to 30 messages per minute
* **File Size Limit:** 50MB per file
* **Message Length:** 4096 characters
* **Caption Length:** 1024 characters
* **Queue Size:** 100 messages
* **Average Response Time:** 50-200ms

## Error Handling

The library includes comprehensive error handling:

* Connection validation
* Rate limiting protection
* Automatic retries on failure
* Queue system for failed messages
* Detailed error logging

## Support

* **Documentation:** Full API documentation included in source
* **Example EA:** Working example with all features
* **Debug Mode:** Built-in debugging for troubleshooting

## Version History

### Version 1.0.0 (2024)

* Initial release
* Full Telegram Bot API integration
* Multi-channel support
* Queue system
* Template engine
* Risk management alerts

## License

This library is provided as-is for use in MetaTrader 5. Free for personal and commercial use.

## Author

**Financial Blueprint**  
 Professional Trading Solutions

## Disclaimer

This software is provided "as is" without warranty of any kind. Trading involves substantial risk of loss and is not suitable for all investors. Past performance is not indicative of future results.

---

*If you find this library useful, please rate it on MQL5 CodeBase!*

## Detailed Setup Instructions

### Creating a Telegram Bot

1. **Find BotFather**

   * Open Telegram
   * Search for @BotFather
   * Press START
2. **Create New Bot**

   * Send /newbot command
   * Enter bot name (e.g., "My Trading Bot")
   * Enter bot username (e.g., my\_trading\_bot)
   * Save the token like: 123456789:ABCdefGHIjklMNOpqrsTUVwxyz
3. **Configure Bot**

   * Send /setprivacy and select DISABLE (for group functionality)
   * Send /setjoingroups and select ENABLE (to add to groups)

### Getting Chat ID

#### For Private Messages:

1. Start conversation with your bot
2. Send any message
3. Open in browser: https://api.telegram.org/bot<TOKEN>/getUpdates
4. Find "chat":{"id":123456789} - this is your Chat ID

#### For Groups:

1. Add bot to group
2. Send message in group
3. Open in browser: https://api.telegram.org/bot<TOKEN>/getUpdates
4. Find "chat":{"id":-123456789} - negative number for groups

#### For Channels:

1. Add bot as channel administrator
2. Send message to channel
3. Or use @channelname as Chat ID

### Troubleshooting Common Issues

#### WebRequest Error:

Solution: 1. Tools â†’ Options â†’ Expert Advisors 2. âœ“ Allow WebRequest for listed URL 3. Add: https://api.telegram.org 4. Restart MT5

#### Bot Not Responding:

Check: 1. Token correctness 2. Chat ID correctness 3. Internet connection 4. WebRequest settings

#### Messages Not Delivered:

Possible causes: 1. API limit exceeded (30 messages/minute) 2. Invalid HTML format in message 3. Message too long (>4096 characters)

## Usage Examples

### Send Buy Signal

```mql5
bot.SendTradeSignal(SIGNAL_BUY, "EURUSD", 1.1850, 1.1800, 1.1900);
```

### Send Screenshot with Annotation

```mql5
string caption = "<b>Entry Point</b>\n";
caption += "Pair: EURUSD\n";
caption += "Type: BUY\n";
caption += "Price: 1.1850";
bot.SendChartScreenshot(caption);
```

### Send Account Status

```mql5
bot.SendAccountStatus();
// Automatically sends balance, equity, margin, etc.
```

### Setup Daily Reports

```mql5
// In EA's OnTimer()
if(TimeHour(TimeCurrent()) == 23 && TimeMinute(TimeCurrent()) == 0)
{
Â Â Â Â bot.SendDailyReport();
}
```

### Drawdown Alert

```mql5
double drawdown = CalculateDrawdown(); // Your calculation function
if(drawdown > 20.0) // Drawdown greater than 20%
{
Â Â Â Â bot.SendRiskAlert(drawdown);
}
```

## Message Structure

### ```mql5 [POSITION OPENED] â†‘ ================ Ticket: #12345678 Symbol: EURUSD Type: BUY Volume: 0.10 Price: 1.18500 Time: 2024.01.15 10:30 ```

### ```mql5 [POSITION CLOSED] ================ Ticket: #12345678 Symbol: EURUSD Profit: +125.50 USD Commission: -2.00 Swap: -0.50 Total: +123.00 USD Time: 2024.01.15 14:45 ================ ```

### ```mql5 [DAILY REPORT] ================ Date: 2024.01.15 ACCOUNT SUMMARY ---------------- Balance: 10,125.50 USD Equity: 10,250.00 USD Floating P/L: +124.50 USD TRADING ACTIVITY ---------------- Trades Today: 5 Today's Result: +250.00 USD Open Positions: 2 BOT STATISTICS ---------------- Messages Sent: 45 Signals Sent: 8 Success Rate: 98.5% ================ ```

**Last comments |
[Go to discussion](/en/forum/495066)**
(3)

![hini](https://c.mql5.com/avatar/2024/3/65e98921-0708.jpg "hini")

**[hini](/en/users/hini)**
|
10 Sep 2025 at 12:21

Thanks for sharing the code!

![jonas.r.morais](https://c.mql5.com/avatar/avatar_na2.png "jonas.r.morais")

**[jonas.r.morais](/en/users/jonas.r.morais)**
|
26 Sep 2025 at 01:29

thanks for sharing, how the bot read messages from a user?

![Francisco Mandomo Simbine](https://c.mql5.com/avatar/2025/8/68a0d37e-af01.jpg "Francisco Mandomo Simbine")

**[Francisco Mandomo Simbine](/en/users/francisco80)**
|
8 Oct 2025 at 22:34

parabens amigo pelo bom trabalho

![Martingale Pulse EA](https://c.mql5.com/i/code/expert.png)
[Martingale Pulse EA](/en/code/63569)

Introducing MP by SPLpulse, a sophisticated and highly versatile Expert Advisor designed for the modern trader. Whether you are a scalper, a trend follower, or a reversal trader, MP by SPLpulse combines multiple trading strategies with an institutional-grade risk management suite to adapt to your unique trading style. Take control of your trading with unparalleled customization and powerful automation.

![WaveTrend](https://c.mql5.com/i/code/indicator.png)
[WaveTrend](/en/code/63475)

The WaveTrend Indicator (WT) is a powerful technical analysis tool designed to identify trend direction and potential reversal points. It plots two lines, WT1 and WT2 , in a separate window, calculated based on price momentum and smoothed averages.

![The RSI Engine](https://c.mql5.com/i/code/expert.png)
[The RSI Engine](/en/code/63698)

The RSI Engine EA is a highly versatile automated trading robot for MetaTrader 5, designed to execute trades based on signals from the popular Relative Strength Index (RSI) indicator. Version 2.1 features optimized signal processing and enhanced stability. The EA provides a flexible framework with multiple RSI-based strategies, confirmation filters, and comprehensive trade management settings, making it suitable for both novice and experienced traders.

![ZIGZAG CALIBRATION TOOLS](https://c.mql5.com/i/code/indicator.png)
[ZIGZAG CALIBRATION TOOLS](/en/code/62603)

Allows you to easily visualize bullish and bearish periods confirmed by the zigzag indicator using vlines. You can control the display of the zigzag, choosing to start from the beginning of the chart or from a certain number of bars, as well as the display of labels showing the price of the peak or trough, the direction of the past period, and its amplitude in pips. Of course, it works on the main window as well as on sub-windows.
WARNING!!! This is a valuable aid to understanding and calibrating indicators and developing strategies, but it is not intended for direct use. Translated with DeepL.com (free version)