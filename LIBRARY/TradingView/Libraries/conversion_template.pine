//@version=5
indicator("Conversion Template", overlay=true)

// Template for converting MQL4/5 code to Pine Script
// This template shows common patterns and structures

// === INPUT PARAMETERS ===
// MQL4: extern int period = 14;
// Pine Script equivalent:
period = input.int(14, "Period")

// MQL4: extern double deviation = 2.0;
// Pine Script equivalent:
deviation = input.float(2.0, "Deviation")

// MQL4: extern int bandsPeriod = 20;
// Pine Script equivalent:
bandsPeriod = input.int(20, "Bands Period")


// === VARIABLE DECLARATIONS ===
// MQL4: double ma[], upperBand[], lowerBand[];
// Pine Script equivalent (automatically handled by Pine Script)


// === INITIALIZATION ===
// MQL4: int init() { ... }
// Pine Script: Initialization happens at the beginning of the script


// === MAIN CALCULATION LOOP ===
// MQL4: int start() { ... }
// Pine Script: Calculations happen on each bar automatically

// Example conversion of common MQL4 patterns:

// 1. Moving Average calculation
// MQL4: ma[i] = iMA(NULL, 0, period, 0, MODE_SMA, PRICE_CLOSE, i);
ma = ta.sma(close, period)

// 2. Bollinger Bands calculation
// MQL4: 
// upperBand[i] = iBands(NULL, 0, bandsPeriod, deviation, 0, PRICE_CLOSE, MODE_UPPER, i);
// lowerBand[i] = iBands(NULL, 0, bandsPeriod, deviation, 0, PRICE_CLOSE, MODE_LOWER, i);
basis = ta.sma(close, bandsPeriod)
dev = ta.stdev(close, bandsPeriod)
upperBand = basis + (dev * deviation)
lowerBand = basis - (dev * deviation)

// 3. RSI calculation
// MQL4: double rsiValue = iRSI(NULL, 0, 14, PRICE_CLOSE, 0);
rsiValue = ta.rsi(close, 14)

// 4. MACD calculation
// MQL4: 
// double macdMain = iMACD(NULL, 0, 12, 26, 9, PRICE_CLOSE, MODE_MAIN, 0);
// double macdSignal = iMACD(NULL, 0, 12, 26, 9, PRICE_CLOSE, MODE_SIGNAL, 0);
[macdLine, signalLine, _] = ta.macd(close, 12, 26, 9)


// === CONDITION CHECKS ===
// MQL4: if(Close[0] > ma[0]) { ... }
condition = close > ma


// === PLOTTING ===
// MQL4: PlotIndexSetDouble(0, PLOT_LINE_COLOR, clrBlue);
// Pine Script equivalent:
plot(ma, "MA", color=color.blue)
plot(upperBand, "Upper Band", color=color.red)
plot(lowerBand, "Lower Band", color=color.green)


// === ALERTS ===
// MQL4: Alert("Condition met");
// Pine Script equivalent:
alertcondition(condition, "Condition Alert", "Price crossed above moving average")


// === COMMENTS ON CONVERSION DIFFERENCES ===
// 1. Pine Script uses ta.* functions instead of i* functions
// 2. Pine Script automatically handles array indexing
// 3. Pine Script uses := for variable assignment in functions
// 4. Pine Script has built-in plotting functions
// 5. Pine Script uses alertcondition() for alerts