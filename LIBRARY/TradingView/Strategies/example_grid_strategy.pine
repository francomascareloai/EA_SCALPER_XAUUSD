//@version=5
strategy("Example Grid Strategy", overlay=true, default_qty_type=strategy.percent_of_equity, default_qty_value=10)

// Input parameters
gridLevels = input.int(5, "Number of Grid Levels")
gridSpacing = input.float(10.0, "Grid Spacing (Points)")
takeProfitPoints = input.float(20.0, "Take Profit (Points)")

// State variables
var float basePrice = na
var int currentPosition = 0
var float[] gridPrices = array.new_float(gridLevels)

// Initialize grid prices
if (bar_index == 0)
    basePrice := close
    for i = 0 to gridLevels - 1
        array.set(gridPrices, i, basePrice - (i * syminfo.mintick * gridSpacing))

// Check for grid level crossings
for i = 0 to gridLevels - 1
    gridPrice = array.get(gridPrices, i)
    if (ta.crossover(close, gridPrice) or ta.crossunder(close, gridPrice))
        // Place order logic would go here
        // This is a simplified example

// Plot grid levels
for i = 0 to gridLevels - 1
    gridPrice = array.get(gridPrices, i)
    hline(gridPrice, "Grid Level " + str.tostring(i), color=color.gray, linestyle=hline.style_dotted)

// Plot base price
hline(basePrice, "Base Price", color=color.blue)