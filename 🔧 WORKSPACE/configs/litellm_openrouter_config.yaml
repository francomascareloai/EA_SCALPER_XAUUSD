# ========================================
# LITELLM CONFIG.YAML PARA OPENROUTER
# ========================================
# Data: 24/08/2025
# Configuração para usar OpenRouter API com DeepSeek R1 e Qwen 3 Coder

model_list:
  # DeepSeek R1 Free - Modelo principal recomendado
  - model_name: deepseek-r1
    litellm_params:
      model: openrouter/deepseek/deepseek-r1-0528:free
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
      rpm: 20  # Rate limit conservativo para free tier
      max_tokens: 4000
      temperature: 0.1
    model_info:
      mode: chat
      supports_function_calling: false
      supports_vision: false
      max_tokens: 8192
      input_cost_per_token: 0.0
      output_cost_per_token: 0.0
  
  # Qwen 3 Coder Free - Especializado em código
  - model_name: qwen-coder
    litellm_params:
      model: openrouter/qwen/qwen3-coder:free  
      api_key: os.environ/OPENROUTER_API_KEY
      api_base: https://openrouter.ai/api/v1
      rpm: 10  # Rate limit muito conservativo (free tier agressivo)
      max_tokens: 2000
      temperature: 0.1
    model_info:
      mode: chat
      supports_function_calling: false
      supports_vision: false
      max_tokens: 32768
      input_cost_per_token: 0.0
      output_cost_per_token: 0.0

# ========================================
# CONFIGURAÇÕES DO ROUTER
# ========================================
router_settings:
  routing_strategy: simple-shuffle
  num_retries: 3
  timeout: 45
  fallbacks: 
    - {"qwen-coder": ["deepseek-r1"]}  # Se Qwen falhar, usar DeepSeek
  allowed_fails: 2  # Cooldown model após 2 falhas
  cooldown_time: 300  # 5 minutos de cooldown

# ========================================
# CONFIGURAÇÕES DO LITELLM
# ========================================
litellm_settings:
  drop_params: true
  set_verbose: false
  success_callback: []
  failure_callback: []
  request_timeout: 45
  num_retries: 3
  fallbacks: 
    - {"qwen-coder": ["deepseek-r1"]}
  context_window_fallbacks:
    - {"qwen-coder": ["deepseek-r1"]}
  
# ========================================
# CONFIGURAÇÕES GERAIS DO SERVIDOR
# ========================================
general_settings:
  master_key: sk-litellm-proxy-2025  # Chave para autenticação (opcional)
  database_url: null  # Sem database para simplicidade
  ui_username: admin
  ui_password: admin123
  enable_pre_call_checks: true
  enable_experimental_features: false
  
# ========================================
# VARIÁVEIS DE AMBIENTE ESPERADAS
# ========================================
environment_variables:
  OPENROUTER_API_KEY: "sua_chave_openrouter_aqui"
  OR_SITE_URL: "https://github.com/your-username/ea-scalper-xauusd"  # Opcional
  OR_APP_NAME: "EA Scalper Trading Assistant"  # Opcional
